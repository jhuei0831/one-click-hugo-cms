[{"categories":["CODE"],"content":"ä½¿ç”¨MySQLå®ŒæˆYii2 app basicå°ˆæ¡ˆç™»å…¥ç¯„ä¾‹","date":"2023-01-08","objectID":"/yii2-basic-auth-login/","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/"},{"categories":["CODE"],"content":" ä½¿ç”¨MySQLå®ŒæˆYii2 app basicå°ˆæ¡ˆç™»å…¥ç¯„ä¾‹ ","date":"2023-01-08","objectID":"/yii2-basic-auth-login/:0:0","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/#"},{"categories":["CODE"],"content":"\rå‰è¨€å¦‚æœä½¿ç”¨Yii2å®˜æ–¹çš„basicç¯„ä¾‹ï¼Œæœƒç™¼ç¾åœ¨ç™»å…¥é€™ä¸€å¡Šç¯„ä¾‹æŠŠå¸³è™Ÿå¯†ç¢¼hardcodeåœ¨ç¨‹å¼ç¢¼ä¸­ï¼Œè€Œæ²’æœ‰ä½¿ç”¨è³‡æ–™åº«ã€‚ æ‰€ä»¥é€™ç¯‡å°‡æŠŠè³‡æ–™åº«æ–¹æ³•åŠ å…¥basicå°ˆæ¡ˆï¼Œå¯¦ç¾ç™»å…¥é©—è­‰ã€‚ ","date":"2023-01-08","objectID":"/yii2-basic-auth-login/:1:0","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/#å‰è¨€"},{"categories":["CODE"],"content":"\rå»ºç«‹ä½¿ç”¨è€…è³‡æ–™è¡¨æœ¬æ¬¡ä»‹ç´¹ä½¿ç”¨çš„è³‡æ–™åº«æ˜¯MySQLï¼Œä»¥ä¸‹ä½¿ç”¨migrationæ–¹å¼å»ºç«‹usersè³‡æ–™è¡¨ã€‚ php yii migrate/create create_users_table \u003c?php use yii\\db\\Migration; /** * Handles the creation of table `{{ %users }}`. */ class m230108_122442_create_users_table extends Migration { /** * {@inheritdoc} */ public function safeUp() { // create table $this-\u003ecreateTable('{{ %users }}', [ 'id' =\u003e $this-\u003eprimaryKey(), 'name' =\u003e $this-\u003estring(50)-\u003enotNull()-\u003ecomment('åç¨±'), 'email' =\u003e $this-\u003estring(50)-\u003enotNull()-\u003ecomment('é›»å­éƒµä»¶'), 'password' =\u003e $this-\u003estring(200)-\u003enotNull()-\u003ecomment('å¯†ç¢¼'), 'auth_key' =\u003e $this-\u003estring(50)-\u003enotNull()-\u003ecomment('é‡‘é‘°'), 'created_at' =\u003e $this-\u003edateTime()-\u003enotNull()-\u003edefaultExpression('CURRENT_TIMESTAMP')-\u003ecomment('å»ºç«‹æ™‚é–“'), 'updated_at' =\u003e $this-\u003edateTime()-\u003enull()-\u003eappend('ON UPDATE CURRENT_TIMESTAMP')-\u003ecomment('ä¿®æ”¹æ™‚é–“'), ]); // seed some default data Yii::$app-\u003edb-\u003ecreateCommand()-\u003ebatchInsert('users', ['name', 'email', 'password', 'auth_key'], [ [ 'admin', 'admin@example.com', Yii::$app-\u003egetSecurity()-\u003egeneratePasswordHash('admin'), Yii::$app-\u003egetSecurity()-\u003egenerateRandomString(), ], [ 'guest', 'guest@example.com', Yii::$app-\u003egetSecurity()-\u003egeneratePasswordHash('guest'), Yii::$app-\u003egetSecurity()-\u003egenerateRandomString(), ], ], )-\u003eexecute(); } /** * {@inheritdoc} */ public function safeDown() { $this-\u003edropTable('{{ %users }}'); } } å®Œæˆè³‡æ–™è¡¨å»ºç«‹: php yii migrate ","date":"2023-01-08","objectID":"/yii2-basic-auth-login/:2:0","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/#å»ºç«‹ä½¿ç”¨è€…è³‡æ–™è¡¨"},{"categories":["CODE"],"content":"\rå»ºç«‹Usersæ¨¡å‹(model)åŸºæœ¬ä¸Šä½¿ç”¨giiå»ºç«‹ï¼Œåœ¨æ­¤å°±ä¸è´…è¿°å»ºç«‹æµç¨‹ã€‚ å»ºç«‹å®Œæˆå¾Œä¸€å®šè¦åŠ å…¥IdentityInterfaceä»‹é¢ï¼Œç„¶å¾Œåœ¨æ¨¡å‹åº•ä¸‹åŠ å…¥å¹¾å€‹å‡½å¼: findByUsername : åœ¨ LoginForm æ¨¡å‹ä¸­æ‰¾ä½¿ç”¨è€…è³‡æ–™ç”¨ã€‚ validatePassword : é©—è­‰å¯†ç¢¼ã€‚ findIdentity : æ ¹æ“šç»™åˆ°çš„IDæŸ¥è©¢èº«åˆ†ã€‚ findIdentityByAccessToken : æ ¹æ“š token æŸ¥è©¢èº«ä»½ã€‚ getId : å–å¾—ä½¿ç”¨è€…idã€‚ getAuthKey : ç•¶å‰ç”¨æˆ¶çš„ï¼ˆcookieï¼‰èªè­‰é‡‘é‘°ã€‚ validateAuthKey : é©—è­‰é‡‘é‘°ã€‚ å…¶ä¸­çš„ findIdentityã€findIdentityByAccessTokenã€getIdã€getAuthKeyåŠvalidateAuthKeyéƒ½æ˜¯IdentityInterfaceå¿…é ˆåŒ…å«çš„å‡½å¼ã€‚\r\u003c?php namespace app\\models; use Yii; use yii\\db\\ActiveRecord; use yii\\helpers\\VarDumper; use yii\\web\\IdentityInterface; use yii\\behaviors\\TimestampBehavior; /** * This is the model class for table \"users\". * * @property int $id * @property string $name * @property string $email * @property string $password * @property string $auth_key * @property datetime $created_at * @property datetime $updated_at */ class Users extends ActiveRecord implements IdentityInterface { /** * {@inheritdoc} */ public static function tableName() { return 'users'; } /** * {@inheritdoc} */ public function rules() { return [ [['name', 'email', 'password', 'auth_key'], 'required'], [['name', 'email', 'auth_key'], 'string', 'max' =\u003e 50], [['password'], 'string', 'max' =\u003e 200], [['email'], 'unique'], [['auth_key'], 'unique'], ]; } /** * {@inheritdoc} */ public function attributeLabels() { return [ 'id' =\u003e 'ID', 'name' =\u003e 'Name', 'email' =\u003e 'Email', 'password' =\u003e 'Password', 'auth_key' =\u003e 'auth_key', ]; } /** * ä½¿ç”¨ä½¿ç”¨è€…åç¨±å°‹æ‰¾å¸³è™Ÿè³‡æ–™ * * @param string $username * @return static|null */ public static function findByUsername($username) { $user = static::findOne(['name' =\u003e $username]); if (isset($user)) { return $user; } return null; } /** * é©—è­‰å¯†ç¢¼ * * @param string $password password to validate * @return bool if password provided is valid for current user */ public function validatePassword($password) { return Yii::$app-\u003egetSecurity()-\u003evalidatePassword($password, $this-\u003epassword); } /** * æ ¹æ“šç»™åˆ°çš„IDæŸ¥è©¢èº«åˆ†ã€‚ * * @param string|integer $id è¢«æŸ¥è©¢çš„ID * @return IdentityInterface|null é€šè¿‡IDæ¯”å°åˆ°çš„èº«åˆ†å°è±¡ */ public static function findIdentity($id) { return static::findOne($id); } /** * æ ¹æ“š token æŸ¥è©¢èº«ä»½ã€‚ * * @param string $token è¢«æŸ¥è©¢çš„ token * @return IdentityInterface|null é€šé token å¾—åˆ°çš„èº«åˆ†å°è±¡ */ public static function findIdentityByAccessToken($token, $type = null) { return static::findOne(['access_token' =\u003e $token]); } /** * @return int|string ç•¶å‰ç”¨æˆ·ID */ public function getId() { return $this-\u003eid; } /** * @return string ç•¶å‰ç”¨æˆ¶çš„ï¼ˆcookieï¼‰èªè­‰é‡‘é‘° */ public function getAuthKey() { return $this-\u003eauth_key; } /** * @param string $authKey * @return boolean if auth key is valid for current user */ public function validateAuthKey($authKey) { return $this-\u003egetAuthKey() === $authKey; } } ","date":"2023-01-08","objectID":"/yii2-basic-auth-login/:3:0","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/#å»ºç«‹usersæ¨¡å‹model"},{"categories":["CODE"],"content":"\rä¿®æ”¹LoginFormæ¨¡å‹ \u003c?php namespace app\\models; use Yii; use yii\\base\\Model; /** * LoginForm is the model behind the login form. * * @property-read User|null $user * */ class LoginForm extends Model { public $username; public $password; public $rememberMe = true; private $_user = false; /** * @return array the validation rules. */ public function rules() { return [ // username and password are both required [['username', 'password'], 'required'], // rememberMe must be a boolean value ['rememberMe', 'boolean'], // password is validated by validatePassword() ['password', 'validatePassword'], ]; } /** * Validates the password. * This method serves as the inline validation for password. * * @param string $attribute the attribute currently being validated * @param array $params the additional name-value pairs given in the rule */ public function validatePassword($attribute, $params) { if (!$this-\u003ehasErrors()) { $user = $this-\u003egetUser(); if (!$user || !$user-\u003evalidatePassword($this-\u003epassword)) { $this-\u003eaddError($attribute, 'Incorrect username or password.'); } } } /** * Logs in a user using the provided username and password. * @return bool whether the user is logged in successfully */ public function login() { if ($this-\u003evalidate()) { return Yii::$app-\u003euser-\u003elogin($this-\u003egetUser(), $this-\u003erememberMe ? 3600*24*30 : 0); } return false; } /** * Finds user by [[username]] * * @return User|null */ public function getUser() { if ($this-\u003e_user === false) { $this-\u003e_user = Users::findByUsername($this-\u003eusername); } return $this-\u003e_user; } } ","date":"2023-01-08","objectID":"/yii2-basic-auth-login/:4:0","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/#ä¿®æ”¹loginformæ¨¡å‹"},{"categories":["CODE"],"content":"\rä¿®æ”¹config/web.php ...çœç•¥... 'user' =\u003e [ 'identityClass' =\u003e 'app\\models\\Users', 'enableAutoLogin' =\u003e true, ], ...çœç•¥... ","date":"2023-01-08","objectID":"/yii2-basic-auth-login/:5:0","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/#ä¿®æ”¹configwebphp"},{"categories":["CODE"],"content":"\rçµèªå®Œæˆä»¥ä¸Šæ­¥é©Ÿå¾Œå°±å¯ä»¥åœ¨http://localhost/basic/web/site/loginä¸­è¼¸å…¥admin/adminæˆ–guest/guesté€²è¡Œç™»å…¥ã€‚ å»¶ä¼¸é–±è®€Security ","date":"2023-01-08","objectID":"/yii2-basic-auth-login/:6:0","series":null,"tags":["php","yii","yii2","yii2-app-basic","auth","login"],"title":"Yii2 basic login auth with database","uri":"/yii2-basic-auth-login/#çµèª"},{"categories":["CODE"],"content":"å¼±é»æƒæã€æ»²é€æ¸¬è©¦æˆ–æºç¢¼æª¢æ¸¬ç¶²è·¯æ¼æ´é¢¨éšªä¿®è£œæ–¹æ³•åˆ†äº«","date":"2022-04-30","objectID":"/web-vulnerability-prevent/","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/"},{"categories":["CODE"],"content":" å¼±é»æƒæã€æ»²é€æ¸¬è©¦æˆ–æºç¢¼æª¢æ¸¬ç¶²è·¯æ¼æ´é¢¨éšªä¿®è£œæ–¹æ³•åˆ†äº« ","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:0:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#"},{"categories":["CODE"],"content":"\rå‰è¨€åˆ†äº«ä¸€äº›PHPæˆ–JSå¼±é»æƒæã€æ»²é€æ¸¬è©¦æˆ–æºç¢¼æª¢æ¸¬é‡åˆ°çš„é¢¨éšªè™•ç†æ–¹æ³•ã€‚ ","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:1:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#å‰è¨€"},{"categories":["CODE"],"content":"\rXSS 8.1ç‰ˆå‰å¯ä»¥ä½¿ç”¨ filter_var($variable, FILTER_SANITIZE_STRING) ï¼Œä½†æ˜¯FILTER_SANITIZE_STRINGåœ¨PHP8.1ç‰ˆè¢«æ£„ç”¨äº†ã€‚ ä½¿ç”¨htmlspecialchars($variable, ENT_QUOTES)(ä½¿ç”¨ENT_QUOTESç‚ºé›™å¼•è™Ÿèˆ‡å–®å¼•è™Ÿéƒ½è¦è½‰æ›)ã€‚ Info\rfilter_varæ˜¯ç›´æ¥æŠŠhtmlçš„tagçµ¦å»é™¤æ‰ï¼Œhtmlspecialcharsæ˜¯æŠŠç‰¹æ®Šå­—å…ƒè½‰æ›æˆç·¨ç¢¼ã€‚\r","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:2:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#xss"},{"categories":["CODE"],"content":"\rSQL Injection æ²»æœ¬æ–¹æ³•å°±æ˜¯ä½¿ç”¨PDOã€‚ ä½¿ç”¨addslashes()å¯ä»¥è§£æ±ºå¤§éƒ¨åˆ†å•é¡Œã€‚ ","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:3:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#sql-injection"},{"categories":["CODE"],"content":"\rPath Manipulationä½¿ç”¨realpath()éæ¿¾æ‰../ï¼Œä½¿ç”¨basename()å–å¾—æª”æ¡ˆåç¨±ã€‚ ","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:4:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#path-manipulation"},{"categories":["CODE"],"content":"\rCross-Site Scripting: DOMä½¿ç”¨jså°‡è³‡æ–™å‚³çµ¦ç‰©ä»¶æ™‚ï¼Œä¸è¦ä½¿ç”¨innerHTMLï¼Œä½¿ç”¨innerTextã€‚ ","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:5:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#cross-site-scripting-dom"},{"categories":["CODE"],"content":"\rPassword Management: Hardcoded Passwordä¸è¦å°‡å¯†ç¢¼ç›´æ¥æ‰“åœ¨ç¨‹å¼ç¢¼ä¸Šï¼Œå¯ä»¥ä½¿ç”¨dotenv ","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:6:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#password-management-hardcoded-password"},{"categories":["CODE"],"content":"\rInsecure Randomnessä½¿ç”¨random_int()ï¼Œé€™å€‹å‡½æ•¸ç”¢ç”Ÿã€‚ ","date":"2022-04-30","objectID":"/web-vulnerability-prevent/:7:0","series":null,"tags":["php","javascript","Vulnerability Assessment","Penetration Test","Source Code Analysis"],"title":"Web Vulnerability Prevent","uri":"/web-vulnerability-prevent/#insecure-randomness"},{"categories":["CODE"],"content":"é˜¿é‡Œé›²ECSä½¿ç”¨XAMPPç’°å¢ƒå»ºLaravel","date":"2021-01-11","objectID":"/set-pp-xampp-laravel-in-ali-ecs/","series":null,"tags":["php","laravel","alibaba","ECS","XAMPP","composer"],"title":"Set Up XAMPP Laravel in Ali ECS","uri":"/set-pp-xampp-laravel-in-ali-ecs/"},{"categories":["CODE"],"content":" é˜¿é‡Œé›²ECSä½¿ç”¨XAMPPç’°å¢ƒå»ºLaravel ","date":"2021-01-11","objectID":"/set-pp-xampp-laravel-in-ali-ecs/:0:0","series":null,"tags":["php","laravel","alibaba","ECS","XAMPP","composer"],"title":"Set Up XAMPP Laravel in Ali ECS","uri":"/set-pp-xampp-laravel-in-ali-ecs/#"},{"categories":["CODE"],"content":"\rå‰è¨€ç©é AWS EC2 è·ŸGAEï¼Œä¾†ç©çœ‹çœ‹é˜¿é‡Œé›²ã€‚ ","date":"2021-01-11","objectID":"/set-pp-xampp-laravel-in-ali-ecs/:1:0","series":null,"tags":["php","laravel","alibaba","ECS","XAMPP","composer"],"title":"Set Up XAMPP Laravel in Ali ECS","uri":"/set-pp-xampp-laravel-in-ali-ecs/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. å®‰è£XAMPPåˆ°XAMPPå®˜ç¶²ä¸‹è¼‰ä½ è¦çš„Linuxç‰ˆæœ¬çš„XAMPPï¼Œ æ¥è‘—æŠŠä¸‹è¼‰å®Œæˆçš„æª”æ¡ˆæ”¾åˆ° /opt/ åº•ä¸‹ï¼Œæ¥è‘—é‹è¡Œä¸‹é¢æŒ‡ä»¤: cd /opt chmod 755 xampp-linux-*-installer.run sudo ./xampp-linux-*-installer.run å®‰è£å®Œæˆå¾Œï¼Œå¯ä»¥ä½¿ç”¨CURLæ¸¬è©¦ä¸€ä¸‹: curl -L http://localhost æˆåŠŸå¾Œæ¥è‘—å°±åœ¨ç€è¦½å™¨è¼¸å…¥ http://å…¬ç¶²ï¼Œå‡ºç¾ä»¥ä¸‹ç•«é¢è¡¨ç¤ºæˆåŠŸã€‚ xampp\rå¦‚æœå¤±æ•—çš„è©±ï¼Œæœ‰å¯èƒ½æ˜¯ECSçš„80 portæ²’æœ‰é–‹ï¼Œé€™æ™‚å€™å°±è¦åˆ° ç¶²è·¯èˆ‡å®‰å…¨/å®‰å…¨æ€§ç¾¤çµ„/è¨­å®šè¦å‰‡/å¿«é€Ÿå»ºç«‹è¦å‰‡ åŠ å…¥80 port æˆ–å…¶ä»–ä½ æƒ³é–‹çš„portã€‚ é€™æ¨£æ‡‰è©²å°±æ²’æœ‰å•é¡Œäº†!! ","date":"2021-01-11","objectID":"/set-pp-xampp-laravel-in-ali-ecs/:2:0","series":null,"tags":["php","laravel","alibaba","ECS","XAMPP","composer"],"title":"Set Up XAMPP Laravel in Ali ECS","uri":"/set-pp-xampp-laravel-in-ali-ecs/#1-å®‰è£xampp"},{"categories":["CODE"],"content":"\r2. å»ºç«‹Laravelå…ˆå®‰è£ composer apt install composer æ¥è‘—åœ¨ /opt/lampp/htdocs/ åº•ä¸‹å»ºç«‹ Laravel å°ˆæ¡ˆ (å¯ä»¥çœ‹é€™ç¯‡) è¨­å®šè³‡æ–™å¤¾æ¬Šé™: cd /å°ˆæ¡ˆåç¨± sudo chmod -R 775 storage sudo chmod -R 775 bootstrap/cache å› ç‚ºLaravelå°ˆæ¡ˆé¦–é æ˜¯åœ¨ å°ˆæ¡ˆ/public åº•ä¸‹ï¼Œæ‰€ä»¥è¦å» apacheè¨­å®šï¼Œ æ‰“é–‹ /opt/lampp/etc/extra/httpd-vhosts.confä¸­åŠ å…¥: \u003cVirtualHost /å°ˆæ¡ˆåç¨±:80\u003e DocumentRoot \"/opt/lampp/htdocs/å°ˆæ¡ˆåç¨±/public\" ServerAdmin Admin \u003cDirectory \"/opt/lampp/htdocs/å°ˆæ¡ˆåç¨±\"\u003e Options All AllowOverride All Require all granted \u003c/Directory\u003e \u003c/VirtualHost\u003e å„²å­˜å¾Œé‡å•Ÿapache: /opt/lampp/lampp restart é‡å•Ÿå¾Œæ‰“é–‹ http://å…¬ç¶²/å°ˆæ¡ˆåç¨± æ‰“å®Œæ”¶å·¥ ","date":"2021-01-11","objectID":"/set-pp-xampp-laravel-in-ali-ecs/:3:0","series":null,"tags":["php","laravel","alibaba","ECS","XAMPP","composer"],"title":"Set Up XAMPP Laravel in Ali ECS","uri":"/set-pp-xampp-laravel-in-ali-ecs/#2-å»ºç«‹laravel"},{"categories":["CODE"],"content":"\rå¸¸è¦‹å•é¡Œ1. æ›¿æ›æ‰Linuxé è¨­çš„phpç‰ˆæœ¬ åŸ·è¡ŒæŒ‡ä»¤: sudo ln -s /opt/lampp/bin/php /usr/bin/php å¦‚æœå‡ºç¾éŒ¯èª¤ failed to create symbolic link '/usr/bin/php': File existsï¼Œå°±åŸ·è¡ŒæŒ‡ä»¤ sudo rm /usr/bin/php sudo ln -s /opt/lampp/bin/php /usr/bin/php 2. åŸ·è¡ŒComposeréŒ¯èª¤ å‡ºç¾éŒ¯èª¤ PHP Warning: require(Composer/autoload.php): failed to open stream åŸ·è¡ŒæŒ‡ä»¤: curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/bin --filename=composer 3. The stream or file â€laravel.logâ€œ could not be opened: failed to open stream: Permission denied è¨­å®šè³‡æ–™å¤¾æ¬Šé™: cd /å°ˆæ¡ˆåç¨± sudo chmod -R 775 storage sudo chmod -R 775 bootstrap/cache åƒè€ƒè³‡æ–™: https://www.cnblogs.com/jeacy/p/7132394.html https://askubuntu.com/questions/563972/how-to-link-to-php-from-xampp-installation-so-i-can-just-use-php-command-instead https://github.com/composer/composer/issues/5510 https://stackoverflow.com/questions/52178033/the-stream-or-file-laravel-log-could-not-be-opened-failed-to-open-stream-pe ","date":"2021-01-11","objectID":"/set-pp-xampp-laravel-in-ali-ecs/:4:0","series":null,"tags":["php","laravel","alibaba","ECS","XAMPP","composer"],"title":"Set Up XAMPP Laravel in Ali ECS","uri":"/set-pp-xampp-laravel-in-ali-ecs/#å¸¸è¦‹å•é¡Œ"},{"categories":["EXECUTION"],"content":"ä½¿ç”¨TCPDFçš„addTTFfontåŠ å…¥å­—å‹å•é¡Œ","date":"2020-11-13","objectID":"/tcpdf-addfont/","series":null,"tags":["php","tcpdf","pdf","font","addfont"],"title":"TCPDF addTTFfont Problem","uri":"/tcpdf-addfont/"},{"categories":["EXECUTION"],"content":" ä½¿ç”¨TCPDFçš„addTTFfontåŠ å…¥å­—å‹å•é¡Œ ","date":"2020-11-13","objectID":"/tcpdf-addfont/:0:0","series":null,"tags":["php","tcpdf","pdf","font","addfont"],"title":"TCPDF addTTFfont Problem","uri":"/tcpdf-addfont/#"},{"categories":["EXECUTION"],"content":"\rå‰è¨€å¦‚æœä»Šå¤©ä½ æ˜¯ä½¿ç”¨TCPDFçš„äººï¼Œè¦åŠ å…¥å¤–éƒ¨å­—å‹çš„æ™‚å€™æœƒä½¿ç”¨åˆ°addTTFfonté€™å€‹å‡½å¼ï¼›ä½†å¦‚æœç…§è‘—å®˜ç¶²ä¸ŠDocsçš„æ–¹æ³•ä¾†åŠ å…¥æŸäº›ä¸­æ–‡å­—å‹ï¼Œä½œæ³•å¦‚ä¸‹: $fontname = $pdf-\u003eaddTTFfont('/path-to-font/DejaVuSans.ttf', 'TrueTypeUnicode', '', 32); æœƒç™¼ç¾åœ¨ä½¿ç”¨Adobe Acrobat Reader DC æ‰“é–‹æª”æ¡ˆæ™‚æœƒå‡ºç¾ä»¥ä¸‹éŒ¯èª¤è¨Šæ¯: font\rç„¶å¾Œä½ çš„å­—å°±æ²’è¾¦æ³•é¡¯ç¤ºï¼Œå¯æ˜¯åœ¨ç¶²é ä¸Šæ‰“é–‹PDFæª”æ¡ˆåˆå¯ä»¥ğŸ˜±ğŸ˜± ","date":"2020-11-13","objectID":"/tcpdf-addfont/:1:0","series":null,"tags":["php","tcpdf","pdf","font","addfont"],"title":"TCPDF addTTFfont Problem","uri":"/tcpdf-addfont/#å‰è¨€"},{"categories":["EXECUTION"],"content":"\rè§£æ±ºæ–¹æ³•ä»¥ä¸‹æ˜¯addTTFfontçš„å‡½å¼: public static function addTTFfont($fontfile, $fonttype='', $enc='', $flags=32, $outpath='', $platid=3, $encid=1, $addcbbox=false, $link=false) { .... } åœ¨å®˜æ–¹æ–‡æª”ä¸­ä»–å€‘æåˆ°äº†ä»¥ä¸‹: ä¿¡æ¯\rConvert a font for TCPDF\rUsing the addTTFfont() method you can directly create a TCPDF font starting from a TrueType, OpenType or Type1 font.\rNOTE: The â€˜fontsâ€™ folder must be writeable by the webserver.\ré€™æ™‚å€™ä½ å°±æœƒåœ¨$fonttypeçš„ä½ç½®å‚»å‚»çš„å¡«å…¥ TrueTypeã€Type1ä»¥åŠ TrueTypeUnicodeï¼Œç„¶å¾Œå°±ç™¼ç”Ÿå‰è¨€çš„æ‚²åŠ‡ã€‚ å¯æ˜¯å¤©æ®ºçš„ä»–å€‘ä¸¦æ²’æœ‰æåˆ°é‚„æœ‰ä»¥ä¸‹é€™å¹¾å€‹åƒæ•¸å¯ä»¥å¡«: CID0JP = CID-0 Japanese CID0KR = CID-0 Korean CID0CS = CID-0 Chinese Simplified CID0CT = CID-0 Chinese Traditional æ‰€ä»¥ä½ åªè¦æ ¹æ“šä½ å°æ‡‰çš„å­—å‹èªç³»ä¾†ä½¿ç”¨ä¸Šè¿°åƒæ•¸ï¼Œä½ åœ¨ä½¿ç”¨Adobe Acrobat Reader DC æ‰“é–‹æª”æ¡ˆå¾Œå°±ä¸æœƒå ±éŒ¯äº†ã€‚ ","date":"2020-11-13","objectID":"/tcpdf-addfont/:2:0","series":null,"tags":["php","tcpdf","pdf","font","addfont"],"title":"TCPDF addTTFfont Problem","uri":"/tcpdf-addfont/#è§£æ±ºæ–¹æ³•"},{"categories":["EXECUTION"],"content":"\rå¾Œè©±æ˜¯æ€éº¼ç™¼ç¾é‚„æœ‰é‚£å¹¾ç¨®åƒæ•¸å¯ä»¥ä½¿ç”¨çš„? å°±æ˜¯åˆ° TCPDF/include/tcpdf_fonts.php è£¡é¢çœ‹source codeï¼Œé‚„å¥½ä»–è¨»è§£æœ‰å¯«ğŸ˜‚ ä»¥ä¸‹æ˜¯ä»–çš„è¨»è§£ï¼Œæœ‰èˆˆè¶£çš„å¯ä»¥åƒè€ƒ: /** * Convert and add the selected TrueType or Type1 font to the fonts folder (that must be writeable). * @param $fontfile (string) Font file (full path). * @param $fonttype (string) Font type. Leave empty for autodetect mode. Valid values are: TrueTypeUnicode, TrueType, Type1, CID0JP = CID-0 Japanese, CID0KR = CID-0 Korean, CID0CS = CID-0 Chinese Simplified, CID0CT = CID-0 Chinese Traditional. * @param $enc (string) Name of the encoding table to use. Leave empty for default mode. Omit this parameter for TrueType Unicode and symbolic fonts like Symbol or ZapfDingBats. * @param $flags (int) Unsigned 32-bit integer containing flags specifying various characteristics of the font (PDF32000:2008 - 9.8.2 Font Descriptor Flags): +1 for fixed font; +4 for symbol or +32 for non-symbol; +64 for italic. Fixed and Italic mode are generally autodetected so you have to set it to 32 = non-symbolic font (default) or 4 = symbolic font. * @param $outpath (string) Output path for generated font files (must be writeable by the web server). Leave empty for default font folder. * @param $platid (int) Platform ID for CMAP table to extract (when building a Unicode font for Windows this value should be 3, for Macintosh should be 1). * @param $encid (int) Encoding ID for CMAP table to extract (when building a Unicode font for Windows this value should be 1, for Macintosh should be 0). When Platform ID is 3, legal values for Encoding ID are: 0=Symbol, 1=Unicode, 2=ShiftJIS, 3=PRC, 4=Big5, 5=Wansung, 6=Johab, 7=Reserved, 8=Reserved, 9=Reserved, 10=UCS-4. * @param $addcbbox (boolean) If true includes the character bounding box information on the php font file. * @param $link (boolean) If true link to system font instead of copying the font data (not transportable) - Note: do not work with Type1 fonts. * @return (string) TCPDF font name or boolean false in case of error. * @author Nicola Asuni * @since 5.9.123 (2010-09-30) * @public static */ public static function addTTFfont($fontfile, $fonttype='', $enc='', $flags=32, $outpath='', $platid=3, $encid=1, $addcbbox=false, $link=false) ","date":"2020-11-13","objectID":"/tcpdf-addfont/:3:0","series":null,"tags":["php","tcpdf","pdf","font","addfont"],"title":"TCPDF addTTFfont Problem","uri":"/tcpdf-addfont/#å¾Œè©±"},{"categories":["CODE"],"content":"Laravelä¸€äº›å¯¦ç”¨å°æŠ€å·§æˆ–èªæ³•","date":"2020-10-21","objectID":"/laravel-tips/","series":null,"tags":["laravel","php","tips"],"title":"Laravel Tips","uri":"/laravel-tips/"},{"categories":["CODE"],"content":" Laravelä¸€äº›å¯¦ç”¨å°æŠ€å·§æˆ–èªæ³• ","date":"2020-10-21","objectID":"/laravel-tips/:0:0","series":null,"tags":["laravel","php","tips"],"title":"Laravel Tips","uri":"/laravel-tips/#"},{"categories":["CODE"],"content":"\rURL å–å¾—ç¶²åŸŸåç¨±(Domain nameï¼Œå¦‚:www.example.com) Request::getHost(); å–å¾—å‚³è¼¸å”å®š+Domainç¶²å€(å¦‚:http://www.example.com) Request::root(); åœ¨ç¶²å€ http://localhost:8000/users/{id}?int=95 ä¸­å–å¾—idæˆ–intçš„å€¼ request()-\u003eid; request()-\u003eint; ","date":"2020-10-21","objectID":"/laravel-tips/:1:0","series":null,"tags":["laravel","php","tips"],"title":"Laravel Tips","uri":"/laravel-tips/#url"},{"categories":["CODE"],"content":"ä½¿ç”¨cURLå»æ¥åˆ¥äººçš„API","date":"2020-10-09","objectID":"/php-curl-api/","series":null,"tags":["php","curl","api"],"title":"PHP cURL API (POST \u0026 GET)","uri":"/php-curl-api/"},{"categories":["CODE"],"content":" ä½¿ç”¨cURLå»æ¥åˆ¥äººçš„API ","date":"2020-10-09","objectID":"/php-curl-api/:0:0","series":null,"tags":["php","curl","api"],"title":"PHP cURL API (POST \u0026 GET)","uri":"/php-curl-api/#"},{"categories":["CODE"],"content":"\r1. cURLhttps://www.php.net/manual/en/book.curl.php ä½¿ç”¨cURLæ”¯æ´HTTP Authorization ã€POSTçš„ç‰¹æ€§å»æ¥åˆ¥äººçš„API ","date":"2020-10-09","objectID":"/php-curl-api/:1:0","series":null,"tags":["php","curl","api"],"title":"PHP cURL API (POST \u0026 GET)","uri":"/php-curl-api/#1-curl"},{"categories":["CODE"],"content":"\r2. POSTé¦–å…ˆè¦çœ‹OASæ–‡ä»¶å»æ±ºå®šè¦ç”¨å“ªç¨®æ–¹å¼å»å‚³é€æˆ–æ¥æ”¶è³‡æ–™ï¼Œä»¥ä¸‹æ˜¯POSTçš„æ–¹æ³•ï¼Œ //init curl $ch = curl_init(); //curl_setoptå¯ä»¥è¨­å®šcurlåƒæ•¸ //CURLOPT_RETURNTRANSFERç‚ºtrueçš„è©±ï¼Œcurlåªæœƒå°‡çµæœå‚³å›ï¼Œä¸¦ä¸æœƒè¼¸å‡ºåœ¨ç•«é¢ä¸Š curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); //è¨­å®šurl curl_setopt($ch , CURLOPT_URL , \"http://www.API.com/API\"); //è¨­å®šheader curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-type: application/x-www-form-urlencoded')); //å•Ÿç”¨POST curl_setopt($ch, CURLOPT_POST, true); //å‚³å…¥POSTåƒæ•¸ curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query( array( \"ID\"=\u003e\"TESTID\") )); //åŸ·è¡Œï¼Œä¸¦å°‡çµæœå­˜å› $result = curl_exec($ch); //é—œé–‰é€£ç·š curl_close($ch); å¯ä»¥æ ¹æ“šå›å‚³çš„è³‡æ–™å†å»åšè™•ç†ã€‚ ","date":"2020-10-09","objectID":"/php-curl-api/:2:0","series":null,"tags":["php","curl","api"],"title":"PHP cURL API (POST \u0026 GET)","uri":"/php-curl-api/#2-post"},{"categories":["CODE"],"content":"\r3. GET //init curl $ch = curl_init(); //curl_setoptå¯ä»¥è¨­å®šcurlåƒæ•¸ //è¨­å®šurl curl_setopt($ch , CURLOPT_URL , \"http://www.API.com/API?ID=TESTID\"); //è¨­å®šAGENT curl_setopt($ch, CURLOPT_USERAGENT, \"API Bot\"); //åŸ·è¡Œï¼Œä¸¦å°‡çµæœå­˜å› $result = curl_exec($ch); //é—œé–‰é€£ç·š curl_close($ch); ","date":"2020-10-09","objectID":"/php-curl-api/:3:0","series":null,"tags":["php","curl","api"],"title":"PHP cURL API (POST \u0026 GET)","uri":"/php-curl-api/#3-get"},{"categories":["CODE"],"content":"ä½¿ç”¨Pusheråœ¨Laravelçš„äº‹ä»¶ä¸­åšå‡ºå»£æ’­åŠŸèƒ½","date":"2020-10-04","objectID":"/laravel-event-pusher/","series":null,"tags":["php","html","laravel","pusher","event"],"title":"Laravel Event - Pusher","uri":"/laravel-event-pusher/"},{"categories":["CODE"],"content":" ä½¿ç”¨Pusheråœ¨Laravelçš„äº‹ä»¶ä¸­åšå‡ºå»£æ’­åŠŸèƒ½ ","date":"2020-10-04","objectID":"/laravel-event-pusher/:0:0","series":null,"tags":["php","html","laravel","pusher","event"],"title":"Laravel Event - Pusher","uri":"/laravel-event-pusher/#"},{"categories":["CODE"],"content":"\rå‰è¨€ä½¿ç”¨Pusheråœ¨Laravelä¸­åšå‡ºè¨Šæ¯å»£æ’­çš„åŠŸèƒ½ã€‚ ","date":"2020-10-04","objectID":"/laravel-event-pusher/:1:0","series":null,"tags":["php","html","laravel","pusher","event"],"title":"Laravel Event - Pusher","uri":"/laravel-event-pusher/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. Pusheråˆ°Pusherå®˜ç¶²å»ºç«‹å¸³è™Ÿå¾Œï¼Œå»ºç«‹ä¸€å€‹Channel: Clusteré¸æ“‡ap3 Backendé¸æ“‡Laravel å»ºç«‹å®Œæˆå¾Œå°±åˆ°https://dashboard.pusher.com/apps é»æ“Šå‰›å‰›å»ºç«‹çš„Channelï¼Œæ¥è‘—é»é¸å·¦é‚Šçš„Getting Startedã€‚ æ‰¾åˆ°STEP 2 çš„åœ°æ–¹ï¼Œå®‰è£pusherï¼Œåœ¨ä½ çš„laravelå°ˆæ¡ˆåº•ä¸‹åŸ·è¡Œ: composer require pusher/pusher-php-server æ¥è‘—åœ¨ä½ çš„.envæª”æ¡ˆä¸­å°‡PUSHER_APP_IDã€PUSHER_APP_KEYã€PUSHER_APP_SECRETå¡«å…¥ï¼Œ PUSHER_APP_CLUSTERå¡«å…¥ap3ã€‚ é‡é»æ˜¯ BROADCAST_DRIVER=pusherã€‚ ","date":"2020-10-04","objectID":"/laravel-event-pusher/:2:0","series":null,"tags":["php","html","laravel","pusher","event"],"title":"Laravel Event - Pusher","uri":"/laravel-event-pusher/#1-pusher"},{"categories":["CODE"],"content":"\r2. å»ºç«‹äº‹ä»¶æ‰“é–‹ app/Providers/EventServiceProvider.phpï¼Œåœ¨listenä¸­åŠ å…¥: 'App\\Events\\TestPusher' =\u003e [ 'App\\Listeners\\SendMessageNotification', ], æ‰“é–‹cmdï¼Œåœ¨ä½ çš„laravelå°ˆæ¡ˆåº•ä¸‹åŸ·è¡Œ: php artisan event:generate æ¥è‘—æ‰“é–‹å‰›å‰›å»ºç«‹çš„äº‹ä»¶ app/Events/TestPusher.php ï¼Œå°‡å…§å®¹æ”¹ç‚º: \u003c?php namespace App\\Events; use Illuminate\\Broadcasting\\Channel; use Illuminate\\Broadcasting\\InteractsWithSockets; use Illuminate\\Broadcasting\\PresenceChannel; use Illuminate\\Broadcasting\\PrivateChannel; use Illuminate\\Contracts\\Broadcasting\\ShouldBroadcast; use Illuminate\\Foundation\\Events\\Dispatchable; use Illuminate\\Queue\\SerializesModels; class TestPusher implements ShouldBroadcast { use Dispatchable, InteractsWithSockets, SerializesModels; public $message; public function __construct($message) { $this-\u003emessage = $message; } public function broadcastOn() { return ['my-channel']; } public function broadcastAs() { return 'my-event'; } } ","date":"2020-10-04","objectID":"/laravel-event-pusher/:3:0","series":null,"tags":["php","html","laravel","pusher","event"],"title":"Laravel Event - Pusher","uri":"/laravel-event-pusher/#2-å»ºç«‹äº‹ä»¶"},{"categories":["CODE"],"content":"\r3. äº‹ä»¶å‚³é€åœ¨viewsåº•ä¸‹å»ºç«‹è¦–åœ–pusher.blade.phpï¼Œcodeç‚ºpusher Getting Started çš„STEP 1ã€‚ web.php: \u003c?php use Illuminate\\Support\\Facades\\Route; use App\\Events\\TestPusher; Route::get('/', function () { return view('welcome'); }); Route::get('/pusher', function () { return view('pusher'); }); Route::get('/pusher_test', function () { event(new TestPusher('hello world')); }); æ‰“é–‹å…©å€‹åˆ†é  /pusher å’Œ /pusher_test ï¼Œæ‰“é–‹pusher_testçš„åŒæ™‚ï¼Œpusheré¡¯ç¤ºäº†è¨Šæ¯Hello worldã€‚ å»¶ä¼¸é–±è®€Security ","date":"2020-10-04","objectID":"/laravel-event-pusher/:4:0","series":null,"tags":["php","html","laravel","pusher","event"],"title":"Laravel Event - Pusher","uri":"/laravel-event-pusher/#3-äº‹ä»¶å‚³é€"},{"categories":["CODE"],"content":"Laravel åŒ¯å‡ºåŸºç¤ç¯‡ - Basic Laravel Export","date":"2020-07-07","objectID":"/laravel-excel-export-basic/","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/"},{"categories":["CODE"],"content":" Laravel åŒ¯å‡ºåŸºç¤ç¯‡ - Basic Laravel Export ","date":"2020-07-07","objectID":"/laravel-excel-export-basic/:0:0","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/#"},{"categories":["CODE"],"content":"\rå‰è¨€å¦‚ä½•ä½¿ç”¨ Laravel Excel é€™å€‹å¥—ä»¶ä¾†å¯¦ç¾åŒ¯å‡ºçš„åŠŸèƒ½ï¼Œä»¥ä½¿ç”¨è€…è³‡æ–™åŒ¯å‡ºç‚ºç¯„ä¾‹ã€‚ ","date":"2020-07-07","objectID":"/laravel-excel-export-basic/:1:0","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. Laravel Excel å®‰è£å®‰è£éœ€æ±‚ : PHP: ^7.0 Laravel: ^5.5 PhpSpreadsheet: ^1.6 PHP extension php_zip enabled PHP extension php_xml enabled PHP extension php_gd2 enabled PHP extension php_iconv enabled PHP extension php_simplexml enabled PHP extension php_xmlreader enabled PHP extension php_zlib enabled A. åŸ·è¡Œå®‰è£æŒ‡ä»¤ : composer require maatwebsite/excel B. åœ¨ config/app.php ä¸­åŠ å…¥ : 'providers' =\u003e [ ... Maatwebsite\\Excel\\ExcelServiceProvider::class, ] 'aliases' =\u003e [ ... 'Excel' =\u003e Maatwebsite\\Excel\\Facades\\Excel::class, ] C. å°‡ excel.php ä¸Ÿåˆ° config åº•ä¸‹ : php artisan vendor:publish --provider=\"Maatwebsite\\Excel\\ExcelServiceProvider\" ","date":"2020-07-07","objectID":"/laravel-excel-export-basic/:2:0","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/#1-laravel-excel-å®‰è£"},{"categories":["CODE"],"content":"\r2. å»ºç«‹åŒ¯å‡ºModelå…ˆå»ºç«‹ app/Exports ã€‚ åŸ·è¡ŒæŒ‡ä»¤ : php artisan make:export UsersExport --model=User UsersExport.php : \u003c?php namespace App\\Exports; use App\\User; use Maatwebsite\\Excel\\Concerns\\FromCollection; class UsersExport implements FromCollection { public function collection() { return User::all(); } } ","date":"2020-07-07","objectID":"/laravel-excel-export-basic/:3:0","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/#2-å»ºç«‹åŒ¯å‡ºmodel"},{"categories":["CODE"],"content":"\r3. å»ºç«‹ControlleråŸ·è¡ŒæŒ‡ä»¤ : php artisan make:controller UsersController UsersController.php : \u003c?php namespace App\\Http\\Controllers; use App\\Exports\\UsersExport; use Maatwebsite\\Excel\\Facades\\Excel; class UsersController extends Controller { public function export() { return Excel::download(new UsersExport, 'users.xlsx'); } } ","date":"2020-07-07","objectID":"/laravel-excel-export-basic/:4:0","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/#3-å»ºç«‹controller"},{"categories":["CODE"],"content":"\r4. å»ºç«‹è·¯ç”±web.php Route::get('users/export/', 'UsersController@export'); ","date":"2020-07-07","objectID":"/laravel-excel-export-basic/:5:0","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/#4-å»ºç«‹è·¯ç”±"},{"categories":["CODE"],"content":"\r5. å–å¾—ä½¿ç”¨è€…åŒ¯å‡ºè³‡æ–™ php artisan serve ç¶²å€è¼¸å…¥: http://127.0.0.1:8000/users/export/ å–å¾—åŒ¯å‡ºæª”æ¡ˆã€‚ ","date":"2020-07-07","objectID":"/laravel-excel-export-basic/:6:0","series":null,"tags":["php","html","laravel","excel","export"],"title":"Laravel Excel Export - Basic","uri":"/laravel-excel-export-basic/#5-å–å¾—ä½¿ç”¨è€…åŒ¯å‡ºè³‡æ–™"},{"categories":["CODE"],"content":"å£“ç¸®ä¸‹è¼‰ - Zip Download","date":"2020-06-28","objectID":"/laravel-zip/","series":null,"tags":["laravel","php","html","zip","ZipArchive"],"title":"Laravel Zip","uri":"/laravel-zip/"},{"categories":["CODE"],"content":" å£“ç¸®ä¸‹è¼‰ - Zip Download ","date":"2020-06-28","objectID":"/laravel-zip/:0:0","series":null,"tags":["laravel","php","html","zip","ZipArchive"],"title":"Laravel Zip","uri":"/laravel-zip/#"},{"categories":["CODE"],"content":"\rå‰è¨€å°‡é¸å–çš„è³‡æ–™å¤¾å…§çš„æª”æ¡ˆå…¨éƒ¨åŠ å…¥å£“ç¸®æª”ä¸¦ä¸”ä¸‹è¼‰ã€‚ ","date":"2020-06-28","objectID":"/laravel-zip/:1:0","series":null,"tags":["laravel","php","html","zip","ZipArchive"],"title":"Laravel Zip","uri":"/laravel-zip/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. Viewzip.blade.php : \u003cform action=\"{% raw %}{{ route('zip.download') }}{% endraw %}\" method=\"post\"\u003e @csrf \u003cselect name=\"folder\"\u003e \u003coption value=\"\"\u003eè«‹é¸æ“‡\u003c/option\u003e @foreach ($folders as $folder) \u003coption\u003e{% raw %}{{ $folder }}{% endraw %}\u003c/option\u003e @endforeach \u003c/select\u003e \u003cbutton type=\"submit\"\u003eSubmit\u003c/button\u003e \u003c/form\u003e ","date":"2020-06-28","objectID":"/laravel-zip/:2:0","series":null,"tags":["laravel","php","html","zip","ZipArchive"],"title":"Laravel Zip","uri":"/laravel-zip/#1-view"},{"categories":["CODE"],"content":"\r2. Routeweb.php : Route::get('zip', 'ZipController@index')-\u003ename('zip'); Route::post('zip/download', 'ZipController@zip')-\u003ename('zip.download'); ","date":"2020-06-28","objectID":"/laravel-zip/:3:0","series":null,"tags":["laravel","php","html","zip","ZipArchive"],"title":"Laravel Zip","uri":"/laravel-zip/#2-route"},{"categories":["CODE"],"content":"\r3. ControllerZipController.php : use ZipArchive; use File; public function index() { $directories = File::directories(public_path().'\\storage\\your\\path'); $folders = array_map('basename', $directories); return view('zip',compact('folders')); } public function zip(Request $request) { $zip = new ZipArchive; $fileName = $request-\u003efolder.'.zip'; if ($zip-\u003eopen(public_path($fileName), ZipArchive::CREATE) === TRUE) { $files = File::files(public_path('storage/your/path/'.$request-\u003efolder)); foreach ($files as $key =\u003e $value) { $relativeNameInZipFile = basename($value); $zip-\u003eaddFile($value, $relativeNameInZipFile); } $zip-\u003eclose(); } return response()-\u003edownload(public_path($fileName)); } åœ¨ç¬¬6è¡Œä¸­ä½¿ç”¨äº† File::directories() ç²å–ä¸€å€‹ç›®éŒ„ä¸‹çš„æ‰€æœ‰ç›®éŒ„ï¼Œ æ¥è‘—ç¬¬7è¡Œä½¿ç”¨ array_map çš„ basename ç²å–ç›®éŒ„åç¨±ï¼Œä¸¦å›å‚³çµ¦ zip.blade.phpã€‚ zip() åœ¨ 18~21 è¡Œä¸­ï¼Œå°‡é¸å–è³‡æ–™å¤¾å…§çš„æª”æ¡ˆé€ä¸€åŠ åˆ°å£“ç¸®æª”ä¸­ã€‚ ","date":"2020-06-28","objectID":"/laravel-zip/:4:0","series":null,"tags":["laravel","php","html","zip","ZipArchive"],"title":"Laravel Zip","uri":"/laravel-zip/#3-controller"},{"categories":["CODE"],"content":"\r4. Reference ZipArchive File ","date":"2020-06-28","objectID":"/laravel-zip/:5:0","series":null,"tags":["laravel","php","html","zip","ZipArchive"],"title":"Laravel Zip","uri":"/laravel-zip/#4-reference"},{"categories":["CODE"],"content":"é¸å–®ç®¡ç† - Menu Manage","date":"2020-06-11","objectID":"/laravel-myweb-12/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/"},{"categories":["CODE"],"content":" é¸å–®ç®¡ç† - Menu Manage ","date":"2020-06-11","objectID":"/laravel-myweb-12/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/#"},{"categories":["CODE"],"content":"\rå‰è¨€ä¸Šä¸€ç¯‡ æ–°å¢äº†é¸å–®ç®¡ç†ï¼Œé€™ç¯‡å°±æ˜¯è¦å°‡ å°è¦½åˆ—ã€é¸å–®åŠ é é¢ ä¸‰è€…ä¸²é€£èµ·ä¾†ã€‚ ","date":"2020-06-11","objectID":"/laravel-myweb-12/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. å°è¦½åˆ—è¦å‰‡ å°è¦½åç¨±å”¯ä¸€(Unique)ã€‚ é¡å‹ä¸€ : å°è¦½ç›®éŒ„ ä¸‹æ‹‰å¼é¸å–®ï¼Œç„¡è¦–è¨­å®šé€£çµã€‚ é¸å–®å…§å®¹å¯ä»¥åœ¨é¸å–®ç®¡ç†é€²è¡Œæ’åºè¨­å®šã€‚ é¡å‹äºŒ : ä¸€èˆ¬é é¢ é»é¸å¾Œç›´æ¥è·³åˆ°è©²é é¢ã€‚ å¤–éƒ¨é€£çµç›´æ¥è²¼å®Œæ•´ç¶²å€ï¼Œex : https://www.google.com/ æŒ‡å®šé é¢é€£çµè¦é€éæŒ‡å®šæ ¼å¼ï¼Œå¦‚http://127.0.0.1:8000/article/å°è¦½åˆ—åç¨±/é¸å–®åç¨±?é é¢ç¶²å€ã€‚ ","date":"2020-06-11","objectID":"/laravel-myweb-12/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/#1-å°è¦½åˆ—è¦å‰‡"},{"categories":["CODE"],"content":"\r2. é¸å–®è¦å‰‡ é¸å–®åç¨±å”¯ä¸€(Unique)ã€‚ å¦‚æœ‰è¨­å®šé€£çµï¼Œé»æ“Šé¸å–®å‰‡è·³è½‰åˆ°è©²é é¢ã€‚ æ¸…å–®é¡¯ç¤ºæ„æŒ‡æ‰€æœ‰ é é¢è¨­å®š é€£æ¥è©²é¸å–®çš„é é¢ä»¥æ¢åˆ—å¼ä¸€ä¸€é¡¯ç¤ºã€‚ éæ¸…å–®é¡¯ç¤ºæ„æŒ‡é¡¯ç¤º æ›´æ–°æ™‚é–“ æœ€æ–°çš„é é¢ã€‚ é€£çµè¨­å®šè«‹åƒç…§å°è¦½åˆ— ä¸€èˆ¬é é¢ è¨­å®šã€‚ ","date":"2020-06-11","objectID":"/laravel-myweb-12/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/#2-é¸å–®è¦å‰‡"},{"categories":["CODE"],"content":"\r3. é é¢è¦å‰‡ é é¢ç¶²å€å”¯ä¸€(Unique)ã€‚ é é¢ç¶²å€ç”¨ä¾†å®šç¾©è©²é é¢ä½ç½®ï¼Œæ‰€ä»¥åªé ˆçµ¦åç¨±å³å¯ï¼Œex:Page1ã€‚ åœ¨é¸å–®çš„æ¸…å–®é¡¯ç¤ºä¸­ï¼Œé é¢ä»¥ æ›´æ–°æ™‚é–“ æ–°åˆ°èˆŠé€²è¡Œæ’åºã€‚ ","date":"2020-06-11","objectID":"/laravel-myweb-12/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/#3-é é¢è¦å‰‡"},{"categories":["CODE"],"content":"\r4. é é¢åŠé¸å–®ä¸²è¯ä¹‹å‰æœ‰åœ¨ pages è³‡æ–™è¡¨å»ºç«‹ menu_id çš„æ¬„ä½ï¼Œç¾åœ¨è¦åœ¨ Page çš„æ–°å¢ã€ä¿®æ”¹åŠé¦–é åŠ å…¥ menu_id çš„æ–°å¢ä¿®æ”¹è¡¨å–®ã€‚ create.blade.php : ...ç•¥... @csrf \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"menu_id\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Menu') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cselect class='form-control' name='menu_id' aria-describedby=\"menuHelp\"\u003e \u003coption value=''\u003e{% raw %}{{ trans('Please choose').trans('Menu') }}{% endraw %}\u003c/option\u003e @foreach($menus as $key =\u003e $value) \u003coption value=\"{% raw %}{{ $value['id'] }}{% endraw %}\"\u003e{% raw %}{{ $value['name'] }}{% endraw %}\u003c/option\u003e @endforeach \u003c/select\u003e \u003cspan id=\"menuHelp\" class=\"help-block\"\u003e é¸æ“‡è¦åŠ å…¥çš„å°è¦½åˆ—é …ç›®ã€‚ \u003c/span\u003e \u003c/div\u003e \u003c/div\u003e ...ç•¥... edit.blade.php : ...ç•¥... @csrf @method('PUT') \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"menu_id\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Menu') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cselect class='form-control' name='menu_id' aria-describedby=\"menuHelp\"\u003e \u003coption value='NULL' {% raw %}{{ ($page-\u003emenu_id) ? \"selected\" : \"\" }}{% endraw %}\u003e{% raw %}{{ trans('Please choose').trans('Menu') }}{% endraw %}\u003c/option\u003e @foreach($menus as $key =\u003e $value) @if ($value['id'] == $page-\u003emenu_id) \u003coption value=\"{% raw %}{{ $value['id'] }}{% endraw %}\" selected\u003e{% raw %}{{ $value['name'] }}{% endraw %}\u003c/option\u003e @else \u003coption value=\"{% raw %}{{ $value['id'] }}{% endraw %}\"\u003e{% raw %}{{ $value['name'] }}{% endraw %}\u003c/option\u003e @endif @endforeach \u003c/select\u003e \u003cspan id=\"menuHelp\" class=\"help-block\"\u003e é¸æ“‡è¦åŠ å…¥çš„å°è¦½åˆ—é …ç›®ã€‚ \u003c/span\u003e \u003c/div\u003e \u003c/div\u003e ...ç•¥... æ¥ä¸‹ä¾†æ ¹æ“šé‡é» 1~3 åœ¨ MenuController.php å»ºç«‹ä»¥ä¸‹ : /** * [menus description] * @param [type] $nav [é¸å–çš„å°è¦½åˆ—] * @param [type] $menu [é¸å–çš„é¸å–®] * @param [type] $menus_nav [å°è¦½åˆ—ä¸‹æ‰€æœ‰çš„é¸å–®è³‡æ–™] * @param [type] $select_menu [é¸å–çš„é¸å–®è³‡æ–™] * @param [type] $menu_pages [é¸å–é¸å–®ä¸‹æ‰€æœ‰é é¢çš„è³‡æ–™] * @return [type] [description] */ public function menus($nav,$menu) { $navbar = Navbar::where('name',$nav)-\u003efirst(); $menus_nav = Menu::where('navbar_id',$navbar-\u003eid)-\u003ewhere('is_open',1)-\u003eorderby('sort')-\u003eget(); $select_menu = Menu::where('name',$menu)-\u003efirst(); if (empty($select_menu)) { abort(404); } if ($select_menu-\u003eis_list == '1') { $menu_pages = Page::where('is_open',1)-\u003eorderby('updated_at','desc')-\u003epaginate(10); } else { $menu_pages = Page::where('menu_id',$select_menu-\u003eid)-\u003ewhere('is_open',1)-\u003eorderby('updated_at','desc')-\u003efirst(); } return view('menu',compact('menus_nav','select_menu','navbar','menu_pages')); } è·¯ç”±æ–°å¢ : ...ç•¥... Route::get('/article/{nav}/{menu}?{page}', function () {return view('menu');})-\u003ename('page'); Route::get('/article/{nav}/{menu}', 'MenuController@menus')-\u003ename('menu'); View::composer(['*'], function ($view) { if (Request::getQueryString()) { $current_page = App\\Page::where('url', $_SERVER['QUERY_STRING'])-\u003efirst(); $view-\u003ewith('current_page', $current_page); } $pages = App\\Page::where('is_open',1)-\u003eorderby('updated_at')-\u003eget(); $view-\u003ewith('pages',$pages); ...ç•¥... }); è§£é‡‹æ™‚é–“ : $nav å’Œ $menu åˆ†åˆ¥æ˜¯å°è¦½åˆ—ä»¥åŠé¸å–®çš„ åç¨±ã€‚ æ¯”å¦‚èªªé»æ“Šäº†åç‚º menu1 çš„é¸å–®ä¸”å°è¦½åˆ—ç‚º nav1ï¼Œæ§åˆ¶å™¨14~17è¡Œåˆ¤æ–·è©²é¸å–®æ˜¯å¦å­˜åœ¨ã€‚ è‹¥é¸å–®å­˜åœ¨å‰‡19è¡Œåˆ¤æ–·æ˜¯å¦ç‚ºæ¸…å–®é¡¯ç¤ºã€‚ è¦–åœ–æ–°å¢ : menu.blade.php : @extends('_layouts.home.app') @section('title',$select_menu-\u003ename) @section('content') {% raw %}{{-- é é¢é¡¯ç¤º --}}{% endraw %} @if(Request::getQueryString()) \u003cdiv id=\"content\" class=\"col-md-12\"\u003e \u003cdiv class=\"card border-light\" style=\"border: none;\"\u003e \u003cdiv class=\"card-header bg-transparent\"\u003e \u003ch1\u003e\u003cb\u003e{% raw %}{{$current_page-\u003etitle}}{% endraw %}\u003c/b\u003e\u003c/h1\u003e \u003c/div\u003e \u003cdiv class=\"card-body\"\u003e {!! clean($current_page-\u003econtent) !!} \u003c/div\u003e \u003cdiv class=\"card-footer bg-transparent\"\u003e \u003cp\u003e\u003cspan class=\"badge badge-pill badge-primary\"\u003e{% raw %}{{ trans('Editor').' : '.$current_page-\u003eeditor }}{% endraw %}\u003c/span\u003e\u003c/p\u003e \u003cp\u003e\u003cspan class=\"badge badge-pill badge-primary\"\u003e{% raw %}{{ trans('Created_at').' : '.$current_page-\u003ecreated_at }}{% endraw %}\u003c/span\u003e\u003c/p\u003e \u003cp\u003e\u003cspan class=\"badge badge-pill badge-primary\"\u003e{% raw %}{{ trans('Updated_at').' : '.$current_page-\u003eupdated_at }}{% endraw %}\u003c/span\u003e\u003c/p\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e {% raw %}{{-- æ˜¯å¦æ¸…å–®é¡¯ç¤º --}}{% endraw %} @elseif($select_menu-\u003eis_lis","date":"2020-06-11","objectID":"/laravel-myweb-12/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/#4-é é¢åŠé¸å–®ä¸²è¯"},{"categories":["CODE"],"content":"\rçµèªç¸½çµï¼Œå¾Œå°æ–°å¢é †åºç‚º å°è¦½åˆ— Â» é¸å–® Â» é é¢ å°è¦½åˆ—(å°è¦½ç›®éŒ„)å¯ä»¥æœ‰å¾ˆå¤šé¸å–®ï¼Œé¸å–®(æ¸…å–®é¡¯ç¤º)å¯ä»¥æœ‰å¾ˆå¤šé é¢ ä½ å¯ä»¥ç…§è‡ªå·±çš„æƒ³æ³•å»åšä¿®æ”¹ğŸ¥± ","date":"2020-06-11","objectID":"/laravel-myweb-12/:6:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page","navbar"],"title":"Laravel Backend Control Website - 12","uri":"/laravel-myweb-12/#çµèª"},{"categories":["CODE"],"content":"é¸å–®ç®¡ç† - Menu Manage","date":"2020-06-10","objectID":"/laravel-myweb-11/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/"},{"categories":["CODE"],"content":" é¸å–®ç®¡ç† - Menu Manage ","date":"2020-06-10","objectID":"/laravel-myweb-11/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#"},{"categories":["CODE"],"content":"\rå‰è¨€Hello å¤§å®¶ï¼ä¹‹å‰åšé å°è¦½åˆ— å’Œ é é¢ çš„CRUDï¼Œé€™ç¯‡å°±æ˜¯è¦åšæœ€å¾Œçš„ é¸å–® ä¸¦å°‡ä¸‰è€…ä¸²é€£èµ·ä¾†ã€‚ ","date":"2020-06-10","objectID":"/laravel-myweb-11/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. æ–°å¢Controllerã€Modelã€Migrationé¦–å…ˆï¼Œå»ºç«‹ Menu çš„ä¸‰å¯¶ : // ä¸€æ¬¡æ€§å»ºç«‹ php artisan make:model Menu -mcr ","date":"2020-06-10","objectID":"/laravel-myweb-11/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#1-æ–°å¢controllermodelmigration"},{"categories":["CODE"],"content":"\r2. ä¿®æ”¹Migration \u003c?php use Illuminate\\Support\\Facades\\Schema; use Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class CreateMenusTable extends Migration { public function up() { Schema::create('menus', function (Blueprint $table) { $table-\u003ebigIncrements('id'); $table-\u003einteger('navbar_id')-\u003ecomment('å°è¦½åˆ—'); $table-\u003estring('name')-\u003ecomment('åç¨±'); $table-\u003estring('link')-\u003enullable()-\u003ecomment('å°å¤–é€£çµ'); $table-\u003einteger('sort')-\u003enullable()-\u003ecomment('æ’åº'); $table-\u003eboolean('is_list')-\u003edefault(true)-\u003ecomment('æ¸…å–®é¡¯ç¤º'); $table-\u003eboolean('is_open')-\u003edefault(true)-\u003ecomment('æ˜¯å¦é–‹æ”¾'); $table-\u003etimestamps(); }); } public function down() { Schema::dropIfExists('menus'); } } ä¿¡æ¯\râš  æ¸…å–®é¡¯ç¤ºçš„ç›®çš„è«‹çœ‹ä¸‹ä¸€ç¯‡\rå»ºç«‹è³‡æ–™è¡¨: php artisan migrate ","date":"2020-06-10","objectID":"/laravel-myweb-11/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#2-ä¿®æ”¹migration"},{"categories":["CODE"],"content":"\r3. ä¿®æ”¹ModelMenu.php : \u003c?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class Menu extends Model { protected $table = 'menus'; protected $primaryKey = 'id'; protected $fillable = [ \"name\", \"navbar_id\", \"sort\", \"link\", \"is_list\", \"is_open\", ]; } ","date":"2020-06-10","objectID":"/laravel-myweb-11/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#3-ä¿®æ”¹model"},{"categories":["CODE"],"content":"\r4. åŠ å…¥è·¯ç”± Route::prefix('manage')-\u003emiddleware('auth','admin')-\u003egroup(function(){ ...ç•¥... Route::resource('menu', 'MenuController'); }); ","date":"2020-06-10","objectID":"/laravel-myweb-11/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#4-åŠ å…¥è·¯ç”±"},{"categories":["CODE"],"content":"\r5. å»ºç«‹è¦–åœ– views/ â”œâ”€â”€ _layouts/ â”œâ”€â”€ _partials/ â”œâ”€â”€ auth/ â””â”€â”€ manage/ â””â”€â”€ log/ â””â”€â”€ member/ â””â”€â”€ menu/ â”œâ”€â”€ create.blade.php â”œâ”€â”€ edit.blade.php â”œâ”€â”€ index.blade.php â””â”€â”€ sort.blade.php â””â”€â”€ navbar/ â””â”€â”€ page/ ","date":"2020-06-10","objectID":"/laravel-myweb-11/:6:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#5-å»ºç«‹è¦–åœ–"},{"categories":["CODE"],"content":"\r6. é¸å–®é¦–é MenuController.php : \u003c?php namespace App\\Http\\Controllers; use App\\Menu; use App\\Navbar; use App\\Page; use App\\Log; use Illuminate\\Http\\Request; use Illuminate\\Support\\Facades\\DB; use Illuminate\\Support\\Facades\\Auth; class MenuController extends Controller { public function index() { $all_menus = Menu::all(); $all_navbars = Navbar::all(); return view('manage.menu.index',compact('all_menus','all_navbars')); } ...ç•¥... } æ³¨æ„\ræœƒå¼•å…¥ all_navbars æ˜¯å› ç‚ºé¸å–®å¯èƒ½æœƒèˆ‡å°è¦½åˆ—é€£å‹•ã€‚\rindex.blade.php : @extends('_layouts.manage.app') @section('title', trans('Menu').trans('Manage')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Menu').trans('Manage') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-inline\"\u003e \u003cli class=\"list-inline-item\"\u003e{% raw %}{{ App\\Button::Create() }}{% endraw %}\u003c/li\u003e \u003cli class=\"list-inline-item\"\u003e{% raw %}{{ App\\Button::To(true,'sort',trans('Sort'),'','btn-primary') }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cdiv class=\"alert alert-warning\" role=\"alert\"\u003e è‹¥æœ‰å»ºç«‹é€£çµï¼Œé»æ“Šé¸å–®å‰‡ç›´æ¥è·³åˆ°è©²é€£çµé é¢ã€‚\u003cbr\u003e \u003c/div\u003e \u003cdiv class=\"table-responsive\"\u003e \u003ctable id=\"data\" class=\"table table-hover table-bordered text-center\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Menu').trans('Name') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Navbar') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Link') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Sort') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Is_list') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Action') }}{% endraw %}\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e @foreach ($all_menus as $menu) \u003ctr\u003e \u003ctd\u003e{% raw %}{{ $menu-\u003ename }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ App\\Navbar::where('id','=',$menu-\u003enavbar_id)-\u003efirst('name')['name'] }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $menu-\u003elink }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $menu-\u003esort }}{% endraw %}\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"{% raw %}{{App\\Enum::is_open['color'][$menu-\u003eis_list]}}{% endraw %}\"\u003e\u003ci class=\"fas fa-{% raw %}{{App\\Enum::is_open['label'][$menu-\u003eis_list]}}{% endraw %}\"\u003e\u003c/i\u003e\u003c/font\u003e\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"{% raw %}{{App\\Enum::is_open['color'][$menu-\u003eis_open]}}{% endraw %}\"\u003e\u003ci class=\"fas fa-{% raw %}{{App\\Enum::is_open['label'][$menu-\u003eis_open]}}{% endraw %}\"\u003e\u003c/i\u003e\u003c/font\u003e\u003c/td\u003e \u003ctd\u003e \u003cform action=\"{% raw %}{{ route('menu.edit',$menu-\u003eid) }}{% endraw %}\" method=\"GET\"\u003e @csrf {% raw %}{{ App\\Button::edit($menu-\u003eid) }}{% endraw %} \u003c/form\u003e \u003cform action=\"{% raw %}{{ route('menu.destroy',$menu-\u003eid) }}{% endraw %}\" method=\"POST\"\u003e @method('DELETE') @csrf {% raw %}{{ App\\Button::deleting($menu-\u003eid) }}{% endraw %} \u003c/form\u003e \u003c/td\u003e \u003c/tr\u003e @endforeach \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003c/div\u003e \u003c!-- \u003cdiv class=\"card-footer pagination justify-content-center\"\u003e {!! $all_menus-\u003elinks(\"pagination::bootstrap-4\") !!} \u003c/div\u003e --\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection å¦‚è¦åˆ†é å°±å°‡ footer å–æ¶ˆè¨»è§£ï¼Œä¸¦å°‡ controller æ”¹æˆ : public function index() { $all_menus = Menu::paginate(); $all_navbars = Navbar::all(); return view('manage.menu.index',compact('all_menus','all_navbars')); } ","date":"2020-06-10","objectID":"/laravel-myweb-11/:7:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#6-é¸å–®é¦–é "},{"categories":["CODE"],"content":"\r7. é¸å–®æ–°å¢MenuController.php : \u003c?php ...ç•¥... public function create() { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '2') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } return view('manage.menu.create'); } public function store(Request $request) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '2') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $error = 0; $menu = new Menu; $data = $request-\u003evalidate([ 'name' =\u003e ['required', 'string', 'max:255','unique:menus,name'], 'navbar_id' =\u003e ['required','integer'], 'link' =\u003e ['nullable'], 'is_open' =\u003e ['required'], 'is_list' =\u003e ['required'], ]); foreach ($request-\u003eexcept('_token', '_method') as $key =\u003e $value) { if ($request-\u003efilled($key) \u0026\u0026 $request-\u003efilled($key) != NULL) { $menu-\u003e$key = strip_tags(clean($data[$key])); if ($menu-\u003e$key == '') { $error += 1; } } else{ $menu-\u003e$key = NULL; } } if ($error == 0) { // å¯«å…¥log Log::write_log('menus',$request-\u003eall()); $menu-\u003esave(); } else{ return back()-\u003ewithInput()-\u003ewith('warning', 'è«‹ç¢ºèªè¼¸å…¥ !'); } // å¯«å…¥log Log::write_log('menus',$request-\u003eall()); return back()-\u003ewith('success', 'é¸å–®æ–°å¢æˆåŠŸ !'); } ...ç•¥... create.blade.php : @extends('_layouts.manage.app') @section('title', trans('Menu').trans('Create')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cform action=\"{% raw %}{{ route('menu.store') }}{% endraw %}\" method=\"POST\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Menu').trans('Create') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('menu.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e @csrf \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"name\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Menu').trans('Name') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-4\"\u003e \u003cinput type=\"text\" class=\"form-control @error('name') is-invalid @enderror\" id=\"name\" name=\"name\" value=\"{% raw %}{{ old('name') }}{% endraw %}\" placeholder=\"{% raw %}{{ trans('Menu').trans('Name') }}{% endraw %}\" required\u003e @error('name') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"navbar_id\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Navbar') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-4\"\u003e \u003cselect class='form-control' name='navbar_id' required aria-describedby=\"navHelp\" required\u003e \u003coption value=''\u003eè«‹é¸æ“‡å°è¦½åˆ—\u003c/option\u003e @foreach($navbars as $key =\u003e $value) \u003coption value=\"{% raw %}{{ $value['id'] }}{% endraw %}\"\u003e{% raw %}{{ $value['name'] }}{% endraw %}\u003c/option\u003e @endforeach \u003c/select\u003e \u003cspan id=\"navHelp\" class=\"form-text text-muted\"\u003e é¸æ“‡è¦åŠ å…¥çš„å°è¦½åˆ—é …ç›®ã€‚ \u003c/span\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"link\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Link') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-4\"\u003e \u003cinput type=\"text\" class=\"form-control @error('link') is-invalid @enderror\" id=\"link\" name=\"link\" value=\"{% raw %}{{ old('link') }}{% endraw %}\" placeholder=\"{% raw %}{{ trans('Link') }}{% endraw %}\"\u003e @error('link') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"is_list\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Is_list') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_list\" id=\"is_list1\" value=\"1\"\u003e \u003clabel class=\"custom-control-label\" for=\"is_list1\"\u003e{% raw %}{{ trans('Yes') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_list\" id=\"is_list2\" value=\"0\"\u003e \u003clabel class=\"custom-control-label\" for=\"is_list2\"\u003e{% raw %}{{ trans('No') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"is_op","date":"2020-06-10","objectID":"/laravel-myweb-11/:8:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#7-é¸å–®æ–°å¢"},{"categories":["CODE"],"content":"\r8. é¸å–®æ›´æ–°MenuController.php : ...ç•¥... public function edit($id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $menu = Menu::where('id',$id)-\u003efirst(); return view('manage.menu.edit',compact('menu')); } public function update(Request $request, $id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $error = 0; $menu = Menu::where('id', $id)-\u003efirst(); $data = $this-\u003evalidate($request, [ 'name' =\u003e ['required', 'string', 'max:255'], 'navbar_id' =\u003e ['required','integer'], 'link' =\u003e ['nullable','string'], 'is_open' =\u003e ['required','boolean'], 'is_list' =\u003e ['required','boolean'], ]); // é€ç­†é€²è¡Œhtmlpurufier ä¸¦å»æ‰\u003cp\u003e\u003c/p\u003e foreach ($request-\u003eexcept('_token', '_method') as $key =\u003e $value) { if ($request-\u003efilled($key) \u0026\u0026 $request-\u003efilled($key) != NULL) { $menu-\u003e$key = strip_tags(clean($data[$key])); if ($menu-\u003e$key == '') { $error += 1; } } else{ $menu-\u003e$key = NULL; } } if ($error == 0) { // å¯«å…¥log Log::write_log('menus',$request-\u003eall()); $menu-\u003esave(); } else{ return back()-\u003ewithInput()-\u003ewith('warning', 'è«‹ç¢ºèªè¼¸å…¥ !'); } return back()-\u003ewith('success', 'ä¿®æ”¹é¸å–®æˆåŠŸ !'); } ...ç•¥... edit.blade.php : @extends('_layouts.manage.app') @section('title', trans('Menu').trans('Edit')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Menu').trans('Edit') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('menu.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cform method=\"POST\" action=\"{% raw %}{{ route('menu.update' , $menu-\u003eid) }}{% endraw %}\"\u003e @csrf @method('PUT') \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"name\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Menu').trans('Name') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"name\" type=\"text\" class=\"form-control @error('name') is-invalid @enderror\" name=\"name\" value=\"{% raw %}{{ $menu-\u003ename }}{% endraw %}\" required autocomplete=\"{% raw %}{{ trans('Menu').trans('Name') }}{% endraw %}\" autofocus readonly\u003e @error('name') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"navbar_id\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Navbar') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cselect class='form-control' name='navbar_id' required aria-describedby=\"navHelp\"\u003e @foreach($navbars as $key =\u003e $value) @if ($value['id'] == $menu-\u003enavbar_id) \u003coption value=\"{% raw %}{{ $value['id'] }}{% endraw %}\" selected\u003e{% raw %}{{ $value['name'] }}{% endraw %}\u003c/option\u003e @else \u003coption value=\"{% raw %}{{ $value['id'] }}{% endraw %}\"\u003e{% raw %}{{ $value['name'] }}{% endraw %}\u003c/option\u003e @endif @endforeach \u003c/select\u003e \u003cspan id=\"navHelp\" class=\"help-block\"\u003e é¸æ“‡è¦åŠ å…¥çš„å°è¦½åˆ—é …ç›®ã€‚ \u003c/span\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"link\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Link') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"link\" type=\"text\" class=\"form-control @error('link') is-invalid @enderror\" name=\"link\" value=\"{% raw %}{{ $menu-\u003elink }}{% endraw %}\" autocomplete=\"{% raw %}{{ trans('Link') }}{% endraw %}\" autofocus\u003e @error('link') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"is_list\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Is_list') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_list\" id=\"is_list1\" value=\"1\" {% raw %}{{ ($menu-\u003eis_list==\"1\")? \"checked\" : \"\" }}{% endraw %}\u003e \u003clabel class=\"custom-control-label\" for=\"is_list1\"\u003e{% raw %}{{ trans('Yes') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003cdiv clas","date":"2020-06-10","objectID":"/laravel-myweb-11/:9:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#8-é¸å–®æ›´æ–°"},{"categories":["CODE"],"content":"\r9. é¸å–®åˆªé™¤MenuController.php : ...ç•¥... public function destroy($id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '4') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } // å¯«å…¥log Log::write_log('menus',Menu::where('id', $id)-\u003efirst()); Menu::destroy($id); return back()-\u003ewith('success', 'åˆªé™¤é¸å–®æˆåŠŸ !'); } ...ç•¥... ","date":"2020-06-10","objectID":"/laravel-myweb-11/:10:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#9-é¸å–®åˆªé™¤"},{"categories":["CODE"],"content":"\r10. é¸å–®æ’åº\rä¿¡æ¯\rå’Œå°è¦½åˆ—æ’åºç›¸åŒï¼Œåªæœ‰é–‹æ”¾ä¸­çš„é¸å–®å¯ä»¥æ’åºã€‚\ræ–°å¢è·¯ç”± : //æ’åºã€ä¸­ä»‹å±¤:ç™»å…¥/ç®¡ç†å“¡ Route::middleware('auth','admin')-\u003egroup(function() { Route::post('menu-sortable','MenuController@sort')-\u003ename('menu.sort'); Route::get('/manage/menu/sort', function () {return view('manage.menu.sort');}); }); //åœ¨å„è¦–åœ–ä¸­å¯ç›´æ¥ä½¿ç”¨ä»¥ä¸‹åƒæ•¸ View::composer(['*'], function ($view) { $menus = App\\Menu::where('is_open',1)-\u003eorderby('sort')-\u003eget(); $view-\u003ewith('menus',$menus); }); sort.blade.php : @extends('_layouts.manage.app') @section('title', trans('Menu').trans('Sort')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{trans('Menu').trans('Sort')}}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('menu.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cdiv class=\"alert alert-warning\" role=\"alert\"\u003e 1. è«‹ç›´æ¥æ‹–æ›³ç›®æ¨™åˆ—é€²è¡Œæ’åºã€‚\u003cbr\u003e 2. èª¿æ•´å®Œè«‹é»é‡æ–°æ•´ç†é€²è¡Œç¢ºèªã€‚ \u003c/div\u003e \u003ctable id=\"table\" class=\"table table-hover table-bordered text-center\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Menu').trans('Name')}}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Navbar') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Sort') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Is_list') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody id=\"tablecontents\"\u003e @foreach ($menus as $menu) \u003ctr class=\"row1\" data-id=\"{% raw %}{{ $menu-\u003eid }}{% endraw %}\"\u003e \u003ctd class=\"pl-3\"\u003e{% raw %}{{ $menu-\u003ename }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ App\\Navbar::where('id','=',$menu-\u003enavbar_id)-\u003efirst('name')['name'] }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $menu-\u003esort }}{% endraw %}\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"{% raw %}{{App\\Enum::is_open['color'][$menu-\u003eis_list]}}{% endraw %}\"\u003e\u003ci class=\"fas fa-{% raw %}{{App\\Enum::is_open['label'][$menu-\u003eis_list]}}{% endraw %}\"\u003e\u003c/i\u003e\u003c/font\u003e\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"{% raw %}{{App\\Enum::is_open['color'][$menu-\u003eis_open]}}{% endraw %}\"\u003e\u003ci class=\"fas fa-{% raw %}{{App\\Enum::is_open['label'][$menu-\u003eis_open]}}{% endraw %}\"\u003e\u003c/i\u003e\u003c/font\u003e\u003c/td\u003e \u003c/tr\u003e @endforeach \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003cdiv class=\"card-footer text-center\"\u003e \u003ch5\u003e\u003cbutton class=\"btn btn-success btn-sm\" onclick=\"window.location.reload()\"\u003e{% raw %}{{ trans('Refresh') }}{% endraw %}\u003c/button\u003e\u003c/h5\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection @section('script') @parent \u003cscript type=\"text/javascript\"\u003e $(function () { // $(\"#table\").DataTable(); $(\"#tablecontents\").sortable({ items: \"tr\", cursor: 'move', opacity: 0.6, update: function() { sendOrderToServer(); } }); function sendOrderToServer() { var order = []; var token = $('meta[name=\"csrf-token\"]').attr('content'); $('tr.row1').each(function(index,element) { order.push({ id: $(this).attr('data-id'), position: index+1 }); }); $.ajax({ type: \"POST\", dataType: \"json\", url: \"{% raw %}{{ url('menu-sortable') }}{% endraw %}\", data: { order: order, _token: token }, success: function(response) { if (response.status == \"success\") { console.log(response); } else { console.log(response); } } }); } }); \u003c/script\u003e @show MenuController.php : ...ç•¥... //æ‹–æ›³æ’åº public function sort(Request $request) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $menus = Menu::all(); foreach ($menus as $menu) { foreach ($request-\u003eorder as $order) { if ($order['id'] == $menu-\u003eid) { $menu-\u003eupdate(['sort' =\u003e $order['position']]); } } } // å¯«å…¥log $sort = DB::table('menus')-\u003eselect('name','sort')-\u003eorderby('sort')-\u003eget(); Log::write_log('menus',$sort,'æ’åº'); return response('Update Successfully.', 200); } ...ç•¥... ","date":"2020-06-10","objectID":"/laravel-myweb-11/:11:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#10-é¸å–®æ’åº"},{"categories":["CODE"],"content":"\r11. ä¿®æ”¹ nav.blade.php \u003cnav class=\"navbar navbar-expand-md navbar-light bg-white shadow-sm\"\u003e ...ç•¥... @case(1) \u003cli class=\"nav-item dropdown\"\u003e \u003ca class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\u003e {% raw %}{{ $navbar-\u003ename }}{% endraw %} \u003c/a\u003e \u003cdiv class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\u003e @foreach ($menus as $menu) @if ($menu-\u003enavbar_id == $navbar-\u003eid \u0026\u0026 $menu-\u003elink) \u003ca class=\"dropdown-item\" target=\"_blank\" href=\"{% raw %}{{ $menu-\u003elink }}{% endraw %}\"\u003e{% raw %}{{ $menu-\u003ename }}{% endraw %}\u003c/a\u003e @elseif($menu-\u003enavbar_id == $navbar-\u003eid) \u003ca class=\"dropdown-item\" href=\"/article/{% raw %}{{ $navbar-\u003ename }}{% endraw %}/{% raw %}{{ $menu-\u003ename }}{% endraw %}\"\u003e{% raw %}{{ $menu-\u003ename }}{% endraw %}\u003c/a\u003e @endif @endforeach \u003c/div\u003e \u003c/li\u003e @break ...ç•¥... \u003c/nav\u003e ","date":"2020-06-10","objectID":"/laravel-myweb-11/:12:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","menu","htmlpurifier","page"],"title":"Laravel Backend Control Website - 11","uri":"/laravel-myweb-11/#11-ä¿®æ”¹-navbladephp"},{"categories":["CODE"],"content":"åŸ·è¡Œå¾Œç”¢ç”ŸLOGè³‡æ–™ -Generate LOG Data After Execution","date":"2020-05-31","objectID":"/laravel-myweb-10/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/"},{"categories":["CODE"],"content":" åŸ·è¡Œå¾Œç”¢ç”ŸLOGè³‡æ–™ -Generate LOG Data After Execution ","date":"2020-05-31","objectID":"/laravel-myweb-10/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#"},{"categories":["CODE"],"content":"\rå‰è¨€Hello å¤§å®¶ï¼Œ åœ¨åŸ·è¡Œæ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤ç­‰å‹•ä½œå¾Œï¼Œå¿…é ˆè¦è¨˜éŒ„æ”¹è®Šå¾Œçš„è³‡æ–™ä»¥åŠèª°é€²è¡Œæ“ä½œï¼Œé€™æ¨£å‡ºç‹€æ³æ‰æ–¹ä¾¿äº†è§£èª°åšå‡ºé€™éº¼å‰å¤§çš„äº‹æƒ…ã€‚ ","date":"2020-05-31","objectID":"/laravel-myweb-10/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. å–å¾—ä½¿ç”¨è€…è³‡è¨Šé¦–å…ˆï¼Œå…ˆå»ºç«‹ä¸€å€‹ LOG çš„model : // ä¸€æ¬¡æ€§å»ºç«‹ php artisan make:model Log -mcr ","date":"2020-05-31","objectID":"/laravel-myweb-10/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#1-å–å¾—ä½¿ç”¨è€…è³‡è¨Š"},{"categories":["CODE"],"content":"\r2. ä¿®æ”¹Migration \u003c?php use Illuminate\\Support\\Facades\\Schema; use Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class CreateLogsTable extends Migration { public function up() { Schema::create('logs', function (Blueprint $table) { $table-\u003ebigIncrements('id'); $table-\u003estring('user')-\u003ecomment('ä½¿ç”¨è€…'); $table-\u003estring('ip')-\u003ecomment('ä½¿ç”¨è€…IP'); $table-\u003estring('os')-\u003ecomment('ä½œæ¥­ç³»çµ±'); $table-\u003estring('browser')-\u003ecomment('ç€è¦½å™¨'); $table-\u003estring('browser_detail')-\u003ecomment('ç€è¦½å™¨è©³ç´°è³‡æ–™'); $table-\u003estring('action')-\u003ecomment('å‹•ä½œ'); $table-\u003estring('table')-\u003ecomment('è³‡æ–™è¡¨'); $table-\u003ejson('data')-\u003ecomment('è³‡æ–™'); $table-\u003etimestamps(); }); } public function down() { Schema::dropIfExists('logs'); } } ","date":"2020-05-31","objectID":"/laravel-myweb-10/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#2-ä¿®æ”¹migration"},{"categories":["CODE"],"content":"\r3. ä¿®æ”¹ModelLog.php \u003c?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class Log extends Model { protected $table = 'logs'; protected $primaryKey = 'id'; protected $fillable = [ \"user\", \"ip\", \"os\", \"browser\", \"browser_detail\", \"action\", \"table\", \"data\", ]; } ","date":"2020-05-31","objectID":"/laravel-myweb-10/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#3-ä¿®æ”¹model"},{"categories":["CODE"],"content":"\r4. åŠ å…¥è·¯ç”± Route::prefix('manage')-\u003emiddleware('auth','admin')-\u003egroup(function(){ ...ç•¥... Route::resource('log', 'LogController'); }); ","date":"2020-05-31","objectID":"/laravel-myweb-10/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#4-åŠ å…¥è·¯ç”±"},{"categories":["CODE"],"content":"\r5. å»ºç«‹è¦–åœ– views/ â”œâ”€â”€ _layouts/ â”œâ”€â”€ _partials/ â”œâ”€â”€ auth/ â””â”€â”€ manage/ â””â”€â”€ log/ â”œâ”€â”€ detail.blade.php â””â”€â”€ index.blade.php â””â”€â”€ member/ â””â”€â”€ navbar/ â””â”€â”€ page/ ","date":"2020-05-31","objectID":"/laravel-myweb-10/:6:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#5-å»ºç«‹è¦–åœ–"},{"categories":["CODE"],"content":"\r6. Log é¦–é index.blade.php @extends('_layouts.manage.app') @section('title', __('Log').__('Manage')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ __('Log').__('Manage') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cdiv class=\"table-responsive\"\u003e \u003ctable id=\"data\" class=\"table table-hover table-bordered text-center\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('Member') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('IP') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('Browser') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('Action') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('Table') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('Created_at') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e*\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e @foreach ($logs as $log) \u003ctr\u003e \u003ctd\u003e{% raw %}{{ $log-\u003euser }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003eip }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003ebrowser }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003eaction }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003etable }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003ecreated_at }}{% endraw %}\u003c/td\u003e \u003ctd\u003e \u003cform action=\"{% raw %}{{ route('log.show',$log-\u003eid) }}{% endraw %}\" method=\"GET\"\u003e @csrf {% raw %}{{ App\\Button::detail($log-\u003eid) }}{% endraw %} \u003c/form\u003e \u003c/td\u003e \u003c/tr\u003e @endforeach \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"card-footer pagination justify-content-center table-responsive\"\u003e {!! $logs-\u003elinks(\"pagination::bootstrap-4\") !!} \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection LogController.php : namespace App\\Http\\Controllers; use App\\Log; use Illuminate\\Http\\Request; class LogController extends Controller { public function index() { $logs = Log::orderby('created_at','desc')-\u003epaginate(); return view('manage.log.index',compact('logs')); } } ","date":"2020-05-31","objectID":"/laravel-myweb-10/:7:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#6-log-é¦–é "},{"categories":["CODE"],"content":"\r7. å–å¾—ä½¿ç”¨è€…è³‡è¨ŠLog.php public static function get_agent() { $user_agent = isset($_SERVER['HTTP_USER_AGENT']) ? $_SERVER['HTTP_USER_AGENT'] : ''; $browser_name = 'Unknown'; $platform = 'Unknown'; $version = $ub = \"\"; // å–å¾—ä½œæ¥­ç³»çµ±è³‡è¨Š if (preg_match('/linux/i', $user_agent)) { $platform = 'linux'; } else if(preg_match('/macintosh|mac os x/i', $user_agent)) { $platform = 'mac'; } else if(preg_match('/windows|win32/i', $user_agent)) { $platform = 'windows'; } // å–å¾—ç€è¦½å™¨è³‡è¨Š if((preg_match('/MSIE/i',$user_agent) || preg_match('/Trident\\/7.0; rv:11.0/i',$user_agent)) \u0026\u0026 !preg_match('/Opera/i',$user_agent)) { $browser_name = 'Internet Explorer'; $ub = \"MSIE\"; } else if(preg_match('/Firefox/i',$user_agent)) { $browser_name = 'Mozilla Firefox'; $ub = \"Firefox\"; } else if(preg_match('/Chrome/i',$user_agent)) { $browser_name = 'Google Chrome'; $ub = \"Chrome\"; } else if(preg_match('/Safari/i',$user_agent)) { $browser_name = 'Apple Safari'; $ub = \"Safari\"; } else if(preg_match('/Opera/i',$user_agent)) { $browser_name = 'Opera'; $ub = \"Opera\"; } else if(preg_match('/Netscape/i',$user_agent)) { $browser_name = 'Netscape'; $ub = \"Netscape\"; } // ç€è¦½å™¨ç‰ˆæœ¬ $known = array('Version', $ub, 'other'); $pattern = '#(?\u003cbrowser\u003e'.join('|', $known).')[/ ]+(?\u003cversion\u003e[0-9.|a-zA-Z.]*)#'; if (!preg_match_all($pattern, $user_agent, $matches)) { // we have no matching number just continue } // see how many we have $i = count($matches['browser']); if ($i != 1) { //we will have two since we are not using 'other' argument yet //see if version is before or after the name if (strripos($user_agent,\"Version\") \u003c strripos($user_agent,$ub)) { $version = $matches['version'][0]; } else { $version = isset($matches['version'][1]) ? $matches['version'][1] : ''; } } else { $version = $matches['version'][0]; } // check if we have a number if ($version == null || $version == \"\") { $version = \"Unknown\"; } return array( 'name' =\u003e $browser_name, 'version' =\u003e $version, 'platform' =\u003e $platform, 'detail' =\u003e $user_agent ); } ","date":"2020-05-31","objectID":"/laravel-myweb-10/:8:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#7-å–å¾—ä½¿ç”¨è€…è³‡è¨Š"},{"categories":["CODE"],"content":"\r8. å¯«å…¥LogLog.php : \u003c?php namespace App; use Illuminate\\Database\\Eloquent\\Model; use Illuminate\\Support\\Facades\\Auth; use Illuminate\\Support\\Facades\\DB; use Request; class Log extends Model { ...ç•¥... public static function write_log($table,$data,$action = NULL) { $agent = Log::get_agent(); DB::table('logs')-\u003einsert([ 'user' =\u003e (Auth::user()-\u003efirst())['name'], 'ip' =\u003e Request::ip(), 'os' =\u003e $agent['platform'], 'browser' =\u003e $agent['name'], 'browser_detail' =\u003e $agent['detail'], 'action' =\u003e $action ?? Request::method(), 'table' =\u003e $table, 'data' =\u003e json_encode($data, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES), 'created_at' =\u003e now() ]); return true; } } ç¬¬13è¡Œç‚ºé€²è¡Œäº†ä½•ç¨®å‹•ä½œï¼Œæ–°å¢ä¿®æ”¹æˆ–å…¶ä»–ã€‚ ç¬¬15è¡Œç‚ºæ–°å¢ä¿®æ”¹åˆªé™¤ç­‰å¯«å…¥å½±éŸ¿è³‡æ–™åº«çš„è³‡æ–™ï¼Œä½¿ç”¨ json çš„æ–¹å¼å„²å­˜ã€‚ æœ€å¾Œåœ¨ Controllerä¸­å¼•å…¥ Log.php å¾Œå°±å¯ä»¥ä½¿ç”¨ write_log() çš„æ–¹å¼å¯«å…¥LOGã€‚ ä½¿ç”¨ MemberController.php æ–°å¢æœƒå“¡ç•¶ç¯„ä¾‹ : \u003c?php namespace App\\Http\\Controllers; use Illuminate\\Http\\Request; use Illuminate\\Support\\Facades\\Auth; use Illuminate\\Support\\Facades\\Hash; use Illuminate\\Support\\Facades\\Validator; use Illuminate\\Support\\Facades\\DB; use App\\User; use App\\Log; class MemberController extends Controller { ...ç•¥... public function store(Request $request) { $user = new User; $data = $request-\u003evalidate([ 'name' =\u003e ['required', 'string', 'max:255'], 'email' =\u003e ['required', 'string', 'email', 'max:255', 'unique:users'], 'password' =\u003e ['required', 'string', 'min:1', 'confirmed'], 'permission' =\u003e ['required', 'string', 'max:5', 'min:0'], ]); foreach ($request-\u003eexcept('_token','_method','password_confirmation') as $key =\u003e $value) { if ($request-\u003efilled($key) \u0026\u0026 $key == 'password') { $user-\u003epassword = Hash::make($data['password']); } elseif ($request-\u003efilled($key)) { $user-\u003e$key = strip_tags(clean($data[$key])); } } if ($data) { // å¯«å…¥log Log::write_log('users',$request-\u003eall()); $user-\u003esave(); } return back()-\u003ewith('success','æœƒå“¡æ–°å¢æˆåŠŸ !'); } ...ç•¥... ç¬¬11è¡Œå¼•å…¥ Log model ç¬¬38è¡Œå¯«å…¥logï¼Œå½±éŸ¿çš„è³‡æ–™è¡¨ç‚ºusers å¯¦éš›æ“ä½œä¸€æ¬¡æ–°å¢æœƒå“¡ä¸¦ç¢ºèªæ˜¯å¦ç”¢ç”ŸLOGã€‚ log\r","date":"2020-05-31","objectID":"/laravel-myweb-10/:9:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#8-å¯«å…¥log"},{"categories":["CODE"],"content":"\r9. è©³ç´°è³‡æ–™ä¸Šåœ–å¯ä»¥çœ‹åˆ°æœ‰ä¸€å€‹ Detail çš„æŒ‰éˆ•ï¼Œç”¨ä¾†çœ‹è¢«å¯«å…¥è³‡æ–™åº«çš„è³‡æ–™ã€‚ ä¿®æ”¹ LogController.php : public function show($id) { $log = Log::where('id',$id)-\u003efirst(); return view('manage.log.detail',compact('log')); } detail.blade.php : @extends('_layouts.manage.app') @section('title', __('Log').__('Detail')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ __('Log').__('Detail') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('log.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cdiv class=\"table-responsive\"\u003e \u003ctable class=\"table table-hover table-bordered\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('Item') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ __('Data') }}{% endraw %}\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Member') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003euser }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('IP') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003eip }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Operating system') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003eos }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Browser') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003ebrowser }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Browser').__('Detail') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003ebrowser_detail }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Action') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003eaction }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Table') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003etable }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Data') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e\u003cpre\u003e{% raw %}{{ $log-\u003edata }}{% endraw %}\u003c/pre\u003e\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003e{% raw %}{{ __('Created_at') }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $log-\u003ecreated_at }}{% endraw %}\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"card-footer\"\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection ç¾åœ¨åªè¦é» Detail æŒ‰éˆ•å¾Œå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•«é¢ : detail\rå…¶ä¸­è³‡æ–™æ¬„ä½å°±æ˜¯æ–°å¢æœƒå“¡æ‰€å¯«å…¥çš„è³‡æ–™ã€‚ ","date":"2020-05-31","objectID":"/laravel-myweb-10/:10:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#9-è©³ç´°è³‡æ–™"},{"categories":["CODE"],"content":"\r10. çµèªå®å®çµæŸğŸš— é€™è£¡æœ‰ä¸€å€‹å•é¡Œï¼Œå¯ä»¥çœ‹åˆ°åœ¨ detail çš„è³‡æ–™éƒ¨åˆ†ï¼Œ\"password\": \"Pa$$w0rd!\" ï¼Œ è¡¨ç¤ºä½ å‰›å‰›è¼¸å…¥çš„å¯†ç¢¼æ²’æœ‰è¢« hash è™•ç†åˆ°ï¼Œé€™æ˜¯å› ç‚ºä¸Šé¢æ§åˆ¶å™¨å¯«å…¥LOGä½¿ç”¨çš„æ˜¯ $request-\u003eall() ï¼Œ $request-\u003eall() æ˜¯è™•ç†å‰çš„è³‡æ–™ï¼Œåªè¦æ”¹æˆ Log::write_log('users',$user); å•é¡Œå³å¯è§£æ±ºã€‚ ","date":"2020-05-31","objectID":"/laravel-myweb-10/:11:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","log","htmlpurifier"],"title":"Laravel Backend Control Website - 10","uri":"/laravel-myweb-10/#10-çµèª"},{"categories":["CODE"],"content":"Laravel XSS Defense by use Htmlpurifier","date":"2020-05-22","objectID":"/laravel-myweb-9/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","request","XSS","htmlpurifier"],"title":"Laravel Backend Control Website - 9","uri":"/laravel-myweb-9/"},{"categories":["CODE"],"content":" Laravel XSS Defense by use Htmlpurifier ","date":"2020-05-22","objectID":"/laravel-myweb-9/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","request","XSS","htmlpurifier"],"title":"Laravel Backend Control Website - 9","uri":"/laravel-myweb-9/#"},{"categories":["CODE"],"content":"\rå‰è¨€åœ¨ ç¬¬å…«ç¯‡ ä¸­çš„çµå°¾æåˆ°ç‚ºä»€éº¼è¦æŠŠå„²å­˜å¯«çš„æ¯”è¼ƒè¤‡é›œï¼Œé€™æ˜¯å› ç‚ºè¦é˜²æ­¢ XSS çš„æ”»æ“Šã€‚ é€™ç¯‡å°±è¬›å¦‚ä½•åœ¨ Controller ä¸­é˜²ç¦¦ XSS ã€‚ ","date":"2020-05-22","objectID":"/laravel-myweb-9/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","request","XSS","htmlpurifier"],"title":"Laravel Backend Control Website - 9","uri":"/laravel-myweb-9/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. XSS (Cross-site scripting)\ræ³¨æ„\rã€ŒçŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ°ç™¾å‹ã€\rXSS å°±æ˜¯åˆ©ç”¨ Javascript ç­‰èªè¨€æ–¹å¼åœ¨ç¶²ç«™æ³¨å…¥æŒ‡ä»¤ï¼Œé€²è€Œä½¿ç¶²ç«™ç„¡æ³•é‹ä½œæˆ–è€…ç«Šå–æ©Ÿæ•è³‡æ–™ã€‚ åœ¨ Laravel ä¸­é›–ç„¶å…§å»º {% raw %}{{ $data }}{% endraw %} çš„æ–¹å¼é”æˆ htmlspecialchars() ï¼Œ ä½†é€™æ˜¯åœ¨è¼¸å‡ºçš„éƒ¨åˆ†ã€‚ å¦‚æœå†è³‡æ–™è¢«å¯«å…¥çš„æ™‚å€™å°±ææ—©é˜²ç¦¦ï¼Œæ˜¯ä¸æ˜¯æ›´å¥½å‘¢? ","date":"2020-05-22","objectID":"/laravel-myweb-9/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","request","XSS","htmlpurifier"],"title":"Laravel Backend Control Website - 9","uri":"/laravel-myweb-9/#1-xss-cross-site-scripting"},{"categories":["CODE"],"content":"\r2. Htmlpurifieré€™æ¬¡å°±ä»‹ç´¹ä¸€å€‹å¥—ä»¶å¯ä»¥åœ¨è¼¸å…¥æˆ–è¼¸å‡ºçš„æ™‚å€™å…ˆå°‡è³‡æ–™é€²è¡Œéæ¿¾ï¼Œé‚£å°±æ˜¯ HtmlPurifierã€‚ ä¸€æ¬¾å¯ä»¥è‡ªè¨‚åƒæ•¸ä¸¦æ”¯æ´ Laravel çš„éæ¿¾ XSS å¥—ä»¶ã€‚ å®‰è£ : composer require mews/purifier æ¥è‘—ç”±æ–¼æˆ‘å€‘ä½¿ç”¨çš„æ˜¯Laravel 5.8 çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ : php artisan vendor:publish --provider=\"Mews\\Purifier\\PurifierServiceProvider\" å³å¯ç”Ÿæˆ config/purifier.php æª”æ¡ˆï¼Œåœ¨é€™å€‹æª”æ¡ˆå…§è¨­å®šèª¿æ•´è¦éæ¿¾çš„é¸é …ã€‚ æœ€å¾Œåªè¦ä½¿ç”¨ clean() æˆ–è€… Purifier::clean() çš„æ–¹å¼å°±å¯ä»¥å°‡ä½ è¨å­çš„æ±è¥¿éæ¿¾æ‰äº†ã€‚ ä»¥æ–°å¢æœƒå“¡çš„ store() ä½œç‚ºç¯„ä¾‹ : public function store(Request $request) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '5') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $error = 0; $user = new User; $data = $request-\u003evalidate([ 'name' =\u003e ['required', 'string', 'max:255'], 'email' =\u003e ['required', 'string', 'email', 'max:255', 'unique:users'], 'password' =\u003e ['required', 'string', 'min:1', 'confirmed'], 'permission' =\u003e ['required', 'string', 'max:5', 'min:0'], ]); foreach ($request-\u003eexcept('_token','_method','password_confirmation') as $key =\u003e $value) { if ($request-\u003efilled($key) \u0026\u0026 $key == 'password') { $user-\u003epassword = Hash::make($data['password']); } elseif ($request-\u003efilled($key)) { $user-\u003e$key = strip_tags(clean($data[$key])); if ($user-\u003e$key == '') { $error += 1; } } } if ($error == 0) { $user-\u003esave(); } else{ return back()-\u003ewithInput()-\u003ewith('warning', 'è«‹ç¢ºèªè¼¸å…¥ !'); } return back()-\u003ewith('success','æœƒå“¡æ–°å¢æˆåŠŸ !'); } 16è¡Œå°‡ä¸è¦çš„è¼¸å…¥æ’é™¤ã€‚ 18è¡Œå°‡ Password åŠ å¯†è™•ç†ã€‚ 21è¡Œå°‡å…¶é¤˜è¼¸å…¥é€ä¸€é€²è¡Œéæ¿¾ï¼ŒåŠ ä¸Š strip_tags æ˜¯å› ç‚º clean() ä¹‹å¾Œæœƒç•™ä¸‹ \u003cp\u003e\u003c/p\u003e ï¼Œæ‰€ä»¥å°‡ä¹‹æ’é™¤ã€‚ 22è¡Œåˆ¤æ–·å¦‚æœéæ¿¾å¾Œç‚ºç©ºå€¼ï¼Œå‰‡éŒ¯èª¤ã€‚ ","date":"2020-05-22","objectID":"/laravel-myweb-9/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","request","XSS","htmlpurifier"],"title":"Laravel Backend Control Website - 9","uri":"/laravel-myweb-9/#2-htmlpurifier"},{"categories":["CODE"],"content":"\rçµèªè«‹æ³¨æ„ä¸è¦åœ¨é é¢ç®¡ç†çš„ content ä½¿ç”¨ strip_tagsï¼Œæœƒå¾ˆå¯æ€•ã€‚ åœ¨æ‰€æœ‰çš„Controller ä¸­éƒ½åŠ å…¥ Htmlpurifier å§ ! ä¸‹ä¸€ç¯‡å°‡ä»‹ç´¹æŠ“æˆ°çŠ¯çš„å·¥å…· LOG ğŸ¤ª ","date":"2020-05-22","objectID":"/laravel-myweb-9/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","request","XSS","htmlpurifier"],"title":"Laravel Backend Control Website - 9","uri":"/laravel-myweb-9/#çµèª"},{"categories":["CODE"],"content":"å®¢è£½åŒ–ç¨‹å¼ç¢¼é«˜äº® - Customize Code Highlighter","date":"2020-05-17","objectID":"/prism-highlighter/","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/"},{"categories":["CODE"],"content":" å®¢è£½åŒ–ç¨‹å¼ç¢¼é«˜äº® - Customize Code Highlighter ","date":"2020-05-17","objectID":"/prism-highlighter/:0:0","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/#"},{"categories":["CODE"],"content":"\rå‰è¨€ä¹‹å‰ç”¨çš„ Rough æœ‰é»ä¸ç¿’æ…£ï¼Œæ‰€ä»¥æ‰¾åˆ° Prism ï¼Œä¸€å€‹å®¢è£½åŒ–çš„ç¨‹å¼ç¢¼é«˜äº®çš„æ‡‰ç”¨ã€‚ ","date":"2020-05-17","objectID":"/prism-highlighter/:1:0","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. ä¸‹è¼‰åœ°å€https://prismjs.com/download.html å‹¾é¸å®Œéœ€æ±‚å¾Œï¼Œå°±å¯ä»¥åœ¨æœ€ä¸‹æ–¹ä¸‹è¼‰ js åŠ css æª”æ¡ˆã€‚ ","date":"2020-05-17","objectID":"/prism-highlighter/:2:0","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/#1-ä¸‹è¼‰åœ°å€"},{"categories":["CODE"],"content":"\r2. æ’ä»¶Prism æä¾›äº†ä¸€äº›æ’ä»¶è¼”åŠ©ï¼Œæ¯”å¦‚é¡¯ç¤ºç¨‹å¼ç¢¼è¡Œæ•¸ã€ç¨‹å¼ç¢¼èªè¨€åˆ¥ã€å–®è¡Œé«˜äº®â€¦ç­‰ç­‰ã€‚ ä»¥ä¸‹æä¾›ä¸€äº›æˆ‘ä½¿ç”¨çš„æ’ä»¶ã€‚ ","date":"2020-05-17","objectID":"/prism-highlighter/:3:0","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/#2-æ’ä»¶"},{"categories":["CODE"],"content":"\r3. ç¨‹å¼ç¢¼è¡Œæ•¸ Line Numbersåœ¨è¦é«˜äº®çš„å…§å®¹è¦åŠ å…¥ line-numbers çš„ classé¡åˆ¥ï¼Œå¦‚ä¸‹ : \u003carticle class=\"post-content line-numbers\" itemprop=\"articleBody\"\u003e {% raw %}{{ content }}{% endraw %} \u003c/article\u003e ","date":"2020-05-17","objectID":"/prism-highlighter/:4:0","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/#3-ç¨‹å¼ç¢¼è¡Œæ•¸-line-numbers"},{"categories":["CODE"],"content":"\r4. è¤‡è£½ Copy to Clipboard Buttonæ²’é‡é»ï¼ŒåŒæ™‚å‹¾é¸ Copy to Clipboard Button åŠ Toolbar å¾Œå¼•å…¥ js æª”å³å¯ã€‚ ","date":"2020-05-17","objectID":"/prism-highlighter/:5:0","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/#4-è¤‡è£½-copy-to-clipboard-button"},{"categories":["CODE"],"content":"\r5. çµæ§‹æ¨¹ Treeviewå‹¾é¸ Treeview å¾Œå¼•å…¥ js æª”ï¼Œé«˜äº®èªè¨€é¸æ“‡ treeview å³å¯ã€‚ {% raw %}{% highlight treeview %}{% endraw %} ...ç¨‹å¼ç¢¼... {% raw %}{% endhighlight %}{% endraw %} ","date":"2020-05-17","objectID":"/prism-highlighter/:6:0","series":null,"tags":["javascript","css","highlight","prism","code"],"title":"Prism - Customize Code Highlighter","uri":"/prism-highlighter/#5-çµæ§‹æ¨¹-treeview"},{"categories":["CODE"],"content":"é•·æ™‚é–“è¼ªè©¢PHP+MySQLç¯„ä¾‹ - Long Polling PHP + MySQL Example","date":"2020-05-13","objectID":"/long-polling-example/","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/"},{"categories":["CODE"],"content":" é•·æ™‚é–“è¼ªè©¢PHP+MySQLç¯„ä¾‹ - Long Polling PHP + MySQL Example ","date":"2020-05-13","objectID":"/long-polling-example/:0:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#"},{"categories":["CODE"],"content":"\rå‰è¨€Hello å¤§å®¶ï¼Œé€™ä¸€ç¯‡ æåˆ°äº†ä¸€å€‹æ–‡ä»¶æ›´æ–°çš„ç¯„ä¾‹ä¾†ç¤ºç¯„ Long Pollingã€‚ é€™ç¯‡æ‰“ç®—åˆ©ç”¨è³‡æ–™åº«æ–°å¢çš„æ–¹å¼åšä¸€å€‹ç¯„ä¾‹ã€‚ ","date":"2020-05-13","objectID":"/long-polling-example/:1:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. è³‡æ–™çµæ§‹ php-long-polling/ â””â”€â”€ client/ â”œâ”€â”€ client.js â””â”€â”€ client.html â””â”€â”€ server/ â”œâ”€â”€ database.php â””â”€â”€ server.php â””â”€â”€ index.php ","date":"2020-05-13","objectID":"/long-polling-example/:2:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#1-è³‡æ–™çµæ§‹"},{"categories":["CODE"],"content":"\r2. è³‡æ–™åº«å¯ä»¥ç”¨phpmyadminæ‰‹å‹•æ–°å¢æˆ–ç›´æ¥è¼¸å…¥ä»¥ä¸‹SQLæŒ‡ä»¤ : CREATE TABLE `admin` ( `id` int(11) NOT NULL, `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL ) database.php : \u003c?php $db_host = \"localhost\"; $db_user = \"è‡ªè¡Œè¼¸å…¥å°æ‡‰æ•¸å€¼\"; $db_pass = \"è‡ªè¡Œè¼¸å…¥å°æ‡‰æ•¸å€¼\"; $db_name = \"è‡ªè¡Œè¼¸å…¥å°æ‡‰æ•¸å€¼\"; $dbconnect = \"mysql:host=\".$db_host.\";dbname=\".$db_name; $dbgo = new PDO($dbconnect, $db_user, $db_pass); ?\u003e ","date":"2020-05-13","objectID":"/long-polling-example/:3:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#2-è³‡æ–™åº«"},{"categories":["CODE"],"content":"\r3. è³‡æ–™æ–°å¢index.php : \u003c?php include_once('./server/database.php'); if ($_POST) { $sql = \"INSERT INTO `admin` (`password`,`name`) VALUES ('\".$_POST['name'].\"','\".$_POST['password'].\"')\"; $result = $dbgo-\u003equery($sql); } ?\u003e \u003cform method=\"post\"\u003e name : \u003cinput type=\"text\" name=\"name\"\u003e password : \u003cinput type=\"password\" name=\"password\"\u003e \u003cinput type=\"submit\"\u003e \u003c/form\u003e ","date":"2020-05-13","objectID":"/long-polling-example/:4:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#3-è³‡æ–™æ–°å¢"},{"categories":["CODE"],"content":"\r4. ä¼ºæœç«¯server.php : include_once('database.php'); set_time_limit(0); while (true) { // å®¢æˆ¶ç«¯ç™¼Request $last_ajax_call = isset($_GET['max']) ? $_GET['max'] : null; // å–å¾—ç•¶å‰è³‡æ–™åº«è³‡æ–™ $sql = \"select * from `admin`\"; $data = $dbgo-\u003equery($sql); $row = $data-\u003efetchAll(PDO::FETCH_ASSOC); $max_id = array(); foreach ($row as $key =\u003e $value) { array_push($max_id, $value['id']); } // å–å‡ºæœ€å¤§id $max_id = max($max_id); // å¦‚æœç•¶å‰æ•¸å€¼å¤§æ–¼å®¢æˆ¶ç«¯çš„requestè¡¨ç¤ºæ–°å¢ if ($last_ajax_call == null || $max_id \u003e $max) { $result = array( 'data_from_database' =\u003e json_encode($row), 'id' =\u003e $max_id ); // å°‡è³‡æ–™è½‰æˆJSONæ ¼å¼ï¼Œä¸¦å‘ˆç¾çµæœ $json = json_encode($result); echo $json; break; } else { sleep(1); continue; } } é€™æ¬¡ä½¿ç”¨çš„æ‰¾å‡ºè³‡æ–™åº«æ–°å¢çš„æ–¹æ³•æ˜¯æ‰¾å‡ºæœ€å¤§ IDï¼Œå› ç‚ºæ˜¯ Auto Increase ã€‚ ","date":"2020-05-13","objectID":"/long-polling-example/:5:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#4-ä¼ºæœç«¯"},{"categories":["CODE"],"content":"\r5. å®¢æˆ¶ç«¯client.php : function getContent(id) { var queryString = {'id' : id}; $.ajax( { type: 'GET', url: 'http://127.0.0.1/php-long-polling/server/server.php', data: queryString, success: function(data){ var obj = jQuery.parseJSON(data); var user = ''; $.each(jQuery.parseJSON(obj.data_from_database), function(key, value){ user += '\u003ctr\u003e'; user += '\u003ctd\u003e'+value.id+'\u003c/td\u003e'; user += '\u003ctd\u003e'+value.name+'\u003c/td\u003e'; user += '\u003ctd\u003e'+value.password+'\u003c/td\u003e'; user += '\u003c/tr\u003e'; }); $('#response').html(user); getContent(obj.id); } } ); } $(function() { getContent(); }); æ¦‚å¿µè·Ÿä¹‹å‰ç¯„ä¾‹ä¸€æ¨£ï¼Œç‹‚ä¸Ÿ Requestï¼ŒæŠŠæ”¶åˆ°çš„è³‡æ–™è½‰æˆè¡¨æ ¼è¼¸å‡ºä¸¦æ‰“å°åœ¨ #responseã€‚ client.html : \u003chtml\u003e \u003chead\u003e \u003cscript type=\"text/javascript\" src=\"http://code.jquery.com/jquery.min.js\"\u003e\u003c/script\u003e \u003cscript type=\"text/javascript\" src=\"client.js\"\u003e\u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003eResponse from server:\u003c/h1\u003e \u003ctable id=\"response\"\u003e \u003ctr\u003e \u003cth\u003eid\u003c/th\u003e \u003cth\u003ename\u003c/th\u003e \u003cth\u003epassword\u003c/th\u003e \u003c/tr\u003e \u003c/table\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2020-05-13","objectID":"/long-polling-example/:6:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#5-å®¢æˆ¶ç«¯"},{"categories":["CODE"],"content":"\r6. çµèª å®å®çµæŸï¼Œå¯ä»¥æƒ³æƒ³åˆªé™¤æ€éº¼åšğŸ¥± ","date":"2020-05-13","objectID":"/long-polling-example/:7:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling Database Example","uri":"/long-polling-example/#6-çµèª"},{"categories":["CODE"],"content":"é•·æ™‚é–“è¼ªè©¢ - Long Polling","date":"2020-05-12","objectID":"/long-polling/","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling","uri":"/long-polling/"},{"categories":["CODE"],"content":" é•·æ™‚é–“è¼ªè©¢ - Long Polling ","date":"2020-05-12","objectID":"/long-polling/:0:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling","uri":"/long-polling/#"},{"categories":["CODE"],"content":"\rå‰è¨€PHPè¦åšå³æ™‚(Real-time)æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼ŒPollingã€Long Pollingã€WebSocketâ€¦ç­‰ç­‰ã€‚ é€™æ¬¡åˆ†äº«ä¸€å€‹ç°¡å–®çš„Long Pollingç¯„ä¾‹ ã€‚ ","date":"2020-05-12","objectID":"/long-polling/:1:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling","uri":"/long-polling/#å‰è¨€"},{"categories":["CODE"],"content":"\rç¯„ä¾‹èªªæ˜å¦‚æœç‰©ä»¶(data.txt)æ”¹è®Šäº†ï¼Œclient.phpå°‡è‡ªå‹•æ›´æ–°ï¼Œä¸éœ€é€éé‡æ–°æ•´ç†ã€‚ client.js æŒçºŒä¸Ÿ request çµ¦ server.php ï¼Œ è‹¥ç„¡é™å¾ªç’°çš„ server.php ç™¼ç¾ client çš„ç‰©ä»¶(data.txt)æ™‚é–“æˆ³å°æ–¼è‡ªå·±ï¼Œ å°±å°‡æ›´æ–°å¾Œçš„ç‰©ä»¶è³‡æ–™(json)å‚³é€çµ¦ client ï¼Œå®Œæˆè‡ªå‹•æ›´æ–°ã€‚ ","date":"2020-05-12","objectID":"/long-polling/:2:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling","uri":"/long-polling/#ç¯„ä¾‹èªªæ˜"},{"categories":["CODE"],"content":"\rè³‡æ–™ä¾†æºphp-long-polling ","date":"2020-05-12","objectID":"/long-polling/:3:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling","uri":"/long-polling/#è³‡æ–™ä¾†æº"},{"categories":["CODE"],"content":"\rçµèªä¸‹æ¬¡æˆ‘ç”¨PHP + MySQL åšä¸€å€‹ç¯„ä¾‹ã€‚ ","date":"2020-05-12","objectID":"/long-polling/:4:0","series":null,"tags":["php","javascript","request","ajax","real-time","long-polling"],"title":"Long Polling","uri":"/long-polling/#çµèª"},{"categories":["CODE"],"content":"Laravel é é¢ç®¡ç† - Page Manager","date":"2020-05-10","objectID":"/laravel-myweb-8/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/"},{"categories":["CODE"],"content":" Laravel é é¢ç®¡ç† - Page Manager ","date":"2020-05-10","objectID":"/laravel-myweb-8/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#"},{"categories":["CODE"],"content":"\rå‰è¨€Hello å¤§å®¶ ! åœ¨ ç¬¬å…­ç¯‡ å‰µå»ºäº†å°è¦½åˆ—ç®¡ç†ï¼Œè€Œé‚£æ™‚å€™å°‡å°è¦½åˆ—åˆ†æˆå…©å€‹é¡å‹ï¼Œåˆ†åˆ¥æ˜¯ å°è¦½ç›®éŒ„ ä»¥åŠ ä¸€èˆ¬é é¢ ã€‚ ä¸€èˆ¬é é¢ : é»æ“Šå¾Œç›´æ¥å°å‘è©²é é¢ã€‚ å°è¦½ç›®éŒ„ : é»æ“Šå¾Œç”¢ç”Ÿä¸‹æ‹‰å¼é¸å–®ï¼Œå…§å®¹ç‚ºé¸å–®ã€‚ è€Œé€™ç¯‡è¦åšçš„å°±æ˜¯ ä¸€èˆ¬é é¢ çš„é é¢ç®¡ç†ã€‚ ","date":"2020-05-10","objectID":"/laravel-myweb-8/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. æ–°å¢Controllerã€Modelã€Migration // ä¸€æ¬¡æ€§å»ºç«‹ php artisan make:model Page -mcr ","date":"2020-05-10","objectID":"/laravel-myweb-8/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#1-æ–°å¢controllermodelmigration"},{"categories":["CODE"],"content":"\r2. ä¿®æ”¹Migration \u003c?php use Illuminate\\Support\\Facades\\Schema; use Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class CreatePagesTable extends Migration { public function up() { Schema::create('pages', function (Blueprint $table) { $table-\u003ebigIncrements('id'); $table-\u003estring('menu_id')-\u003enullable()-\u003ecomment('é¸å–®id'); $table-\u003estring('editor')-\u003ecomment('ç·¨è¼¯è€…'); $table-\u003estring('title')-\u003ecomment('æ¨™é¡Œ'); $table-\u003estring('url')-\u003ecomment('é é¢ç¶²å€'); $table-\u003elongText('content')-\u003enullable()-\u003ecomment('é é¢å…§å®¹'); $table-\u003eboolean('is_open')-\u003edefault(true)-\u003ecomment('æ˜¯å¦é–‹æ”¾'); $table-\u003etimestamps(); }); } public function down() { Schema::dropIfExists('pages'); } } ä¹‹å¾Œæœƒå»ºç«‹é¸å–®é€£çµé é¢ï¼Œæ‰€ä»¥å…ˆåŠ å…¥é¸å–®IDæ¬„ä½ã€‚ ç„¶å¾Œå¯«å…¥è³‡æ–™åº« : php artisan migrate ","date":"2020-05-10","objectID":"/laravel-myweb-8/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#2-ä¿®æ”¹migration"},{"categories":["CODE"],"content":"\r3. ä¿®æ”¹Model \u003c?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class Page extends Model { protected $table = 'pages'; protected $primaryKey = 'id'; protected $fillable = [ \"name\", \"menu_id\" ,\"title\", \"url\", \"content\", \"is_open\", ]; } ","date":"2020-05-10","objectID":"/laravel-myweb-8/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#3-ä¿®æ”¹model"},{"categories":["CODE"],"content":"\r4. åŠ å…¥è·¯ç”± Route::prefix('manage')-\u003emiddleware('auth','admin')-\u003egroup(function(){ Route::resource('member', 'MemberController'); Route::resource('navbar', 'NavbarController'); Route::resource('page', 'PageController'); }); ","date":"2020-05-10","objectID":"/laravel-myweb-8/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#4-åŠ å…¥è·¯ç”±"},{"categories":["CODE"],"content":"\r5. å»ºç«‹è¦–åœ– views/ â”œâ”€â”€ _layouts/ â”œâ”€â”€ _partials/ â”œâ”€â”€ auth/ â””â”€â”€ manage/ â””â”€â”€ member/ â””â”€â”€ navbar/ â””â”€â”€ page/ â”œâ”€â”€ create.blade.php â”œâ”€â”€ edit.blade.php â””â”€â”€ index.blade.php ","date":"2020-05-10","objectID":"/laravel-myweb-8/:6:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#5-å»ºç«‹è¦–åœ–"},{"categories":["CODE"],"content":"\r6. é é¢ç®¡ç†å…ˆå»ºç«‹é é¢ç®¡ç†é¦–é  index.blade.php : @extends('_layouts.manage.app') @section('title', trans('Page').trans('Manage')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Page').trans('Manage') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-inline\"\u003e \u003cli class=\"list-inline-item\"\u003e{% raw %}{{ App\\Button::Create() }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cdiv class=\"alert alert-warning\" role=\"alert\"\u003e 1. å‰å°æ’åºä»¥é é¢ä¿®æ”¹æ—¥æœŸç‚ºä¸»ã€‚\u003cbr\u003e 2. é é¢ç¶²å€å”¯ä¸€ï¼Œç”¨é€”ç‚ºå°å‘è©²é é¢ã€‚ \u003c/div\u003e \u003cdiv class=\"table-responsive\"\u003e \u003ctable id=\"data\" class=\"table table-hover table-bordered text-center\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Editor') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Title') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Page').trans('Url') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Action') }}{% endraw %}\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e @foreach ($all_pages as $page) \u003ctr\u003e \u003ctd\u003e{% raw %}{{ $page-\u003eeditor }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $page-\u003etitle }}{% endraw %}\u003c/td\u003e \u003ctd\u003e {% raw %}{{ $page-\u003eurl }}{% endraw %} \u003c/td\u003e \u003ctd\u003e \u003cfont color=\"{% raw %}{{App\\Enum::is_open['color'][$page-\u003eis_open]}}{% endraw %}\"\u003e\u003ci class=\"fas fa-{% raw %}{{App\\Enum::is_open['label'][$page-\u003eis_open]}}{% endraw %}\"\u003e\u003c/i\u003e\u003c/font\u003e \u003c/td\u003e \u003ctd\u003e \u003cform action=\"{% raw %}{{ route('page.edit',$page-\u003eid) }}{% endraw %}\" method=\"GET\"\u003e @csrf {% raw %}{{ App\\Button::edit($page-\u003eid) }}{% endraw %} \u003c/form\u003e \u003cform action=\"{% raw %}{{ route('page.destroy',$page-\u003eid) }}{% endraw %}\" method=\"POST\"\u003e @method('DELETE') @csrf {% raw %}{{ App\\Button::deleting($page-\u003eid) }}{% endraw %} \u003c/form\u003e \u003c/td\u003e \u003c/tr\u003e @endforeach \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection PageController.php : \u003c?php namespace App\\Http\\Controllers; use Illuminate\\Http\\Request; use Illuminate\\Support\\Facades\\Auth; use Illuminate\\Support\\Facades\\DB; use App\\Page; use App\\Navbar; ...ç•¥... public function index() { $all_pages = DB::table('pages')-\u003eget(); return view('manage.page.index',compact('all_pages')); } ","date":"2020-05-10","objectID":"/laravel-myweb-8/:7:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#6-é é¢ç®¡ç†"},{"categories":["CODE"],"content":"\r7. åŠ å…¥ç·¨è¼¯å™¨åœ¨æ–°å¢æ–‡ç« æ™‚éœ€è¦ä½¿ç”¨ç·¨è¼¯å™¨è¼”åŠ©ï¼Œå¯ä»¥ä½¿ç”¨åƒæ˜¯ Ckeditor æˆ– TinyMCE ç­‰ç­‰çš„ç·¨è¼¯å™¨ã€‚ é€™æ¬¡æˆ‘ä½¿ç”¨ Summernote ç•¶ä½œç¯„ä¾‹ï¼Œåœ¨ manage/app.blade.php ä¸­åŠ å…¥ : \u003c!-- include libraries(jQuery) --\u003e \u003cscript src=\"https://code.jquery.com/jquery-3.4.1.min.js\" crossorigin=\"anonymous\"\u003e\u003c/script\u003e \u003cscript src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js\" integrity=\"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo\" crossorigin=\"anonymous\"\u003e\u003c/script\u003e \u003c!-- include summernote css/js --\u003e \u003clink href=\"https://cdn.jsdelivr.net/npm/summernote@0.8.16/dist/summernote-bs4.min.css\" rel=\"stylesheet\"\u003e \u003cscript src=\"https://cdn.jsdelivr.net/npm/summernote@0.8.16/dist/summernote-bs4.min.js\"\u003e\u003c/script\u003e ","date":"2020-05-10","objectID":"/laravel-myweb-8/:8:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#7-åŠ å…¥ç·¨è¼¯å™¨"},{"categories":["CODE"],"content":"\r8. é é¢æ–°å¢create.blade.php : @extends('_layouts.manage.app') @section('title', trans('Page').trans('Create')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cform action=\"{% raw %}{{ route('page.store') }}{% endraw %}\" method=\"POST\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Page').trans('Create') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('page.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e @csrf \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"title\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Title') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput type=\"text\" class=\"form-control @error('title') is-invalid @enderror\" id=\"title\" name=\"title\" value=\"{% raw %}{{ old('title') }}{% endraw %}\" placeholder=\"{% raw %}{{ trans('Title') }}{% endraw %}\"\u003e @error('title') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"url\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Page').trans('Url') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput type=\"text\" class=\"form-control @error('url') is-invalid @enderror\" id=\"url\" name=\"url\" value=\"{% raw %}{{ old('url') }}{% endraw %}\" placeholder=\"{% raw %}{{ trans('Page').trans('Url') }}{% endraw %}\"\u003e @error('url') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"content\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Content') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-12\"\u003e \u003ctextarea id=\"summernote\" name=\"editordata\" class=\"form-control\" \u003e{!! old('content') !!}\u003c/textarea\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"is_open\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"form-inline col-md-6\"\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_open\" id=\"is_open1\" value=\"1\"\u003e \u003clabel class=\"custom-control-label\" for=\"is_open1\"\u003e{% raw %}{{ trans('Yes') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_open\" id=\"is_open2\" value=\"0\"\u003e \u003clabel class=\"custom-control-label\" for=\"is_open2\"\u003e{% raw %}{{ trans('No') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"card-footer text-center\"\u003e \u003cinput type=\"submit\" class=\"btn btn-primary\" value=\"{% raw %}{{ trans('Create') }}{% endraw %}\"\u003e \u003c/div\u003e \u003c/form\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection @section('script') @parent \u003cscript type=\"text/javascript\"\u003e $(document).ready(function() { $('#summernote').summernote(); $('.note-btn').removeAttr('title'); }); \u003c/script\u003e @show PageController.php : public function create() { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '2') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } return view('manage.page.create'); } public function store(Request $request) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '2') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $error = 0; $page = new Page; $data = $request-\u003evalidate([ 'menu_id' =\u003e ['nullable'], 'title' =\u003e ['required', 'string', 'max:255'], 'url' =\u003e ['required', 'string', 'max:255','unique:pages,url'], 'is_open' =\u003e ['required'], ]); foreach ($request-\u003eexcept('_token', '_method', 'files') as $key =\u003e $value) { if ($request-\u003efilled($key) \u0026\u0026 $request-\u003efilled($key) != NULL \u0026\u0026 $key != 'content') { $page-\u003e$key = $data[$key]; if ($page-\u003e$key == '') { $error += 1; } } else{ $page-\u003e$key = NULL; } } $page-\u003econtent = $request-\u003einput('content'); $page-\u003eeditor = Auth::user()-\u003ename; if ($error == 0) { $page-\u003esave(); } else{ return back()-\u003ewithInput()-\u003ewith('warning', 'è«‹ç¢ºèªè¼¸å…¥ !'); } return back()-\u003ewith('succ","date":"2020-05-10","objectID":"/laravel-myweb-8/:9:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#8-é é¢æ–°å¢"},{"categories":["CODE"],"content":"\r9. é é¢ä¿®æ”¹edit.blade.php : @extends('_layouts.manage.app') @section('title', trans('Page').trans('Edit')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Page').trans('Edit') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('page.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cform method=\"POST\" action=\"{% raw %}{{ route('page.update' , $page-\u003eid) }}{% endraw %}\"\u003e @csrf @method('PUT') \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"title\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Title') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"title\" type=\"text\" class=\"form-control @error('title') is-invalid @enderror\" name=\"title\" value=\"{% raw %}{{ $page-\u003etitle }}{% endraw %}\" required autocomplete=\"{% raw %}{{ trans('Title') }}{% endraw %}\" autofocus\u003e @error('title') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"url\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Page').trans('Url') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"url\" type=\"text\" class=\"form-control @error('url') is-invalid @enderror\" name=\"url\" value=\"{% raw %}{{ $page-\u003eurl }}{% endraw %}\" required autocomplete=\"{% raw %}{{ trans('Page').trans('Url') }}{% endraw %}\" autofocus readonly\u003e @error('url') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"content\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Content') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-12\"\u003e \u003ctextarea id=\"summernote\" name=\"content\" class=\"form-control ckeditor\" \u003e{% raw %}{{ $page-\u003econtent }}{% endraw %}\u003c/textarea\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"is_open\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"form-inline col-md-6\"\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_open\" id=\"is_open1\" value=\"1\" {% raw %}{{ ($page-\u003eis_open==\"1\")? \"checked\" : \"\" }}{% endraw %}\u003e \u003clabel class=\"custom-control-label\" for=\"is_open1\"\u003e{% raw %}{{ trans('Yes') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_open\" id=\"is_open2\" value=\"0\" {% raw %}{{ ($page-\u003eis_open==\"0\")? \"checked\" : \"\" }}{% endraw %}\u003e \u003clabel class=\"custom-control-label\" for=\"is_open2\"\u003e{% raw %}{{ trans('No') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003cdiv class=\"col-md-4\"\u003e \u003cinput type=\"submit\" class=\"btn btn-primary\" value=\"é€å‡º\"\u003e \u003c/div\u003e \u003c/div\u003e \u003c/form\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection @section('script') @parent \u003cscript type=\"text/javascript\"\u003e $('#summernote').summernote(); $('.note-btn').removeAttr('title'); \u003c/script\u003e @show PageController.php : public function edit($id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $page = Page::where('id',$id)-\u003efirst(); $navbars = Navbar::where('type', '=', '1')-\u003eget(); return view('manage.page.edit',compact('page','navbars')); } public function update(Request $request, $id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $error = 0; $page = Page::where('id',$id)-\u003efirst(); $data = $this-\u003evalidate($request, [ 'menu_id' =\u003e ['nullable'], 'title' =\u003e ['required', 'string', 'max:255'], 'url' =\u003e ['required', 'string', 'max:255'], 'is_open' =\u003e ['required'], ]); foreach ($request-\u003eexcept('_token','_method','files') as $key =\u003e $value) { if ($request-\u003efilled($key) \u0026\u0026 $request-\u003efilled($key) != NULL \u0026\u0026 $key != 'content') { $pa","date":"2020-05-10","objectID":"/laravel-myweb-8/:10:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#9-é é¢ä¿®æ”¹"},{"categories":["CODE"],"content":"\r10. é é¢åˆªé™¤PageController.php : public function destroy($id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '4') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } Page::destroy($id); return back()-\u003ewith('success','åˆªé™¤é é¢æˆåŠŸ !'); } ","date":"2020-05-10","objectID":"/laravel-myweb-8/:11:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#10-é é¢åˆªé™¤"},{"categories":["CODE"],"content":"\r11. çµèªå®å®çµæŸğŸ˜ ä¸‹æ¬¡ä¾†èŠèŠå‰å°é¡¯ç¤ºä»¥åŠç‚ºä»€éº¼ Controller çš„ store() å’Œ update() éƒ½è¦å¯«é€™éº¼é†œã€‚ ä¸€èˆ¬ä¸éƒ½ Page::create($request-\u003eall()) è·Ÿ Page::updateOrCreate($request-\u003eall()) ç›´æ¥æå®šå— ? ","date":"2020-05-10","objectID":"/laravel-myweb-8/:12:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 8","uri":"/laravel-myweb-8/#11-çµèª"},{"categories":["EXECUTION"],"content":"åœ¨Windowsç’°å¢ƒå®‰è£Swoole - Install Swoole on Windows","date":"2020-05-06","objectID":"/swoole-install-on-windows/","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/"},{"categories":["EXECUTION"],"content":" åœ¨Windowsç’°å¢ƒå®‰è£Swoole - Install Swoole on Windows ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:0:0","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#"},{"categories":["EXECUTION"],"content":"\rå‰è¨€ æœ€è¿‘æƒ³ç© websocketï¼Œæ‰€ä»¥æ‰¾äº†ä¸€å€‹å¥—ä»¶ Swoole ä¾†è©¦çœ‹çœ‹ã€‚å¯æ˜¯Swooleä¸€èˆ¬æ˜¯ä½¿ç”¨åœ¨Linuxç’°å¢ƒï¼Œæ‰€ä»¥å°±è¦ä½¿ç”¨ Cygwin ä¾†å¯¦ç¾äº†ã€‚ ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:1:0","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#å‰è¨€"},{"categories":["EXECUTION"],"content":"\ræœ¬ç¯‡é‡é» å®‰è£ Cygwin å®‰è£ Swoole æ¸¬è©¦ Swoole ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:2:0","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#æœ¬ç¯‡é‡é»"},{"categories":["EXECUTION"],"content":"\r1. å®‰è£ Cygwin Cygwin ä¸‹è¼‰åœ°å€ï¼šhttps://www.cygwin.com/ ä»¥ä¸‹æ˜¯æˆ‘å®‰è£çš„æ­¥é©Ÿï¼Œå¯ä»¥æ ¹æ“šè‡ªèº«éœ€æ±‚æ›´æ”¹ã€‚ ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:0","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#1-å®‰è£-cygwin"},{"categories":["EXECUTION"],"content":"\rStep 1\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:1","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-1"},{"categories":["EXECUTION"],"content":"\rStep 2\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:2","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-2"},{"categories":["EXECUTION"],"content":"\rStep 3\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:3","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-3"},{"categories":["EXECUTION"],"content":"\rStep 4\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:4","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-4"},{"categories":["EXECUTION"],"content":"\rStep 5. ä½¿ç”¨é¡åƒä¾†æº\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:5","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-5-ä½¿ç”¨é¡åƒä¾†æº"},{"categories":["EXECUTION"],"content":"\rStep 6. å®‰è£ binutils\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:6","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-6-å®‰è£-binutils"},{"categories":["EXECUTION"],"content":"\rStep 7. å®‰è£ gcc-coreï¼Œgcc-g++\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:7","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-7-å®‰è£-gcc-coregcc-g"},{"categories":["EXECUTION"],"content":"\rStep 8. å®‰è£ gdb\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:8","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-8-å®‰è£-gdb"},{"categories":["EXECUTION"],"content":"\rStep 9. å®‰è£ php\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:9","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-9-å®‰è£-php"},{"categories":["EXECUTION"],"content":"\rStep 10. å®‰è£ pcre-devel\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:10","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-10-å®‰è£-pcre-devel"},{"categories":["EXECUTION"],"content":"\rStep 11. å®‰è£ autoconf\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:11","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-11-å®‰è£-autoconf"},{"categories":["EXECUTION"],"content":"\rStep 12. å®‰è£ pcre\r","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:12","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-12-å®‰è£-pcre"},{"categories":["EXECUTION"],"content":"\rStep 13. ä¸‹ä¸€æ­¥åˆ°åº•","date":"2020-05-06","objectID":"/swoole-install-on-windows/:3:13","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-13-ä¸‹ä¸€æ­¥åˆ°åº•"},{"categories":["EXECUTION"],"content":"\r2. å®‰è£ SwooleSwoole ä¸‹è¼‰åœ°å€ : https://pecl.php.net/package/swoole ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:0","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#2-å®‰è£-swoole"},{"categories":["EXECUTION"],"content":"\rStep 1. è§£å£“ç¸®ä¸‹è¼‰å¥½çš„æª”æ¡ˆåˆ° cygwin64/home/ åº•ä¸‹ ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:1","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-1-è§£å£“ç¸®ä¸‹è¼‰å¥½çš„æª”æ¡ˆåˆ°-cygwin64home-åº•ä¸‹"},{"categories":["EXECUTION"],"content":"\rStep 2. åŸ·è¡Œ Cygwinæ‰“é–‹ ./cygwin64/Cygwin.bat ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:2","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-2-åŸ·è¡Œ-cygwin"},{"categories":["EXECUTION"],"content":"\rStep 3. é€²å…¥å£“ç¸®å¾Œçš„Swooleè³‡æ–™å¤¾ cd /home/swoole-4.5.0 ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:3","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-3-é€²å…¥å£“ç¸®å¾Œçš„swooleè³‡æ–™å¤¾"},{"categories":["EXECUTION"],"content":"\rStep 4. ç”¢ç”Ÿç·¨è­¯æ–‡ä»¶ configure phpize ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:4","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-4-ç”¢ç”Ÿç·¨è­¯æ–‡ä»¶-configure"},{"categories":["EXECUTION"],"content":"\rStep 5. å®‰è£ Swoole ./configure \u0026\u0026 make \u0026\u0026 make install ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:5","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-5-å®‰è£-swoole"},{"categories":["EXECUTION"],"content":"\rStep 6. åœ¨php.iniæ–‡ä»¶ä¸­åŠ å…¥ extension=swoole.so // å¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤æ‰¾åˆ°php.iniæª”æ¡ˆä½ç½® php -i | grep php.ini ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:6","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-6-åœ¨phpiniæ–‡ä»¶ä¸­åŠ å…¥-extensionswooleso"},{"categories":["EXECUTION"],"content":"\rStep 7. æŸ¥çœ‹æ˜¯å¦å®‰è£æˆåŠŸ php -m ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:4:7","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#step-7-æŸ¥çœ‹æ˜¯å¦å®‰è£æˆåŠŸ"},{"categories":["EXECUTION"],"content":"\r3. æ¸¬è©¦ Swoole cd /home/swoole-4.5.0/examples/http2 php server.php æ‰“é–‹ç€è¦½å™¨è¼¸å…¥ç¶²å€http://127.0.0.1:9501/ å‡ºç¾ä¸‹åœ–å‰‡ä»£è¡¨æˆåŠŸ : ","date":"2020-05-06","objectID":"/swoole-install-on-windows/:5:0","series":null,"tags":["php","websocket","realtime","cygwin","swoole"],"title":"Install Swoole on Windows","uri":"/swoole-install-on-windows/#3-æ¸¬è©¦-swoole"},{"categories":["CODE"],"content":"Laravel æ‹–æ›³æ’åºã€è¦–åœ–åˆæˆå™¨ - Drag Sortã€View Composer","date":"2020-05-05","objectID":"/laravel-myweb-7/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 7","uri":"/laravel-myweb-7/"},{"categories":["CODE"],"content":" Laravel æ‹–æ›³æ’åºã€è¦–åœ–åˆæˆå™¨ - Drag Sortã€View Composer ","date":"2020-05-05","objectID":"/laravel-myweb-7/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 7","uri":"/laravel-myweb-7/#"},{"categories":["CODE"],"content":"\rå‰è¨€Hello å¤§å®¶ ! åœ¨ ä¸Šä¸€ç¯‡ æåˆ°äº†è¦–åœ–åˆæˆå™¨(View Composer)ä»¥åŠå¦‚ä½•åˆ©ç”¨æ‹–æ›³ä¾†é€²è¡Œå°è¦½åˆ—çš„æ’åºï¼Œé€™ç¯‡å°±ä¾†ä¸€ä¸€è§£ç­”ã€‚ ","date":"2020-05-05","objectID":"/laravel-myweb-7/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 7","uri":"/laravel-myweb-7/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. è¦–åœ–åˆæˆå™¨è¦–åœ–åˆæˆå™¨(View Composer) æä¾›äº†ä¸€ç¨®æ–¹æ³•è®“ä½ å°‡è³‡æ–™ä¸€æ¬¡æ€§çš„åˆ†äº«åˆ°æŒ‡å®šçš„è¦–åœ–ï¼Œä¸Šä¸€ç¯‡æ‰€ä½¿ç”¨åˆ°çš„ : View::composer(['*'], function ($view) { $navbars = App\\Navbar::where('is_open',1)-\u003eorderby('sort')-\u003eget(); $users = App\\User::all(); $view-\u003ewith('navbars',$navbars); $view-\u003ewith('users',$users); }); è‹¥ä½ æƒ³å°‡ $navbars ä»¥åŠ $users åˆ†äº«åˆ°æ‰€æœ‰çš„è¦–åœ–ï¼Œå°±ä½¿ç”¨['*']ã€‚è‹¥åªæƒ³åˆ†äº«åˆ°æŒ‡å®šè¦–åœ–ï¼Œä¾‹å¦‚ç®¡ç†å¾Œå°é¦–é ï¼Œå‰‡ä½¿ç”¨['manage.index']ã€‚ é€™æ¨£ä¸€ä¾†å°±ä¸ç”¨å†æ§åˆ¶å™¨é‡è¤‡å®£å‘Šè³‡æ–™äº†ã€‚ æ³¨æ„\rä½†è¦è¨˜å¾—ï¼Œç”±æ–¼æ˜¯åˆ†äº«åˆ°æ‰€è¦–åœ–ï¼Œä¸èƒ½å’Œæ§åˆ¶å™¨å®£å‘Šçš„åå­—è¡çªã€‚\r","date":"2020-05-05","objectID":"/laravel-myweb-7/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 7","uri":"/laravel-myweb-7/#1-è¦–åœ–åˆæˆå™¨"},{"categories":["CODE"],"content":"\r2. æ‹–æ›³æ’åºè¦å®Œæˆæ‹–æ›³æ’åºï¼Œè¦ä½¿ç”¨å¹¾å€‹å·¥å…· : Datatable jQuery ç›´æ¥åœ¨ manage/app.blade.php ä¸­åŠ å…¥ : \u003cbody\u003e \u003cdiv id=\"app\"\u003e @include('_partials.manage.nav') \u003cmain class=\"py-4\"\u003e @include('_partials.message') @yield('content') \u003c/main\u003e \u003c/div\u003e @section('script') \u003cscript src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js\"\u003e\u003c/script\u003e @show \u003c/body\u003e ä¸Šé¢ä½¿ç”¨åˆ°äº† @section('script')...@show çš„æ–¹æ³•ï¼Œé€™æ¨£åœ¨å­è¦–åœ–å°±åªè¦ä½¿ç”¨ : @section('script') //å¼•å…¥appçš„js @parent //æœ¬é ä½¿ç”¨çš„js \u003cscript\u003e ...ç•¥... \u003c/script\u003e @show é¦–å…ˆï¼Œè¦å»ºç«‹æ’åºçš„è¦–åœ–ï¼Œsort.blade.php : @extends('_layouts.manage.app') @section('title', trans('Navbar').trans('Sort')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{trans('Navbar').trans('Sort')}}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('navbar.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cdiv class=\"alert alert-warning\" role=\"alert\"\u003e 1. è«‹ç›´æ¥æ‹–æ›³ç›®æ¨™åˆ—é€²è¡Œæ’åºã€‚\u003cbr\u003e 2. èª¿æ•´å®Œè«‹é»é‡æ–°æ•´ç†é€²è¡Œç¢ºèªã€‚ \u003c/div\u003e \u003ctable id=\"table\" class=\"table table-hover table-bordered text-center\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{trans('Navbar').trans('Name')}}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Type') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Sort') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody id=\"tablecontents\"\u003e @foreach ($navbars as $navbar) \u003ctr class=\"row1\" data-id=\"{% raw %}{{ $navbar-\u003eid }}{% endraw %}\"\u003e \u003ctd class=\"pl-3\"\u003e{% raw %}{{ $navbar-\u003ename }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{App\\Enum::type['navbar'][$navbar-\u003etype]}}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $navbar-\u003esort }}{% endraw %}\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"{% raw %}{{App\\Enum::is_open['color'][$navbar-\u003eis_open]}}{% endraw %}\"\u003e\u003ci class=\"fas fa-{% raw %}{{App\\Enum::is_open['label'][$navbar-\u003eis_open]}}{% endraw %}\"\u003e\u003c/i\u003e\u003c/font\u003e\u003c/td\u003e \u003c/tr\u003e @endforeach \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003cdiv class=\"card-footer text-center\"\u003e \u003ch5\u003e\u003cbutton class=\"btn btn-success btn-sm\" onclick=\"window.location.reload()\"\u003e{% raw %}{{ trans('Refresh') }}{% endraw %}\u003c/button\u003e\u003c/h5\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection @section('script') @parent \u003cscript type=\"text/javascript\"\u003e $(function () { // $(\"#table\").DataTable(); $(\"#tablecontents\").sortable({ items: \"tr\", cursor: 'move', opacity: 0.6, update: function() { sendOrderToServer(); } }); function sendOrderToServer() { var order = []; var token = $('meta[name=\"csrf-token\"]').attr('content'); $('tr.row1').each(function(index,element) { order.push({ id: $(this).attr('data-id'), position: index+1 }); }); $.ajax({ type: \"POST\", dataType: \"json\", url: \"{% raw %}{{ url('navbar-sortable') }}{% endraw %}\", data: { order: order, _token: token }, success: function(response) { if (response.status == \"success\") { console.log(response); } else { console.log(response); } } }); } }); \u003c/script\u003e @show æ¥è‘—åœ¨ï¼Œindex.blade.php åŠ å…¥æŒ‰éˆ• : \u003cli class=\"list-inline-item\"\u003e{% raw %}{{ App\\Button::To(true,'sort',trans('Sort'),'','btn-primary') }}{% endraw %}\u003c/li\u003e å†ä¾†æ˜¯åˆ° web.php åŠ å…¥è·¯ç”± : //æ’åºã€ä¸­ä»‹å±¤:ç™»å…¥/ç®¡ç†å“¡ Route::middleware('auth','admin')-\u003egroup(function() { Route::post('navbar-sortable','NavbarController@sort')-\u003ename('navbar.sort'); Route::get('/manage/navbar/sort', function () {return view('manage.navbar.sort');}); }); åšåˆ°é€™è£¡æ‡‰è©²å¯ä»¥ç”¨æ»‘é¼ æ‹–æ›³è¡¨æ ¼å…§çš„\u003ctd\u003e : drag\ræ¥ä¸‹ä¾†è¦åšçš„å°±æ˜¯æ‹–æ›³å¾Œå°‡æ’åºè³‡æ–™å¯«å…¥è³‡æ–™åº« ï¼Œåœ¨ NavbarController.php ä¸­åŠ å…¥ : //æ‹–æ›³æ’åº public function sort(Request $request) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $navbars = Navbar::all(); foreach ($navbars as $navbar) { foreach ($request-\u003eorder as $order) { if ($order['id'] == $navbar-\u003eid) { $navbar-\u003eupdate(['sort' =\u003e $order['position']]); } } } $sort = DB::table('navbars')-\u003eselect('name','sort')-\u003eorderby('sort')-\u003eget(); Log::write_log('navbars',$sort,'æ’åº'); return response('Update Successfully.', 200); } åœ¨ä¸€æ¬¡æ‹–æ›³æ’åºå¾Œé‡æ–°æ•´ç†","date":"2020-05-05","objectID":"/laravel-myweb-7/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 7","uri":"/laravel-myweb-7/#2-æ‹–æ›³æ’åº"},{"categories":["CODE"],"content":"\rç¸½çµ ä½¿ç”¨ View composer å¿…é ˆç¢ºå®šè‡ªå·±å®£å‘Šçš„åç¨±ã€‚ View composer ä¹Ÿå¯ä»¥åœ¨ Provide ä¸­ä½¿ç”¨ã€‚ æ‹–æ›³æ’åºä½¿ç”¨äº† JQueryä¸­çš„ sortable å¯¦ç¾ã€‚ å¦‚æœæƒ³åœ¨æ‰‹æ©Ÿç«¯è§¸æ§æ‹–æ›³è«‹è‡ªè¡ŒåŠ å…¥jquery.ui.touch-punch.jsã€‚ å®å®çµæŸğŸ™‹â€â™‚ï¸ ","date":"2020-05-05","objectID":"/laravel-myweb-7/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend","javascript","request","JQuery"],"title":"Laravel Backend Control Website - 7","uri":"/laravel-myweb-7/#ç¸½çµ"},{"categories":["CODE"],"content":"Laravel å°è¦½åˆ—ç®¡ç† - Navbar Manage","date":"2020-05-03","objectID":"/laravel-myweb-6/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/"},{"categories":["CODE"],"content":" Laravel å°è¦½åˆ—ç®¡ç† - Navbar Manage ","date":"2020-05-03","objectID":"/laravel-myweb-6/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#"},{"categories":["CODE"],"content":"\rå‰è¨€Hello å¤§å®¶ ! ä¸Šä¸€ç¯‡ æ˜ç¢ºåœ°å°‡å‰å¾Œå°åˆ©ç”¨æ¬Šé™åˆ†é–‹ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œå¾Œå°æ§åˆ¶å‰å°çš„ç¶²ç«™å·²ç¶“æ¼¸æ¼¸æœ‰äº†é››å‹ã€‚è€Œé€™ç¯‡å°‡å®Œæˆå°è¦½åˆ—çš„ç®¡ç†ï¼Œå®Œæˆå¾Œå³å¯å¾å¾Œå°æ–°å¢ã€ä¿®æ”¹å‰å°æ‰€é¡¯ç¤ºçš„å°è¦½åˆ—ï¼Œä¸¦ä¸”ä½¿ç”¨æ‹–æ›³çš„æ–¹å¼é€²è¡Œæ’åº (å¯åœ¨æ‰‹æ©Ÿç«¯ä½¿ç”¨)ã€‚ ","date":"2020-05-03","objectID":"/laravel-myweb-6/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. æ–°å¢Controllerã€Modelã€Migration // ä¸€æ¬¡æ€§å»ºç«‹ php artisan make:model Navbar -mcr ","date":"2020-05-03","objectID":"/laravel-myweb-6/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#1-æ–°å¢controllermodelmigration"},{"categories":["CODE"],"content":"\r2. ä¿®æ”¹Migration \u003c?php use Illuminate\\Support\\Facades\\Schema; use Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class CreateNavbarsTable extends Migration { public function up() { Schema::create('navbars', function (Blueprint $table) { $table-\u003ebigIncrements('id'); $table-\u003estring('name')-\u003ecomment('å°è¦½åç¨±'); $table-\u003estring('link')-\u003enullable()-\u003ecomment('å°å¤–é€£çµ'); $table-\u003einteger('type')-\u003ecomment('é¡å‹'); $table-\u003einteger('sort')-\u003enullable()-\u003ecomment('æ’åº'); $table-\u003eboolean('is_open')-\u003edefault(true)-\u003ecomment('æ˜¯å¦é–‹æ”¾'); $table-\u003etimestamps(); }); } public function down() { Schema::dropIfExists('navbars'); } } ç„¶å¾Œå¯«å…¥è³‡æ–™åº« : php artisan migrate ","date":"2020-05-03","objectID":"/laravel-myweb-6/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#2-ä¿®æ”¹migration"},{"categories":["CODE"],"content":"\r3. ä¿®æ”¹Model \u003c?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class Navbar extends Model { protected $table = 'navbars'; protected $primaryKey = 'id'; protected $fillable = [ \"name\", \"sort\", \"link\", \"type\", \"is_open\", ]; } ","date":"2020-05-03","objectID":"/laravel-myweb-6/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#3-ä¿®æ”¹model"},{"categories":["CODE"],"content":"\r4. åŠ å…¥è·¯ç”± Route::prefix('manage')-\u003emiddleware('auth','admin')-\u003egroup(function(){ Route::resource('member', 'MemberController'); Route::resource('navbar', 'NavbarController'); }); ","date":"2020-05-03","objectID":"/laravel-myweb-6/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#4-åŠ å…¥è·¯ç”±"},{"categories":["CODE"],"content":"\r5. å»ºç«‹è¦–åœ– views/ â”œâ”€â”€ _layouts/ â”œâ”€â”€ _partials/ â”œâ”€â”€ auth/ â””â”€â”€ manage / â””â”€â”€ member â””â”€â”€ navbar â”œâ”€â”€ create.blade.php â”œâ”€â”€ edit.blade.php â””â”€â”€ index.blade.php ","date":"2020-05-03","objectID":"/laravel-myweb-6/:6:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#5-å»ºç«‹è¦–åœ–"},{"categories":["CODE"],"content":"\r6. å°è¦½åˆ—æ–°å¢å…ˆå»ºç«‹å°è¦½åˆ—ç®¡ç†é¦–é  index.blade.php : @extends('_layouts.manage.app') @section('title', trans('Navbar').trans('Manage')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Navbar').trans('Manage') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-inline\"\u003e \u003cli class=\"list-inline-item\"\u003e{% raw %}{{ App\\Button::Create() }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cdiv class=\"alert alert-warning\" role=\"alert\"\u003e 1. æ–°å¢é é¢é€£çµé€£çµè«‹ç…§{% raw %}{{Request::root()}}{% endraw %}/article/å°è¦½åˆ—åç¨±/é¸å–®åç¨±?é é¢ç¶²å€ã€‚\u003cbr\u003e 2. å¤–éƒ¨é€£çµè«‹ç›´æ¥è²¼ä¸Šæ•´æ®µç¶²å€å³å¯ã€‚ \u003c/div\u003e \u003cdiv class=\"table-responsive\"\u003e \u003ctable id=\"data\" class=\"table table-hover table-bordered text-center\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Navbar').trans('Name') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Link') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Type') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Sort') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Action') }}{% endraw %}\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e @foreach ($all_navbars as $navbar) \u003ctr\u003e \u003ctd\u003e{% raw %}{{ $navbar-\u003ename }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $navbar-\u003elink }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{App\\Enum::type['navbar'][$navbar-\u003etype]}}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $navbar-\u003esort }}{% endraw %}\u003c/td\u003e \u003ctd\u003e\u003cfont color=\"{% raw %}{{App\\Enum::is_open['color'][$navbar-\u003eis_open]}}{% endraw %}\"\u003e\u003ci class=\"fas fa-{% raw %}{{App\\Enum::is_open['label'][$navbar-\u003eis_open]}}{% endraw %}\"\u003e\u003c/i\u003e\u003c/font\u003e\u003c/td\u003e \u003ctd\u003e \u003cform action=\"{% raw %}{{ route('navbar.edit',$navbar-\u003eid) }}{% endraw %}\" method=\"GET\"\u003e @csrf {% raw %}{{ App\\Button::edit($navbar-\u003eid) }}{% endraw %} \u003c/form\u003e \u003cform action=\"{% raw %}{{ route('navbar.destroy',$navbar-\u003eid) }}{% endraw %}\" method=\"POST\"\u003e @method('DELETE') @csrf {% raw %}{{ App\\Button::deleting($navbar-\u003eid) }}{% endraw %} \u003c/form\u003e \u003c/td\u003e \u003c/tr\u003e @endforeach \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003c/div\u003e {% raw %}{{-- \u003cdiv class=\"card-footer pagination justify-content-center\"\u003e {!! $all_navbars-\u003elinks(\"pagination::bootstrap-4\") !!} \u003c/div\u003e --}}{% endraw %} \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection NavbarController.php : public function index() { $all_navbars = Navbar::all(); return view('manage.navbar.index',compact('all_navbars')); } create.blade.php : @extends('_layouts.manage.app') @section('title', trans('Navbar').trans('Create')) @section('content') \u003cdiv class=\"container\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cform action=\"{% raw %}{{ route('navbar.store') }}{% endraw %}\" method=\"POST\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Navbar').trans('Create') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('navbar.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e @csrf \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"name\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Navbar').trans('Name') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput type=\"text\" class=\"form-control @error('name') is-invalid @enderror\" id=\"name\" name=\"name\" value=\"{% raw %}{{ old('name') }}{% endraw %}\" placeholder=\"{% raw %}{{ trans('Navbar').trans('Name') }}{% endraw %}\"\u003e @error('name') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"link\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Link') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput type=\"text\" class=\"form-control @error('link') is-invalid @enderror\" id=\"link\" name=\"link\" value=\"{% raw %}{{ old('link') }}{% endraw %}\" placeholder=\"{% raw %}{{ trans('Link') }}{% endraw %}\"\u003e @error('link') \u003cspan class=\"invalid-fe","date":"2020-05-03","objectID":"/laravel-myweb-6/:7:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#6-å°è¦½åˆ—æ–°å¢"},{"categories":["CODE"],"content":"\r7. å°è¦½åˆ—ä¿®æ”¹edit.blade.php : @extends('_layouts.manage.app') @section('title', trans('Navbar').trans('Edit')) @section('content') \u003cdiv class=\"container\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Navbar').trans('Edit') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('navbar.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cform method=\"POST\" action=\"{% raw %}{{ route('navbar.update' , $navbar-\u003eid) }}{% endraw %}\"\u003e @csrf @method('PUT') \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"name\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Navbar').trans('Name') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"name\" type=\"text\" class=\"form-control @error('name') is-invalid @enderror\" name=\"name\" value=\"{% raw %}{{ $navbar-\u003ename }}{% endraw %}\" required autocomplete=\"{% raw %}{{ trans('Page name') }}{% endraw %}\" autofocus\u003e @error('name') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"link\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Link') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"link\" type=\"text\" class=\"form-control @error('link') is-invalid @enderror\" name=\"link\" value=\"{% raw %}{{ $navbar-\u003elink }}{% endraw %}\" autocomplete=\"{% raw %}{{ trans('Link') }}{% endraw %}\" autofocus\u003e @error('link') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"type\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Type') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cselect class=\"form-control @error('type') is-invalid @enderror\" name='type' required aria-describedby=\"typeHelp\"\u003e @foreach(App\\Enum::type['navbar'] as $key =\u003e $value) @if ($key == $navbar-\u003etype) \u003coption value='{% raw %}{{ $key }}{% endraw %}' selected\u003e{% raw %}{{ $value }}{% endraw %}\u003c/option\u003e @else \u003coption value='{% raw %}{{ $key }}{% endraw %}'\u003e{% raw %}{{ $value }}{% endraw %}\u003c/option\u003e @endif @endforeach \u003c/select\u003e \u003cspan id=\"typeHelp\" class=\"form-text text-muted\"\u003e å°è¦½ç›®éŒ„ï¼šé¡¯ç¤ºé¸å–®ç›®éŒ„ï¼›\u003c/br\u003e ä¸€èˆ¬é é¢ï¼šä¸é¡¯ç¤ºé¸å–®ç›®éŒ„ï¼Œç›´æ¥åˆ—å‡ºåº•ä¸‹çš„é é¢ï¼›\u003c/br\u003e \u003c/span\u003e @error('type') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"is_open\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Is_open') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_open\" id=\"is_open1\" value=\"1\" {% raw %}{{ ($navbar-\u003eis_open==\"1\")? \"checked\" : \"\" }}{% endraw %}\u003e \u003clabel class=\"custom-control-label\" for=\"is_open1\"\u003e{% raw %}{{ trans('Yes') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003cdiv class=\"custom-control custom-radio custom-control-inline\"\u003e \u003cinput class=\"custom-control-input\" type=\"radio\" name=\"is_open\" id=\"is_open2\" value=\"0\" {% raw %}{{ ($navbar-\u003eis_open==\"0\")? \"checked\" : \"\" }}{% endraw %}\u003e \u003clabel class=\"custom-control-label\" for=\"is_open2\"\u003e{% raw %}{{ trans('No') }}{% endraw %}\u003c/label\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003cdiv class=\"col-md-4\"\u003e \u003cinput type=\"submit\" class=\"btn btn-primary\" value=\"é€å‡º\"\u003e \u003c/div\u003e \u003c/div\u003e \u003c/form\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection NavbarController.php : public function edit($id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $navbar = Navbar::where('id',$id)-\u003efirst(); return view('manage.navbar.edit',compact('navbar')); } public function update(Request $request, $id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '3') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } $error = 0; $navbar = Navbar::where('id', $id)-\u003efirst(); $data = $this-\u003evalidate($request,","date":"2020-05-03","objectID":"/laravel-myweb-6/:8:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#7-å°è¦½åˆ—ä¿®æ”¹"},{"categories":["CODE"],"content":"\r8. å°è¦½åˆ—åˆªé™¤NavbarController.php : public function destroy($id) { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '4') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } Navbar::destroy($id); return back()-\u003ewith('success', 'åˆªé™¤å°è¦½åˆ—æˆåŠŸ !'); } ","date":"2020-05-03","objectID":"/laravel-myweb-6/:9:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#8-å°è¦½åˆ—åˆªé™¤"},{"categories":["CODE"],"content":"\r9. å°è¦½åˆ—å‰å°é¡¯ç¤ºweb.php //åœ¨å„è¦–åœ–ä¸­å¯ç›´æ¥ä½¿ç”¨ä»¥ä¸‹åƒæ•¸ View::composer(['*'], function ($view) { $navbars = App\\Navbar::where('is_open',1)-\u003eorderby('sort')-\u003eget(); $users = App\\User::all(); $view-\u003ewith('navbars',$navbars); $view-\u003ewith('users',$users); }); home/nav.blade.php : \u003cnav class=\"navbar navbar-expand-md navbar-light bg-white shadow-sm\"\u003e \u003cdiv class=\"container\"\u003e \u003ca class=\"navbar-brand\" href=\"{% raw %}{{ url('/') }}{% endraw %}\"\u003e {% raw %}{{ config('app.name', 'Laravel') }}{% endraw %} \u003c/a\u003e \u003cbutton class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"{% raw %}{{ trans('Toggle navigation') }}{% endraw %}\"\u003e \u003cspan class=\"navbar-toggler-icon\"\u003e\u003c/span\u003e \u003c/button\u003e \u003cdiv class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"\u003e \u003c!-- Left Side Of Navbar --\u003e \u003cul class=\"navbar-nav mr-auto\"\u003e @foreach ($navbars as $navbar) @switch($navbar-\u003etype) @case(1) \u003cli class=\"nav-item dropdown\"\u003e \u003ca class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\u003e {% raw %}{{ $navbar-\u003ename }}{% endraw %} \u003c/a\u003e \u003cdiv class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\u003e \u003c!-- æœŸå¾…ç¬¬12ç¯‡ --\u003e \u003c/div\u003e \u003c/li\u003e @break @case(2) \u003cli class=\"nav-item\" \u003e \u003ca class=\"nav-link\" href=\"{% raw %}{{ $navbar-\u003elink }}{% endraw %}\"\u003e{% raw %}{{ $navbar-\u003ename }}{% endraw %}\u003c/a\u003e \u003c/li\u003e @break @endswitch @endforeach \u003c/ul\u003e \u003c!-- Right Side Of Navbar --\u003e \u003cul class=\"navbar-nav ml-auto\"\u003e \u003c!-- Authentication Links --\u003e @guest \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" href=\"{% raw %}{{ route('login') }}{% endraw %}\"\u003e{% raw %}{{ trans('Login') }}{% endraw %}\u003c/a\u003e \u003c/li\u003e @if (Route::has('register')) \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" href=\"{% raw %}{{ route('register') }}{% endraw %}\"\u003e{% raw %}{{ trans('Register') }}{% endraw %}\u003c/a\u003e \u003c/li\u003e @endif @else @if (Auth::user()-\u003epermission != 0) \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" href=\"{% raw %}{{ route('manage') }}{% endraw %}\"\u003e{% raw %}{{ trans('Backstage') }}{% endraw %}\u003c/a\u003e \u003c/li\u003e @endif \u003cli class=\"nav-item dropdown\"\u003e \u003ca id=\"navbarDropdown\" class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" v-pre\u003e {% raw %}{{ Auth::user()-\u003ename }}{% endraw %} \u003cspan class=\"caret\"\u003e\u003c/span\u003e \u003c/a\u003e \u003cdiv class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"navbarDropdown\"\u003e \u003ca class=\"dropdown-item\" href=\"{% raw %}{{ route('logout') }}{% endraw %}\" onclick=\"event.preventDefault(); document.getElementById('logout-form').submit();\"\u003e {% raw %}{{ trans('Logout') }}{% endraw %} \u003c/a\u003e \u003cform id=\"logout-form\" action=\"{% raw %}{{ route('logout') }}{% endraw %}\" method=\"POST\" style=\"display: none;\"\u003e @csrf \u003c/form\u003e \u003c/div\u003e \u003c/li\u003e @endguest \u003c/ul\u003e \u003c/div\u003e \u003c/div\u003e \u003c/nav\u003e ","date":"2020-05-03","objectID":"/laravel-myweb-6/:10:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#9-å°è¦½åˆ—å‰å°é¡¯ç¤º"},{"categories":["CODE"],"content":"\r10. è£œå……ç…§è‘—ä¸Šé¢ä½œï¼Œæ²’æ„å¤–å‰å°æ‡‰è©²æœƒé¡¯ç¤ºå¾Œå°æ‰€æ–°å¢çš„å°è¦½åˆ—ã€‚ å¦å¤–ä½ å¿…é ˆåœ¨ Enum.php æ–°å¢ç›¸é—œåƒæ•¸å¦‚ä¸‹ : // æ˜¯å¦é–‹æ”¾(æ˜¯=ç¶ å‹¾ï¼Œå¦=ç´…å‰) const is_open = [ 'color' =\u003e[ '0' =\u003e 'red', '1' =\u003e 'green', ], 'label'=\u003e[ '0' =\u003e 'times', '1' =\u003e 'check', ], ]; // å°è¦½åˆ—é¡å‹ const type =[ 'navbar' =\u003e [ '1' =\u003e 'å°è¦½ç›®éŒ„', '2' =\u003e 'ä¸€èˆ¬é é¢', ], ]; ä¸¦ä¸”åœ¨ _layouts/manage/app.blade.php æ–°å¢ fontawesome ï¼Œä¸ç®¡ä½ æ˜¯è¦ç”¨CDNæˆ–è€…å¼•å…¥ : \u003clink rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\" integrity=\"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ\" crossorigin=\"anonymous\"\u003e å¦å¤–é—œæ–¼ç¿»è­¯è«‹è‡ªè¡Œåœ¨zh-tw.json æˆ– zh-tw/myweb.php åŠ å…¥ã€‚ ä¸‹ä¸€ç¯‡æœƒè§£ç­”å¦‚ä½•æ‹–æ›³æ’åºå°è¦½åˆ—ä»¥åŠ View::composerã€‚ å®å®ï¼ŒHope it will helpğŸ˜‹ ","date":"2020-05-03","objectID":"/laravel-myweb-6/:11:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 6","uri":"/laravel-myweb-6/#10-è£œå……"},{"categories":["CODE"],"content":"Laravel é©—è­‰ã€è¨Šæ¯ã€ä¸­ä»‹å±¤  - Validation ã€Messageã€Middleware","date":"2020-04-30","objectID":"/laravel-myweb-5/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 5","uri":"/laravel-myweb-5/"},{"categories":["CODE"],"content":" Laravel é©—è­‰ã€è¨Šæ¯ã€ä¸­ä»‹å±¤ - Validation ã€Messageã€Middleware ","date":"2020-04-30","objectID":"/laravel-myweb-5/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 5","uri":"/laravel-myweb-5/#"},{"categories":["CODE"],"content":"\rå‰è¨€ç¬¬å››ç¯‡ å»ºç«‹äº†æœƒå“¡ç³»çµ±ï¼Œä½†å…¶ä¸­æœ‰äº›æ±è¥¿ä¸¦æ²’æœ‰äº¤ä»£çš„å¾ˆæ¸…æ¥šã€‚ æ¯”å¦‚ è³‡æ–™é©—è­‰ã€æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤å¾Œçš„è¨Šæ¯ä»¥åŠ æ¬Šé™çš„åˆ©ç”¨ï¼Œé€™ç¯‡å°‡ç›¡å¯èƒ½çš„è§£é‡‹ã€‚ ","date":"2020-04-30","objectID":"/laravel-myweb-5/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 5","uri":"/laravel-myweb-5/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. è³‡æ–™é€å‡ºå¾Œçš„è¨Šæ¯åœ¨ ç¬¬å››ç¯‡ å¯ä»¥çœ‹åˆ°å„²å­˜æˆ–åˆªé™¤è³‡æ–™å¾Œéƒ½æœƒæœ‰ : return back()-\u003ewith('success','æœƒå“¡æ–°å¢æˆåŠŸ !'); é€™è¡Œçš„æ„æ€æ˜¯é€€å›ä¸Šä¸€å€‹ä½ç½®ä¸¦é¡¯ç¤ºæˆåŠŸçš„è¨Šæ¯æ¡†ï¼Œè¨Šæ¯å…§å®¹ç‚ºæœƒå“¡æ–°å¢æˆåŠŸã€‚ ç›¸é—œæ–‡ä»¶ ä¿¡æ¯\ré‚£é€™æ™‚æœƒæœ‰å€‹å•é¡Œï¼Œé˜¿æ€éº¼æ²’è·‘å‡ºä¾† ? é€™å€‹ç°¡å–®ï¼Œå› ç‚ºé‚„æ²’å»ºç«‹è¨Šæ¯æ¡†ã€‚\ré¦–å…ˆè¦å»ºç«‹ views/_partials/message.blade.php : @if ($message = Session::get('success')) \u003cdiv class=\"alert alert-success alert-block text-center\"\u003e \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\"\u003eÃ—\u003c/button\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/div\u003e @endif @if ($message = Session::get('error')) \u003cdiv class=\"alert alert-danger alert-block text-center\"\u003e \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\"\u003eÃ—\u003c/button\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/div\u003e @endif @if ($message = Session::get('warning')) \u003cdiv class=\"alert alert-warning alert-block text-center\"\u003e \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\"\u003eÃ—\u003c/button\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/div\u003e @endif @if ($message = Session::get('info')) \u003cdiv class=\"alert alert-info alert-block text-center\"\u003e \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\"\u003eÃ—\u003c/button\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/div\u003e @endif @if ($message = Session::get('nodata')) \u003cdiv class=\"alert alert-info alert-block text-center\"\u003e \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\"\u003eÃ—\u003c/button\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/div\u003e @endif @if ($errors-\u003eany()) \u003cdiv class=\"alert alert-danger text-center\"\u003e \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"alert\"\u003eÃ—\u003c/button\u003e {% raw %}{{ trans('Please check the form below for errors') }}{% endraw %} \u003c/div\u003e @endif æ¥è‘—åˆ° _layouts/manage/app.blade.php ä¸­åŠ å…¥ : \u003c!DOCTYPE html\u003e ...ç•¥... \u003c/head\u003e \u003cbody\u003e \u003cdiv id=\"app\"\u003e @include('_partials.manage.nav') \u003cmain class=\"py-4\"\u003e @include('_partials.message') \u003c!-- é€™è¡Œ --\u003e @yield('content') \u003c/main\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e æå®š ! å›åˆ°æœƒå“¡ç®¡ç†æ–°å¢ä¸€ç­†è³‡æ–™çœ‹çœ‹ ! æ²’æ„å¤–æ–°å¢æˆåŠŸä¸Šæ–¹æœƒå‡ºç¾æˆåŠŸçš„è¨Šæ¯ã€‚ message\r","date":"2020-04-30","objectID":"/laravel-myweb-5/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 5","uri":"/laravel-myweb-5/#1-è³‡æ–™é€å‡ºå¾Œçš„è¨Šæ¯"},{"categories":["CODE"],"content":"\r2. è³‡æ–™é€å‡ºå¾Œçš„é©—è­‰æƒ³ä¸€æƒ³ï¼Œæœƒå‡ºç¾æœƒå“¡æ–°å¢æˆåŠŸï¼Œå°±ä»£è¡¨ä½ é€šéäº†é©—è­‰ã€‚ ä»¥ä¸‹æ˜¯æ–°å¢æœƒå“¡çš„é©—è­‰ : $data = $request-\u003evalidate([ 'name' =\u003e ['required', 'string', 'max:255'], 'email' =\u003e ['required', 'string', 'email', 'max:255', 'unique:users'], 'password' =\u003e ['required', 'string', 'min:1', 'confirmed'], 'permission' =\u003e ['required', 'string', 'max:5', 'min:0'], ]); ä¿¡æ¯\r$request çš„è§£é‡‹è«‹çœ‹é€™é‚Š ç°¡å–®ä¾†èªªå°±æ˜¯åˆ©ç”¨ request ä¾†å–å¾—è¼¸å…¥è³‡æ–™ï¼Œä¸¦ä¸”ä½¿ç”¨ validate å»ºç«‹é©—è­‰ã€‚ å¯ä»¥ä½œç‚ºæ¢ä»¶çš„æœ‰é€™äº›ã€‚\rä¸Šé¢çš„ä¿¡ç®±é©—è­‰å°±æ˜¯ä½¿ç”¨äº† å¿…å¡«æ¬„ä½ ã€ å­—ä¸² ã€æ ¼å¼ç‚ºä¿¡ç®±ã€æœ€å¤§å€¼255 ã€å”¯ä¸€:è³‡æ–™è¡¨ç‚ºusers å‰é¢æ˜¯é©—è­‰çš„è¨­å®šï¼Œæ¥ä¸‹ä¾†çœ‹åˆ°é é¢ create.blade.php çš„ä¿¡ç®±è¼¸å…¥ : \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"content\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('E-Mail Address') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput type=\"text\" class=\"form-control @error('email') is-invalid @enderror\" id=\"email\" name=\"email\" value=\"{% raw %}{{ old('email') }}{% endraw %}\" placeholder=\"{% raw %}{{ trans('E-Mail Address') }}{% endraw %}\"\u003e @error('email') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e å¯ä»¥çœ‹åˆ° input ä¸­çš„ @error('email') is-invalid @enderror ï¼Œ@error å¯ä»¥åˆ¤æ–·å‰›å‰›æ‰€è¨­å®šçš„é©—è­‰æ˜¯å¦å­˜åœ¨ï¼Œåªè¦é©—è­‰æœ‰éŒ¯å°±æœƒåœ¨ $message é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ã€‚ æ­é… Bootstrap çš„ is-valid ä»¥åŠ valid-feedback ä¾†å„ªåŒ–é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ã€‚ validation\rTip\rè¡¨å–®é©—è­‰å…¶å¯¦å¯ä»¥è‡ªè¨‚ï¼Œä¸ä¸€å®šè¦ä½¿ç”¨ use Illuminate\\Http\\Request; çš„ Requestï¼Œä»¥å¾Œå†èªªğŸ˜†\r","date":"2020-04-30","objectID":"/laravel-myweb-5/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 5","uri":"/laravel-myweb-5/#2-è³‡æ–™é€å‡ºå¾Œçš„é©—è­‰"},{"categories":["CODE"],"content":"\r3. æ¬Šé™çš„ä½¿ç”¨ä¾‹å­æ—¢ç„¶ ç¬¬å››ç¯‡ å»ºç«‹äº†æœƒå“¡å¸³è™Ÿçš„æ¬Šé™ï¼Œä»¥ä¸‹å°±æå‡ºä¸€äº›ä½¿ç”¨çš„ä¾‹å­ã€‚ æ¯”å¦‚æˆ‘å€‘è¦å®š æ¬Šé™å¤§æ–¼0 æ‰èƒ½é€²å…¥å¾Œå°ï¼Œé€™è£¡å°±è¦æåˆ°ä¸€ä¸‹ ä¸­ä»‹å±¤ / middlewareã€‚ ä¿¡æ¯\rä¸­ä»‹å±¤æä¾›ä¸€å€‹æ–¹ä¾¿çš„æ©Ÿåˆ¶ä¾†éæ¿¾é€²å…¥æ‡‰ç”¨ç¨‹å¼çš„ HTTP è«‹æ±‚ã€‚\rä¹‹å‰æˆ‘å€‘é€é php artisan:make auth çš„æŒ‡ä»¤å‰µå»ºäº†åç‚º auth çš„ä¸­ä»‹å±¤ ./app/Http/Middleware/Authenticate.php ã€‚ ä¸­ä»‹å±¤åå­—å®šç¾©åœ¨ ./app/Http/Kernel.php : \u003c?php namespace App\\Http; use Illuminate\\Foundation\\Http\\Kernel as HttpKernel; class Kernel extends HttpKernel { ...ç•¥... protected $routeMiddleware = [ 'admin' =\u003e \\App\\Http\\Middleware\\Admin::class, \u003c!-- ç­‰ç­‰è¦åŠ å…¥çš„ --\u003e 'auth' =\u003e \\App\\Http\\Middleware\\Authenticate::class, ...ç•¥... ]; ...ç•¥... å¯ä»¥çœ‹åˆ° admin å’Œ auth å…©å€‹ä¸­ä»‹å±¤ï¼Œadmin æ˜¯ç­‰ç­‰è¦å‰µç«‹çš„ï¼Œæ„ç¾©æ˜¯ç®¡ç†å“¡æ‰èƒ½é€²å…¥å¾Œå° ; è€Œ auth ä»£è¡¨æ˜¯å¦æœ‰ç™»å…¥ã€‚ è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ç”Ÿæˆä¸­ä»‹å±¤ Admin.php : php artisan make:middleware Admin å°‡å…§å®¹æ”¹ç‚º : \u003c?php namespace App\\Http\\Middleware; use Closure; class Admin { public function handle($request, Closure $next) { if (auth()-\u003euser()-\u003epermission != 0) { return $next($request); } return redirect('home'); } } ä¸Šé¢çš„æ„æ€å°±æ˜¯å¦‚æœç™»å…¥æ¬Šé™ä¸ç­‰æ–¼0æ‰èƒ½å­˜å–è·¯ç”±ï¼Œå¦å‰‡å°±è¦å°å›å‰å°é é¢ã€‚(authç”¨æ³•) æ¥ä¸‹ä¾†å°‡ä¸­ä»‹å±¤åŠ å…¥ Kernel.php å¾Œå°±åˆ° web.php ä¸­åŠ å…¥ä¸­ä»‹å±¤ã€‚ Route::get('/manage', function () {return view('manage.index');})-\u003emiddleware('auth','admin')-\u003ename('manage'); Route::prefix('manage')-\u003emiddleware('auth','admin')-\u003egroup(function(){ Route::resource('member', 'MemberController'); }); //å¿…é ˆç™»å…¥ä¸”æ¬Šé™å¤§æ–¼é›¶æ‰èƒ½é€²å…¥å¾Œå° å¯ä»¥å‰µç«‹ä¸€å€‹æ¬Šé™ç‚º ä¸€èˆ¬ä½¿ç”¨è€… çš„è©¦çœ‹çœ‹ç™»å…¥å¾Œé€²å…¥å¾Œå°ã€‚ å†ä¾†çš„ä¾‹å­æ˜¯å¸³è™Ÿæ¬Šé™æ˜¯å¦å¯ä»¥å°æœƒå“¡å¸³è™Ÿé€²è¡Œæ–°å¢ä¿®æ”¹ï¼Œè«‹åœ¨ _partial/manage/nav.blade.php åšä»¥ä¸‹ä¿®æ”¹ : \u003cnav class=\"navbar navbar-expand-md navbar-light bg-white shadow-sm\"\u003e \u003cdiv class=\"container-fluid\"\u003e \u003ca class=\"navbar-brand\" href=\"{% raw %}{{ url('/manage') }}{% endraw %}\"\u003e {% raw %}{{ config('app.name', 'Laravel') }}{% endraw %} \u003c/a\u003e \u003cbutton class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"{% raw %}{{ __('Toggle navigation') }}{% endraw %}\"\u003e \u003cspan class=\"navbar-toggler-icon\"\u003e\u003c/span\u003e \u003c/button\u003e \u003cdiv class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"\u003e \u003c!-- Left Side Of Navbar --\u003e \u003cul class=\"navbar-nav mr-auto\"\u003e @if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003e '4') \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" href=\"{% raw %}{{ route('member.index') }}{% endraw %}\"\u003e{% raw %}{{ __('Member').__('Manage') }}{% endraw %}\u003c/a\u003e \u003c/li\u003e @endif \u003c/ul\u003e \u003c!-- Right Side Of Navbar --\u003e \u003cul class=\"navbar-nav ml-auto\"\u003e \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" href=\"{% raw %}{{ route('home') }}{% endraw %}\"\u003e{% raw %}{{ __('Fontstage') }}{% endraw %}\u003c/a\u003e \u003c/li\u003e \u003cli class=\"nav-item dropdown\"\u003e \u003ca id=\"navbarDropdown\" class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" v-pre\u003e {% raw %}{{ Auth::user()-\u003ename }}{% endraw %} \u003cspan class=\"caret\"\u003e\u003c/span\u003e \u003c/a\u003e \u003cdiv class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"navbarDropdown\"\u003e \u003ca class=\"dropdown-item\" href=\"{% raw %}{{ route('logout') }}{% endraw %}\" onclick=\"event.preventDefault(); document.getElementById('logout-form').submit();\"\u003e {% raw %}{{ trans('Logout') }}{% endraw %} \u003c/a\u003e \u003cform id=\"logout-form\" action=\"{% raw %}{{ route('logout') }}{% endraw %}\" method=\"POST\" style=\"display: none;\"\u003e @csrf \u003c/form\u003e \u003c/div\u003e \u003c/li\u003e \u003c/ul\u003e \u003c/div\u003e \u003c/div\u003e \u003c/nav\u003e å¯ä»¥çœ‹åˆ°å…¶ä¸­çš„ : @if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003e '4') \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" href=\"{% raw %}{{ route('member.index') }}{% endraw %}\"\u003e{% raw %}{{ __('Member').__('Manage') }}{% endraw %}\u003c/a\u003e \u003c/li\u003e @endif ä¸Šè¿°è¡¨ç¤ºæ¬Šé™ä¸å¤§æ–¼4ç„¡æ³•é€²å…¥æœƒå“¡ç®¡ç†çš„é é¢ã€‚ å¦å¤–ä½ å¯ä»¥åœ¨Controllerä¸­åŠ å…¥ : public function create() { if (Auth::check() \u0026\u0026 Auth::user()-\u003epermission \u003c '5') { return back()-\u003ewith('warning', 'æ¬Šé™ä¸è¶³ä»¥è¨ªå•è©²é é¢ !'); } return view('manage.member.create'); } ä¸Šè¿°è¡¨ç¤ºæ¬Šé™å°æ–¼5ç„¡æ³•é€²å…¥æœƒå“¡æ–°å¢çš„é é¢ã€‚ è«¸å¦‚æ­¤é¡çš„ä¾‹å­ï¼Œå°±äº¤çµ¦ä½ è‡ªç”±ç™¼æ®äº†ğŸ˜‰ ","date":"2020-04-30","objectID":"/laravel-myweb-5/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 5","uri":"/laravel-myweb-5/#3-æ¬Šé™çš„ä½¿ç”¨ä¾‹å­"},{"categories":["CODE"],"content":"\r4. é¡å¤–è£œå…… php artisan make:controller MemberController --resource --resource ä»£è¡¨å»ºç«‹äº†ä¸€å€‹åŒ…å«CRUDçš„æ§åˆ¶å™¨ã€‚ å‡½æ•¸ ç”¨é€” index() é¡¯ç¤ºè³‡æ–™ï¼ˆä¸€èˆ¬æ˜¯åˆ—è¡¨ï¼‰ create() å»ºç«‹æ–°è³‡æ–™ï¼ˆé€šå¸¸æ˜¯è¡¨å–®ç•Œé¢ï¼‰ store(Request $request) å„²å­˜è³‡æ–™ show($id) é¡¯ç¤ºæŸç­†è³‡æ–™ edit($id) ç·¨è¼¯æŸç­†è³‡æ–™ï¼ˆé€šå¸¸æ˜¯è¡¨å–®ç•Œé¢ï¼‰ update(Request $request, $id) æ›´æ–°æŸç­†è³‡æ–™ destroy($id) åˆªé™¤æŸç­†è³‡æ–™ å¦‚æœè¦å»ºç«‹ä¸€å€‹ç©ºçš„æ§åˆ¶å™¨ : php artisan make:controller MemberController å¦‚æœè¦åŒæ™‚å»ºç«‹ modelã€migrationã€controller --resource : php artisan make:model Member -mcr åƒæ•¸ ç”¨é€” -m ç‚ºmodelå»ºç«‹ä¸€å€‹æ•¸æ“šåº« -c ç‚ºmodelå»ºç«‹ä¸€å€‹æ§åˆ¶å™¨ -r ç‚ºæ§åˆ¶å™¨åŠ å…¥ â€“resource åƒæ•¸ å¯ä»¥ç”¨ä¸‹åˆ—æŒ‡ä»¤çœ‹åˆ°æ‰€æœ‰å¯ç”¨é¸é … : php artisan make:model --help Hope it will help ! ","date":"2020-04-30","objectID":"/laravel-myweb-5/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 5","uri":"/laravel-myweb-5/#4-é¡å¤–è£œå……"},{"categories":["CODE"],"content":"Laravel æœƒå“¡ç®¡ç† / CRUD - Laravel member system / CRUD","date":"2020-04-29","objectID":"/laravel-myweb-4/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 4","uri":"/laravel-myweb-4/"},{"categories":["CODE"],"content":" Laravel æœƒå“¡ç®¡ç† / CRUD - Laravel member system / CRUD ","date":"2020-04-29","objectID":"/laravel-myweb-4/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 4","uri":"/laravel-myweb-4/#"},{"categories":["CODE"],"content":"\rå‰è¨€ç¬¬äºŒç¯‡æåˆ°å°‡layoutåˆ‡æˆå‰å¾Œå°ï¼Œé€™æ¬¡å°±è¦ä¾†è£½ä½œæœƒå“¡ç³»çµ±ï¼Œä¸¦ä¸”è¨­å®šä¸åŒçš„æ¬Šé™ã€‚ ","date":"2020-04-29","objectID":"/laravel-myweb-4/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 4","uri":"/laravel-myweb-4/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. æœƒå“¡æ–°å¢å‰å°æœƒå“¡ç›´æ¥ä½¿ç”¨ä¹‹å‰ php artisan make:auth çš„è¨»å†Šï¼Œå¾Œå°çš„è¦å¦å¤–å»ºç«‹ï¼Œå› ç‚ºè¦è¨­å®šæ¬Šé™çš„é—œä¿‚ã€‚ é€™è£¡ Modelç›´æ¥ä½¿ç”¨ app/User.phpï¼Œç„¶å¾Œå»ºç«‹ Controllerã€‚ php artisan make:controller MemberController --resource æŒ‡ä»¤æˆåŠŸä¹‹å¾Œå¯ä»¥åœ¨ app/Http/controllersåº•ä¸‹çœ‹åˆ°å‰›å‰›å»ºç«‹çš„ member.phpï¼Œä¸¦ä¸”è£¡é¢å·²ç¶“æœ‰åŸºæœ¬çš„ CRUD functionã€‚ æ¥ä¸‹ä¾†å› ç‚ºè¦åŠ å…¥æ¬Šé™çš„é—œä¿‚ï¼Œè¦æ‰“é–‹ database/migrations/2014_10_12_000000_create_users_table.phpï¼Œä¸¦å°‡å…¶æ”¹æˆä»¥ä¸‹: \u003c?php use Illuminate\\Support\\Facades\\Schema; use Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class CreateUsersTable extends Migration { public function up() { Schema::create('users', function (Blueprint $table) { $table-\u003ebigIncrements('id'); $table-\u003estring('name'); $table-\u003estring('email')-\u003eunique(); $table-\u003einteger('permission')-\u003edefault('0'); $table-\u003etimestamp('email_verified_at')-\u003enullable(); $table-\u003estring('password'); $table-\u003erememberToken(); $table-\u003etimestamps(); }); } public function down() { Schema::dropIfExists('users'); } } ä¿¡æ¯\ré †å¸¶ä¸€æï¼Œup()è·Ÿdown()åˆ†åˆ¥ å°±æ˜¯å»ºç«‹èˆ‡åˆªé™¤ã€‚\ræ¥è‘—ç”±æ–¼ migrationæ›´æ–°çš„é—œä¿‚ï¼Œæ‰€ä»¥è³‡æ–™åº«ä¹Ÿè¦ä¸€èµ·æ”¹è®Š: php artisan migrate:fresh æœ‰é—œæ›´è©³ç´°çš„ MigrationæŒ‡ä»¤ç”¨æ³•è«‹è©³é–± Migrationã€‚ å†ä¾†å› ç‚ºæœ‰äº†æ–°çš„è³‡æ–™åº«æ¬„ä½ï¼Œæ‰€ä»¥è¦åœ¨ User.php ä¸­åŠ å…¥å‰›å‰›æ–°å¢çš„æ¬„ä½ã€‚ \u003c?php namespace App; use Illuminate\\Notifications\\Notifiable; use Illuminate\\Contracts\\Auth\\MustVerifyEmail; use Illuminate\\Foundation\\Auth\\User as Authenticatable; class User extends Authenticatable implements MustVerifyEmail { use Notifiable; protected $fillable = [ 'name', 'email', 'password','permission', ]; protected $hidden = [ 'password', 'remember_token', ]; protected $casts = [ 'email_verified_at' =\u003e 'datetime', ]; } åšäº†é€™äº›å‰ç½®ä½œæ¥­ä¹‹å¾Œï¼Œå°±å¯ä»¥åˆ° Controllers/member.php é–‹å§‹å»ºç«‹æœƒå“¡ç³»çµ±äº†ã€‚ å…ˆåœ¨åœ¨ä¸Šæ–¹åŠ å…¥ä»¥ä¸‹: use Illuminate\\Support\\Facades\\Auth; use Illuminate\\Support\\Facades\\Hash; use Illuminate\\Support\\Facades\\Validator; use Illuminate\\Support\\Facades\\DB; use App\\User; é€™äº›éƒ½æ˜¯ç­‰ç­‰æœƒç”¨åˆ°çš„æŒ‡ä»¤ï¼Œå…ˆå°‡å…¶å¼•å…¥ã€‚ åœ¨æœƒå“¡ç®¡ç†çš„é¦–é ï¼Œè¦é¡¯ç¤ºå‡ºç›®å‰æœ‰çš„æœƒå“¡ä»¥åŠæœƒå“¡è³‡æ–™ï¼Œæ‰€ä»¥åœ¨ index()æˆ‘å€‘å°‡å…¶æ”¹ç‚º : public function index() { //å¾è³‡æ–™è¡¨ `users` å°‡æ‰€ä»¥è³‡æ–™å–å‡ºï¼Œä¸¦é€²è¡Œåˆ†é  $all_users = DB::table('users')-\u003epaginate(); //å°‡å–å‡ºçš„è³‡æ–™æ”¾åœ¨manage/member/index return view('manage.member.index',compact('all_users')); } ä¿¡æ¯\rå¯ä»¥åœ¨åˆ†é æ‹¬å¼§ä¸­è¼¸å…¥æƒ³è¦ä¸€é å¹¾ç­†è³‡æ–™ï¼Œé è¨­æ˜¯15ç­†ã€‚\rå°‡ create() æ”¹ç‚º : // ç›®çš„å°±æ˜¯é¡¯ç¤ºå»ºç«‹æœƒå“¡çš„é é¢ return view('manage.member.create'); é€™æ™‚å€™è¦å…ˆä¾†å»ºç«‹æœƒå“¡æ–°å¢çš„é é¢ï¼Œåœ¨ views åº•ä¸‹æ ¹æ“šä¸‹è¡¨å»ºç«‹æª”æ¡ˆåŠè³‡æ–™å¤¾ : views/ â”œâ”€â”€ _layouts/ â”œâ”€â”€ _partials/ â”œâ”€â”€ auth/ â””â”€â”€ manage / â””â”€â”€ member â”œâ”€â”€ create.blade.php â”œâ”€â”€ edit.blade.php â””â”€â”€ index.blade.php æ¥è‘—åœ¨ ./routes/web.phpä¸­å»ºç«‹è·¯ç”± : //å› ç‚ºä¹‹å¾Œé‚„æœ‰å…¶ä»–åŠŸèƒ½è¦åŠ å…¥ï¼Œæ‰€ä»¥å…ˆä½¿ç”¨group Route::prefix('manage')-\u003egroup(function(){ Route::resource('member', 'MemberController'); }); è·¯ç”±å»ºç«‹å¥½å¾Œåœ¨ index.blade.phpä¸­åŠ å…¥ : @extends('_layouts.manage.app') @section('title', trans('Member').trans('Manage')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Member').trans('Manage') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-inline\"\u003e \u003cli class=\"list-inline-item\"\u003e{% raw %}{{ App\\Button::Create() }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cdiv class=\"table-responsive\"\u003e \u003ctable id=\"data\" class=\"table table-hover table-bordered text-center\"\u003e \u003cthead\u003e \u003ctr class=\"table-info active\"\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Name') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('E-Mail Address') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Permission') }}{% endraw %}\u003c/th\u003e \u003cth class=\"text-nowrap text-center\"\u003e{% raw %}{{ trans('Action') }}{% endraw %}\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e @foreach ($all_users as $user) \u003ctr\u003e \u003ctd\u003e{% raw %}{{ $user-\u003ename }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{ $user-\u003eemail }}{% endraw %}\u003c/td\u003e \u003ctd\u003e{% raw %}{{App\\Enum::permission[$user-\u003epermission]}}{% endraw %}\u003c/td\u003e \u003ctd\u003e \u003cform action=\"{% raw %}{{ route('member.edit',$user-\u003eid) }}{% endraw %}\" method=\"GET\"\u003e @csrf {% raw %}{{ App\\Button::edit($user-\u003eid) }}{% endraw %} \u003c/form\u003e \u003cform action=\"{% raw %}{{ route('member.destroy',$user-\u003eid) }}{% endraw %}\" method=\"POST\"\u003e @method('DELETE') @csrf {% raw %}{{ App\\Button::deleting($user-\u003eid) }}{% endraw %} \u003c/form\u003e \u003c/td\u003e \u003c/tr\u003e @endforeach \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv c","date":"2020-04-29","objectID":"/laravel-myweb-4/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 4","uri":"/laravel-myweb-4/#1-æœƒå“¡æ–°å¢"},{"categories":["CODE"],"content":"\r2. æœƒå“¡ä¿®æ”¹è¬äº‹èµ·é ­é›£ï¼Œæ¥ä¸‹ä¾†ä½ æœƒç™¼ç¾å°±æ˜¯æ–°å¢ blade ç„¶å¾Œåœ¨ controller è¨­å®šæ“ä½œã€‚ åœ¨ controller çš„ edit($id) åŠ å…¥ : public function edit($id) { // å–å‡ºè¦ä¿®æ”¹çš„æœƒå“¡è³‡æ–™ $user = User::where('id',$id)-\u003efirst(); // å¸¶è‘—æœƒå“¡è³‡æ–™é€²å…¥ä¿®æ”¹é é¢ return view('manage.member.edit',compact('user')); } åœ¨ edit.blade.php ä¸­åŠ å…¥ : @extends('_layouts.manage.app') @section('title', trans('Member').trans('Edit')) @section('content') \u003cdiv class=\"container-fluid\"\u003e \u003cdiv class=\"row justify-content-center\"\u003e \u003cdiv class=\"col-md-12\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e{% raw %}{{ trans('Member').trans('Edit') }}{% endraw %}\u003c/div\u003e \u003cdiv class=\"card-body\"\u003e \u003cul class=\"list-unstyled\"\u003e \u003cli\u003e{% raw %}{{ App\\Button::GoBack(route('member.index')) }}{% endraw %}\u003c/li\u003e \u003c/ul\u003e \u003cform method=\"POST\" action=\"{% raw %}{{ route('member.update' , $user-\u003eid) }}{% endraw %}\"\u003e @csrf @method('PUT') \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"email\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('E-Mail Address') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"email\" type=\"email\" class=\"form-control @error('email') is-invalid @enderror\" name=\"email\" value=\"{% raw %}{{ $user-\u003eemail }}{% endraw %}\" required autocomplete=\"email\" autofocus\u003e @error('email') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"name\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Name') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"name\" type=\"text\" class=\"form-control @error('name') is-invalid @enderror\" name=\"name\" value=\"{% raw %}{{ $user-\u003ename }}{% endraw %}\" required autocomplete=\"name\" autofocus\u003e @error('name') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"name\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Permission') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cselect class=\"form-control @error('permission') is-invalid @enderror\" id=\"permission\" name='permission' required\u003e @foreach(App\\Enum::permission as $key =\u003e $value) @if ($key == $user-\u003epermission) \u003coption value='{% raw %}{{ $key }}{% endraw %}' selected\u003e{% raw %}{{ $value }}{% endraw %}\u003c/option\u003e @else \u003coption value='{% raw %}{{ $key }}{% endraw %}'\u003e{% raw %}{{ $value }}{% endraw %}\u003c/option\u003e @endif @endforeach \u003c/select\u003e @error('permission') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"password\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Password') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"password\" type=\"password\" class=\"form-control @error('password') is-invalid @enderror\" name=\"password\" autocomplete=\"new-password\"\u003e @error('password') \u003cspan class=\"invalid-feedback\" role=\"alert\"\u003e \u003cstrong\u003e{% raw %}{{ $message }}{% endraw %}\u003c/strong\u003e \u003c/span\u003e @enderror \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003clabel for=\"password-confirm\" class=\"col-md-4 col-form-label text-md-right\"\u003e{% raw %}{{ trans('Confirm Password') }}{% endraw %}\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"password-confirm\" type=\"password\" class=\"form-control\" name=\"password_confirmation\" autocomplete=\"new-password\"\u003e \u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"form-group row\"\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput type=\"submit\" class=\"btn btn-primary\" value=\"é€å‡º\"\u003e \u003c/div\u003e \u003c/div\u003e \u003c/form\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection å›åˆ°æœƒå“¡ç®¡ç†é¦–é ï¼Œçœ‹åˆ°å‰›å‰›æ–°å¢çš„è³‡æ–™ï¼Œé»æ“Šæœ€å³é‚Šçš„ä¿®æ”¹æŒ‰éˆ•é€²å…¥ä¿®æ”¹é é¢ã€‚ æ¥è‘—åœ¨ controller ä¸­çš„ update() åŠ å…¥ : public function update(Request $request, $id) { $error = 0; $user = User::where('id',$id)-\u003efirst(); // å¦‚æœæœ‰è¼¸å…¥å¯†ç¢¼ if ($request-\u003efilled('password')) { $data = $this-\u003evalidate($request, [ 'name' =\u003e ['required', 'string', 'max:255'], 'email' =\u003e ['required', 'string', 'email', 'max:255'], 'password' =\u003e ['required', 'string', 'min:1', 'confirmed'], 'permission' =\u003e ['required', 'integer', 'max:5', 'min:0'],","date":"2020-04-29","objectID":"/laravel-myweb-4/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 4","uri":"/laravel-myweb-4/#2-æœƒå“¡ä¿®æ”¹"},{"categories":["CODE"],"content":"\r3. æœƒå“¡åˆªé™¤é€™å€‹éƒ¨åˆ†æœ€ç°¡å–®ï¼Œæˆ‘å€‘ç¸½æ˜¯ç¿’æ…£æ¨å»ã€‚ åœ¨ controller ä¸­çš„ destroy() ä¸­åŠ å…¥ : public function destroy($id) { User::destroy($id); return back()-\u003ewith('success', 'æœƒå“¡åˆªé™¤æˆåŠŸ !'); } æ¥è‘—åªè¦é»æ“Šæœƒå“¡ç®¡ç†é¦–é çš„åˆªé™¤æŒ‰éˆ•å³å¯åˆªé™¤è©²ç­†è³‡æ–™ã€‚ ","date":"2020-04-29","objectID":"/laravel-myweb-4/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 4","uri":"/laravel-myweb-4/#3-æœƒå“¡åˆªé™¤"},{"categories":["CODE"],"content":"\rçµèªæˆ‘çŸ¥é“ä½ åœ¨é€™å€‹ç« ç¯€å¯èƒ½æœƒçœ‹å¾—ä¸æ¸…æ¥šï¼Œæ¯”å¦‚ ç‚ºä»€éº¼è¦ return back()-\u003ewith('success', 'æœƒå“¡åˆªé™¤æˆåŠŸ !'); validate æ˜¯ä»€éº¼ ? ç­‰ç­‰è«¸å¦‚æ­¤é¡çš„å•é¡Œå°‡åœ¨ä¸‹ä¸€ç« èªªæ˜ã€‚ ","date":"2020-04-29","objectID":"/laravel-myweb-4/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 4","uri":"/laravel-myweb-4/#çµèª"},{"categories":["CODE"],"content":"Laravel è·¯ç”±ã€åƒæ•¸åŠæŒ‰éˆ•è¨­å®š - Setting Routesã€ Variables and Button","date":"2020-04-28","objectID":"/laravel-myweb-3/","series":["laravel-myweb"],"tags":["laravel","php","html","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 3","uri":"/laravel-myweb-3/"},{"categories":["CODE"],"content":" Laravel è·¯ç”±ã€åƒæ•¸åŠæŒ‰éˆ•è¨­å®š - Setting Routesã€ Variables and Button ","date":"2020-04-28","objectID":"/laravel-myweb-3/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 3","uri":"/laravel-myweb-3/#"},{"categories":["CODE"],"content":"\rå‰è¨€æˆ‘å€‘ä¹‹æ‰€ä»¥çœ‹çš„åˆ°å»ºç«‹çš„ç•«é¢ï¼Œéƒ½æ˜¯ä»¥åœ¨ routes/web.php æ–‡ä»¶å®šç¾©è·¯ç”±é–‹å§‹çš„ã€‚å¯ä»¥é€šéåœ¨ç€è¦½å™¨ä¸­è¼¸å…¥å®šç¾©çš„è·¯ç”±URLä¾†è¨ªå• routes/web.php ä¸­å®šç¾©çš„è·¯ç”±ã€‚ä¸Šä¸€ç¯‡æˆ‘å€‘é›–ç„¶å»ºç«‹äº†å¾Œå°ï¼Œå¯æ˜¯ä¸¦æœªå‰µå»ºè·¯ç”±ã€‚ åœ¨é€™ç¯‡å°‡å»ºç«‹å¾Œå°è·¯ç”±ä¸¦ä¸”æ–°å¢åƒæ•¸ä»¥ä¾¿ä¹‹å¾Œæ‡‰ç”¨ã€‚ ","date":"2020-04-28","objectID":"/laravel-myweb-3/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 3","uri":"/laravel-myweb-3/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. è·¯ç”±å¦‚æœç¾åœ¨æ‰“é–‹è·¯ç”±ï¼Œæœƒçœ‹åˆ° : //ç¶²ç«™é¦–é  Route::get('/', function () { return view('welcome'); }); //ç”¨æˆ¶èªè­‰ Auth::routes(); //ç™»å…¥å¾Œé é¢ Route::get('/home', 'HomeController@index')-\u003ename('home'); æˆ‘å€‘åœ¨ä¹‹ä¸­åŠ å…¥ : Route::get('/manage', function () {return view('manage.index');})-\u003ename('manage'); é€™æ®µçš„æ„æ€æ˜¯åœ¨ http://127.0.0.1/manage çœ‹åˆ° views/manage/index.blade.php çš„å…§å®¹ï¼Œä¸¦å°‡å…¶å‘½åç‚º manageã€‚ ä¹‹å¾Œåªè¦ä½¿ç”¨ route('member') å°±ç­‰åŒå‘¼å« http://127.0.0.1/manageã€‚ ","date":"2020-04-28","objectID":"/laravel-myweb-3/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 3","uri":"/laravel-myweb-3/#1-è·¯ç”±"},{"categories":["CODE"],"content":"\r2. åƒæ•¸æœ‰æ™‚å€™ï¼Œåœ¨ä¸åŒçš„é é¢éƒ½æœƒç”¨åˆ°ç›¸åŒå­—ä¸²ï¼Œæ¯”å¦‚èªª ä¸‹ä¸€ç¯‡ çš„æœƒå“¡ç®¡ç†ï¼Œå°±æœƒä½¿ç”¨åˆ°æ¬Šé™çš„è¨­å®š(æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤)ã€‚ å¦‚æœå¤šå€‹é é¢éƒ½è¦ä½¿ç”¨ï¼Œä½•ä¸å…ˆå®šç¾©ï¼Œä¹‹å¾Œå†å¼•å…¥å³å¯ã€‚åœ¨./app åº•ä¸‹å»ºç«‹ Enum.php ä½œç‚ºæ”¾åƒæ•¸çš„åœ°æ–¹ï¼Œä¸¦ç›´æ¥åœ¨è£¡é¢åŠ ä¸Š : \u003c?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class Enum extends Model { // å¸³è™Ÿæ¬Šé™ const permission = [ '0' =\u003e 'ä¸€èˆ¬ä½¿ç”¨è€…', '1' =\u003e 'é™é–±', '2' =\u003e 'é–±è®€ã€æ–°å¢', '3' =\u003e 'é–±è®€ã€æ–°å¢ã€ç·¨è¼¯', '4' =\u003e 'é–±è®€ã€æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤', '5' =\u003e 'æ‰€æœ‰æ¬Šé™', ]; } é€™æ¨£ä¸€ä¾†ï¼Œä¹‹å¾Œåªè¦ä½¿ç”¨ App/Enum:permission å°±å¯ä»¥å¾—åˆ°é€™å€‹é™£åˆ—ä¸‹çš„å…§å®¹ã€‚ ","date":"2020-04-28","objectID":"/laravel-myweb-3/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 3","uri":"/laravel-myweb-3/#2-åƒæ•¸"},{"categories":["CODE"],"content":"\r3. æŒ‰éˆ•åŒä¸Šï¼Œä¹‹å¾Œä¸€å®šæœƒé‡åˆ°è¦å»ºç«‹ä¸€å †æŒ‰éˆ•çš„ç‹€æ³ï¼Œæˆ‘å€‘å…ˆæŠŠæŒ‰éˆ•ä½œæˆ Function ä¹‹å¾Œç›´æ¥å¼•å…¥å³å¯ã€‚ åœ¨./app åº•ä¸‹å»ºç«‹ Button.php ä½œç‚ºæ”¾æŒ‰éˆ•çš„åœ°æ–¹ï¼Œä¸¦ç›´æ¥åœ¨è£¡é¢åŠ ä¸Š : \u003c?php namespace App; use URL; use Illuminate\\Database\\Eloquent\\Model; class Button extends Model { public static function Detail($id) { $url = URL::full(); echo \"\u003cbutton type=\\\"submit\\\" class='btn btn-sm btn-secondary'\u003e\"; echo \"\u003ci class='fas fa-info-circle'\u003e\u003c/i\u003e \".trans('Detail'); echo \"\u003c/a\u003e\"; } public static function Deleting($id) { echo \"\u003cbutton type=\\\"submit\\\" class='btn btn-sm btn-danger btn-delete' onclick='return confirm(\\\"ç¢ºèªåˆªé™¤?\\\")'\u003e\"; echo \"\u003ci class='fas fa-trash-alt'\u003e\u003c/i\u003e \".trans('Delete'); echo \"\u003c/button\u003e\"; } public static function Edit($id) { echo \"\u003cbutton type=\\\"submit\\\" class='btn btn-sm btn-success' formtarget='_blank'\u003e\"; echo \"\u003ci class='fas fa-pencil-alt'\u003e\u003c/i\u003e \" . trans('Edit'); echo \"\u003c/button\u003e\"; } public static function Create() { $url = URL::full(); echo \"\u003ca class='btn btn-sm btn-primary' href='{$url}/create'\u003e\"; echo \"\u003ci class='fas fa-plus'\u003e\u003c/i\u003e \".trans('Create'); echo \"\u003c/a\u003e\"; } public static function Reset() { echo \"\u003cp class='text-right'\u003e\"; echo \"\u003ca class='btn btn-sm btn-reset btn-danger' href='reset.php'\u003e\"; echo \"\u003ci class='fas fa-undo-alt'\u003e\u003c/i\u003e \".trans('Reset'); echo \"\u003c/a\u003e\"; echo \"\u003c/p\u003e\"; } public static function To($url=false,$to, $txt, $query=\"\", $class=\"btn-secondary\", $fas=\"list-ol\", $confirm=false) { $url = $url?URL::full():''; if ($confirm == true) { $confirm = 'onclick=\"return confirm(\\'ç¢ºèªåˆªé™¤?\\')\"'; } if ($url) { echo \"\u003ca class='btn btn-sm {$class}' href='{$url}/{$to}/{$query}' {$confirm}\u003e\"; } else{ echo \"\u003ca class='btn btn-sm {$class}' href='{$to}/{$query}' {$confirm}\u003e\"; } echo \"\u003ci class='fas fa-{$fas}'\u003e\u003c/i\u003e {$txt}\"; echo \"\u003c/a\u003e\"; } public static function GoBack($url = \"#\") { $target_url = ($url) ? $url: URL::previous(); echo \"\u003ca class='btn btn-sm btn-default' href='{$target_url}'\u003e\"; echo \"\u003ci class='fas fa-arrow-left'\u003e\u003c/i\u003e \".trans('Previous'); echo \"\u003c/a\u003e\"; } } é€™æ¨£ä¸€ä¾†ï¼Œä¹‹å¾Œåªè¦ä½¿ç”¨ App\\Button::GoBack(route('manage')) å°±å¯ä»¥å›åˆ°å¾Œå°é¦–é ã€‚ Hope it will help ! ","date":"2020-04-28","objectID":"/laravel-myweb-3/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 3","uri":"/laravel-myweb-3/#3-æŒ‰éˆ•"},{"categories":["CODE"],"content":"Laravel åŸºæœ¬è¨­ç½®ä»¥åŠå‰å¾Œå°å…¬ç‰ˆ - Basic setup and template.","date":"2020-04-22","objectID":"/laravel-myweb-2/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 2","uri":"/laravel-myweb-2/"},{"categories":["CODE"],"content":" Laravel åŸºæœ¬è¨­ç½®ä»¥åŠå‰å¾Œå°å…¬ç‰ˆ - Basic setup and template. ","date":"2020-04-22","objectID":"/laravel-myweb-2/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 2","uri":"/laravel-myweb-2/#"},{"categories":["CODE"],"content":"\rå‰è¨€ä¸Šä¸€ç¯‡é€²è¡Œäº† Laravel çš„å»ºç«‹ä»¥åŠåŸºç¤æœƒå“¡çš„è¨­ç½®ï¼Œé€™ç¯‡å°‡æœƒæåˆ°å¦‚ä½•è¨­ç½®æ™‚å€ã€èªè¨€ä»¥åŠå»ºç«‹è‡ªå·±çš„é é¢å…¬ç‰ˆã€‚ ","date":"2020-04-22","objectID":"/laravel-myweb-2/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 2","uri":"/laravel-myweb-2/#å‰è¨€"},{"categories":["CODE"],"content":"\r1. åŸºæœ¬è¨­å®šæ‰“é–‹ ./config/app.php ï¼Œé€™å€‹æª”æ¡ˆå…§å°±æ˜¯å°ç¶²ç«™çš„åŸºç¤è¨­å®šï¼Œèªç³»ã€æ™‚é–“ç­‰ç­‰ã€‚æœ‰è¢« env æ‹¬å¼§èµ·ä¾†çš„å…§å®¹æœƒæ¡ç´ .env æª”æ¡ˆçš„å…§å®¹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æˆ‘çš„è¨­å®šï¼Œå¯ä»¥æ ¹æ“šå€‹äººéœ€æ±‚æ›´æ”¹ã€‚ 'timezone' =\u003e 'Asia/Taipei', // æ™‚é–“ 'locale' =\u003e 'zh-TW', // èªç³» 'fallback_locale' =\u003e 'zh-TW', ","date":"2020-04-22","objectID":"/laravel-myweb-2/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 2","uri":"/laravel-myweb-2/#1-åŸºæœ¬è¨­å®š"},{"categories":["CODE"],"content":"\r2. èªè¨€è¨­ç½®å¦‚æœæ ¹æ“šä¸Šé¢é€²è¡Œæ›´æ”¹å¾Œï¼Œåœ¨ä¸Šä¸€ç¯‡å»ºç«‹çš„æœƒå“¡è¨­ç½®æœƒç™¼ç¾é‚„æ˜¯è‹±æ–‡ï¼Œé€™æ˜¯å› ç‚ºä»–ä¸¦æ²’æœ‰æ‰¾åˆ° zh-TW çš„èªè¨€åŒ…ã€‚é€™æ™‚å€™è¦åˆ° ./resources/lang åº•ä¸‹å»ºç«‹ zh-TW çš„è³‡æ–™å¤¾ï¼Œä¸¦å°‡ èªè¨€åŒ… æ”¾åˆ°åº•ä¸‹ï¼Œé‡æ–°æ•´ç†å¾Œå°±æœƒç¿»è­¯æˆç¹é«”ä¸­æ–‡äº†ã€‚ç·Šæ¥è‘—åœ¨åŒå€‹è³‡æ–™å¤¾åº•ä¸‹å»ºç«‹ä¸€å€‹ myweb.php åšç‚ºæ—¥å¾Œè¦ç¿»è­¯çš„ç¹ä¸­èªè¨€åŒ…ã€‚ Tip\ré€™é‚Šèªªä¸€å€‹æ¯”è¼ƒå·åƒæ­¥çš„æ–¹æ³•ï¼Œå°±æ˜¯åœ¨ lang è³‡æ–™å¤¾åº•ä¸‹ç›´æ¥å»ºç«‹ zh-TW.json ï¼Œå°‡æ‰€æœ‰è¦ç¿»è­¯çš„æ–‡å­—å¡«é€²å»ï¼Œä¹‹å¾Œåªè¦ç”¨ {{ __('language') }} å³å¯ã€‚ç¼ºé»æ˜¯ä¹‹å¾Œå†åšèªè¨€åˆ‡æ›æœƒæœ‰éƒ¨åˆ†å•é¡Œï¼Œä»¥åŠä¸ç¾è§€å’Œåˆ†é¡å•é¡Œã€‚å„ªé»å°±æ˜¯ç¶²ç«™åªéœ€è¦ä¸€ç¨®èªè¨€çš„è©±æœƒå¾ˆæ–¹ä¾¿!\r","date":"2020-04-22","objectID":"/laravel-myweb-2/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 2","uri":"/laravel-myweb-2/#2-èªè¨€è¨­ç½®"},{"categories":["CODE"],"content":"\r3. é é¢å…¬ç‰ˆè£½ä½œé é¢å…¬ç‰ˆçš„å¥½è™•å°±æ˜¯è¦å‰µå»ºæ–°çš„é é¢æ™‚å¯ä»¥ç›´æ¥å¥—ç”¨å…¬ç‰ˆï¼Œçœå»æ™‚é–“åŠéº»ç…©ã€‚ä»¥ä¸‹æœƒå°‡å‰å°åŠå¾Œå°åˆ†é–‹ã€‚ é¦–å…ˆä»‹ç´¹ä½ çš„é é¢æœƒè¢«æ”¾ç½®åœ¨ ./resources/views åº•ä¸‹ï¼Œç”±æ–¼ä¹‹å‰æœ‰å»ºç«‹éæœƒå“¡ï¼Œæ‰€ä»¥è£¡é¢å·²ç¶“æœ‰ä¸€äº›é é¢åŠè³‡æ–™å¤¾å­˜åœ¨ã€‚é€™æ™‚å€™åœ¨ å…ˆæŠŠlayoutsæ”¹åæˆ _layouts ä¸¦åœ¨ åº•ä¸‹å»ºç«‹ manage å’Œ home å…©å€‹è³‡æ–™å¤¾ï¼Œä¸¦å°‡ app.blade.php è¤‡è£½é€²å…©å€‹è³‡æ–™å¤¾ã€‚ Info\ré †å¸¶ä¸€æï¼Œä¹‹å¾Œè¦å»ºç«‹é é¢è¦æª”æ¡ˆåç¨±è¦å›ºå®šæ˜¯ é é¢åç¨±.blade.php\rç„¶å¾Œæ‰“é–‹å…¶ä¸­çš„ä¸€å€‹ app.blade.php ï¼ŒæŠŠ \u003cnav\u003e...\u003c/nav\u003e æ•´æ®µç¨‹å¼ç¢¼å‰ªä¸‹ä¸¦åœ¨ views åº•ä¸‹å»ºç«‹ä¸€å€‹ _partials è³‡æ–™å¤¾ï¼Œæ¥è‘—åœ¨ _partials åº•ä¸‹å»ºç«‹ manage å’Œ home å…©å€‹è³‡æ–™å¤¾ï¼Œä¸¦åœ¨åº•ä¸‹å„å»ºç«‹ä¸€å€‹ nav.blade.php çš„è¦–åœ–ã€‚æœ€å¾Œå°‡å‰›å‰›å‰ªä¸‹çš„ç¨‹å¼ç¢¼è²¼é€²å»ï¼Œè³‡æ–™å¤¾å…§å®¹æœƒé•·å¾—è·Ÿä¸‹åœ–ä¸€æ¨£ã€‚ views\rå¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘åªè¦å¼•å…¥ nav è‡³ app.blade.phpæ¯ç‰ˆå³å¯ã€‚ \u003cbody\u003e \u003cdiv id=\"app\"\u003e @include('_partials.home.nav') \u003cmain class=\"py-4\"\u003e @yield('content') \u003c/main\u003e \u003c/div\u003e \u003c/body\u003e ç·Šæ¥è‘—åˆ° http://127.0.0.1:8000/login é é¢ç™¼ç¾å ±éŒ¯ï¼ŒView [layouts.app] not found. æ˜¯å› ç‚ºå‰›å‰›å°‡è³‡æ–™çš„è·¯å¾‘æ›´å‹•ï¼Œåªè¦å°‡auth/login.blade.php ä¸­çš„ @extends('layouts.app') æ”¹æˆ @extends('_layouts.home.app') å³å¯ã€‚ å…¶ä»–é é¢ä¹Ÿæ˜¯ä¸€æ¨£çš„æ–¹æ³•ï¼Œä¹‹å¾Œå‰µæ–°é é¢åªè¦å…ˆæŠŠä¸‹é¢è²¼ä¸Šï¼Œå†æ–°å¢ä½ éœ€è¦çš„å…ƒç´ å³å¯ã€‚ @extends('_layouts.home.app') @section('content') ä½ è¦çš„å…§å®¹ @endsection å°±æ‹¿ welcome.blade.php ä¾†æ¸¬è©¦ï¼ŒæŠŠå…§å®¹æ”¹æˆ @extends('_layouts.home.app') @section('content') \u003cdiv class=\"container\"\u003e \u003cdiv class=\"card\"\u003e \u003cdiv class=\"card-header\"\u003e æ¸¬è©¦ \u003c/div\u003e \u003cdiv class=\"card-body\"\u003e TEST \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e @endsection å‘ˆç¾çš„æ•ˆæœå¦‚ä¸‹åœ– example\r","date":"2020-04-22","objectID":"/laravel-myweb-2/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 2","uri":"/laravel-myweb-2/#3-é é¢å…¬ç‰ˆ"},{"categories":["CODE"],"content":"\rçµèªä¹¾æ·¨çš„ç‰ˆé¢ğŸ˜Š ","date":"2020-04-22","objectID":"/laravel-myweb-2/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 2","uri":"/laravel-myweb-2/#çµèª"},{"categories":["EXECUTION"],"content":"å¦‚ä½•åœ¨markdownä¸­é¡¯ç¤ºé›™å¤§æ‹¬è™Ÿ - How to translate double big parantheses in markdown","date":"2020-04-22","objectID":"/translate-big-parantheses-markdown/","series":null,"tags":["jekyll","liquid","markdown"],"title":"Translate Big Parantheses in Markdown","uri":"/translate-big-parantheses-markdown/"},{"categories":["EXECUTION"],"content":" å¦‚ä½•åœ¨markdownä¸­é¡¯ç¤ºé›™å¤§æ‹¬è™Ÿ - How to translate double big parantheses in markdown ","date":"2020-04-22","objectID":"/translate-big-parantheses-markdown/:0:0","series":null,"tags":["jekyll","liquid","markdown"],"title":"Translate Big Parantheses in Markdown","uri":"/translate-big-parantheses-markdown/#"},{"categories":["EXECUTION"],"content":"\rå‰è¨€ç”±æ–¼jekyll ä½¿ç”¨liquid çš„é—œä¿‚ï¼Œåœ¨ POST ä¸­ä½¿ç”¨ {% raw %} {{ }} {% endraw %} æœƒç„¡æ³•æ­£å¸¸é¡¯ç¤ºã€‚ ","date":"2020-04-22","objectID":"/translate-big-parantheses-markdown/:1:0","series":null,"tags":["jekyll","liquid","markdown"],"title":"Translate Big Parantheses in Markdown","uri":"/translate-big-parantheses-markdown/#å‰è¨€"},{"categories":["EXECUTION"],"content":"\rè§£æ±º {{ openTag }} raw %} {% raw %} {{ åŠ å…¥rawå³å¯ }} {% endraw %} {{ openTag }} endraw %} Info\rä¹‹å¾Œè£œå……å¦‚ä½•é¡¯ç¤º {% raw %} {% raw %} {% endraw %}\rHope it will help ! ","date":"2020-04-22","objectID":"/translate-big-parantheses-markdown/:2:0","series":null,"tags":["jekyll","liquid","markdown"],"title":"Translate Big Parantheses in Markdown","uri":"/translate-big-parantheses-markdown/#è§£æ±º"},{"categories":["CODE"],"content":"Laravel ç¶²ç«™è¨­ç½®å’Œé è¨ˆè¨­è¨ˆç›®æ¨™ - Website settings and expected design goals","date":"2020-04-21","objectID":"/laravel-myweb-1/","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 1","uri":"/laravel-myweb-1/"},{"categories":["CODE"],"content":" Laravel ç¶²ç«™è¨­ç½®å’Œé è¨ˆè¨­è¨ˆç›®æ¨™ - Website settings and expected design goals ","date":"2020-04-21","objectID":"/laravel-myweb-1/:0:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 1","uri":"/laravel-myweb-1/#"},{"categories":["CODE"],"content":"\rå‰è¨€å‰é™£å­é–‹å§‹æ¥è§¸ Laravel ï¼Œç®—æ˜¯ç¬¬ä¸€å€‹æ¥è§¸çš„MVCæ¡†æ¶ ï¼Œå­¸äº†ä¸€æ®µæ™‚é–“å¾Œå°±æƒ³åšä¸€å€‹å°å“ç•¶ä½œç·´ç¿’ã€‚é€™å€‹ç·´ç¿’çš„ç›®çš„å°±æ˜¯è®“æˆ‘ç†Ÿæ‚‰ Modelã€Viewã€Controller ä¸‰è€…ä¹‹é–“çš„æ„›æ¨ç³¾è‘›ğŸ˜‚ã€‚ä¸æœƒè¬›å¾—å¾ˆç´°ï¼Œå°±æ˜¯åˆ†äº«æˆ‘é‡åˆ°çš„å•é¡Œä»¥åŠè§£æ±ºçš„æ–¹æ³•ã€‚ ","date":"2020-04-21","objectID":"/laravel-myweb-1/:1:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 1","uri":"/laravel-myweb-1/#å‰è¨€"},{"categories":["CODE"],"content":"\rä½¿ç”¨å·¥å…· å·¥å…· Laravel PHP MySQL ç‰ˆæœ¬ 5.8 7.2 5.7 ","date":"2020-04-21","objectID":"/laravel-myweb-1/:2:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 1","uri":"/laravel-myweb-1/#ä½¿ç”¨å·¥å…·"},{"categories":["CODE"],"content":"\rç›®æ¨™å®Œæˆä¸€å€‹å¾Œç«¯æ§åˆ¶å‰å°ç™¼å¸ƒæ–‡ç« ã€å°è¦½åˆ—ã€æ¶ˆæ¯ã€è¼ªæ’­ã€è¨Šæ¯çš„ç¶²ç«™ã€‚ ","date":"2020-04-21","objectID":"/laravel-myweb-1/:3:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 1","uri":"/laravel-myweb-1/#ç›®æ¨™"},{"categories":["CODE"],"content":"\ræˆå“åœ–\rfontend\rbackend\r","date":"2020-04-21","objectID":"/laravel-myweb-1/:4:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 1","uri":"/laravel-myweb-1/#æˆå“åœ–"},{"categories":["CODE"],"content":"\rè¨­ç½®é€™æ¬¡ä½¿ç”¨çš„æ˜¯5.8 ç‰ˆæœ¬çš„Laravel ï¼Œæ‰€ä»¥å…ˆå»ºç«‹ä¸€å€‹è³‡æ–™å¤¾ myweb ã€‚ å»ºç«‹Laravel 5.8 composer create-project --prefer-dist laravel/laravel myweb \"5.8.*\" ä¹‹å¾Œæ»‘é€²å» cd myweb æ³¨æ„\rè«‹è‡ªè¡Œå®‰è£æ‰€éœ€è¦çš„ç’°å¢ƒåŠå¥—ä»¶ï¼ŒComposer å’Œ xampp ç­‰ç­‰\rä¹‹å¾Œåœ¨ MySQL å»ºç«‹è³‡æ–™åº« myweb ï¼Œ ä¸¦åœ¨ .env ä¸­å°‡è³‡æ–™åº«ç›¸é—œè³‡æ–™å¡«ä¸Šã€‚ DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=myweb DB_USERNAME=username DB_PASSWORD=password è³‡æ–™åº«è¨­å®šå®Œå¾Œï¼ŒLaravel å‰µå»ºå®Œæˆå¾Œ php artisan make:authï¼Œé€™ä¸€æ­¥çš„ç›®çš„æ˜¯å»ºç«‹åŸºæœ¬çš„ç”¨æˆ¶èªè­‰ï¼Œå¦‚æœä¹‹å¾Œä½ è¦è‡ªå·±å»ºç«‹ä¹Ÿè¡Œï¼Œå•é¡Œä¸å¤§ã€‚ æ¥è‘—åœ¨è³‡æ–™åº«å»ºç«‹è³‡æ–™è¡¨ï¼Œé‹è¡Œphp artisan migrateï¼Œæ²’æ„å¤–æ‡‰è©²æ˜¯æœƒé †åˆ©æˆåŠŸã€‚ ä½ åˆ°phpmyadminçš„mywebè³‡æ–™åº«æ‡‰è©²å¯ä»¥çœ‹åˆ°å»ºç«‹å¥½çš„ä¸‰å€‹è³‡æ–™è¡¨ã€‚ æœ€å¾ŒåŸ·è¡Œ php artisan serve é–‹å§‹é‹è¡Œ laravel ï¼Œä¸¦åˆ° ç¶²å€http://127.0.0.1:8000/ï¼ŒæˆåŠŸçœ‹åˆ°ä¸‹åœ–å°±æ²’äº‹å¯ä»¥å»çœ‹å€‹Laravel Document å£“å£“é©šäº†ã€‚ laravel\râ¤â¤ è²¼å¿ƒå°æé†’ï¼Œè¨˜å¾—ç‰ˆæ§ã„› â¤â¤ ","date":"2020-04-21","objectID":"/laravel-myweb-1/:5:0","series":["laravel-myweb"],"tags":["laravel","php","html","javascript","css","bootstrap","backend"],"title":"Laravel Backend Control Website - 1","uri":"/laravel-myweb-1/#è¨­ç½®"},{"categories":["EXECUTION"],"content":"è§£æ±ºJekyll serve ç„¡æ³•é—œé–‰  - Jekyll serve service worker","date":"2020-04-18","objectID":"/stop-jekyll-serve/","series":null,"tags":["jekyll","cookie"],"title":"Stop Jekyll serve (127.0.0.1:4000)","uri":"/stop-jekyll-serve/"},{"categories":["EXECUTION"],"content":" è§£æ±ºJekyll serve ç„¡æ³•é—œé–‰ - Jekyll serve service worker ","date":"2020-04-18","objectID":"/stop-jekyll-serve/:0:0","series":null,"tags":["jekyll","cookie"],"title":"Stop Jekyll serve (127.0.0.1:4000)","uri":"/stop-jekyll-serve/#"},{"categories":["EXECUTION"],"content":"\rå‰è¨€ä¸€èˆ¬ä¾†è¬›æˆ‘å€‘é—œé–‰æœ¬åœ°çš„jekyll serve éƒ½æ˜¯ä½¿ç”¨ ctrl + c ï¼Œå¯æ˜¯ç•¶ä½ ä¸‹æ¬¡å†æ¬¡é‹è¡Œ jekyll serve æ™‚ç™¼ç¾ä¸Šæ¬¡çš„é‚„åœ¨ ã€‚ ","date":"2020-04-18","objectID":"/stop-jekyll-serve/:1:0","series":null,"tags":["jekyll","cookie"],"title":"Stop Jekyll serve (127.0.0.1:4000)","uri":"/stop-jekyll-serve/#å‰è¨€"},{"categories":["EXECUTION"],"content":"\rè§£æ±ºé€™æ™‚åªè¦æŠŠ127.0.0.1ä¸­çš„ Service Workers Cookie åˆªé™¤å³å¯ï¼Œä»¥GOOGLEç€è¦½å™¨ç‚ºä¾‹ï¼Œç›®æ¨™å°±æ˜¯ä¸‹åœ–ç´…æ¡†è™•çš„Cookieã€‚ Basic configuration preview\rå¦‚æœä½ æƒ³äº†è§£æ›´å¤š Hope it will help! ","date":"2020-04-18","objectID":"/stop-jekyll-serve/:2:0","series":null,"tags":["jekyll","cookie"],"title":"Stop Jekyll serve (127.0.0.1:4000)","uri":"/stop-jekyll-serve/#è§£æ±º"},{"categories":["CODE"],"content":"Allow the attribute as you want.","date":"2020-04-13","objectID":"/ckeditor-htmlpurifier-allow-attribute/","series":null,"tags":["htmlpurifier","ckeditor","php","html"],"title":"Ckeditor + Htmlpurifier allow attribute","uri":"/ckeditor-htmlpurifier-allow-attribute/"},{"categories":["CODE"],"content":" Allow the attribute as you want. I created a page manager in the backstage, and it edit by the ckeditor. Also, I use Htmlpurifier to defense the xss injection. But Htmlpurifier will block the attribute like Bootstrap tabs plugins. So the way I used to allow attribute while using Htmlpurifier. Here is the document. For example, I want to purify the html below. \u003cdiv class=\"bootstrap-tabs\" data-tab-set-title=\"Program Introduction\"\u003e\u003c/div\u003e If you use the simple purifier like this, function xss_filter($content){ $purifier = new HTMLPurifier($config); $cleanContent = $purifier-\u003epurify($content); return $cleanContent; } You will get the output below, \u003cdiv class=\"bootstrap-tabs\"\u003e\u003c/div\u003e The data-tab-set-title is disabled. So, add the code below and you will get what you want. $config = HTMLPurifier_Config::createDefault(); $def = $config-\u003egetHTMLDefinition(true); $def-\u003eaddAttribute('div', 'data-tab-set-title', 'CDATA'); Hope it will help ! ","date":"2020-04-13","objectID":"/ckeditor-htmlpurifier-allow-attribute/:0:0","series":null,"tags":["htmlpurifier","ckeditor","php","html"],"title":"Ckeditor + Htmlpurifier allow attribute","uri":"/ckeditor-htmlpurifier-allow-attribute/#"},{"categories":null,"content":"\råˆ†äº«ä¸€äº›é‡åˆ°çš„å•é¡ŒåŠè§£æ±ºæ–¹æ³• ä¸­æŒ‡aå¤¢\r","date":"2016-08-24","objectID":"/about/:0:0","series":null,"tags":null,"title":"About me","uri":"/about/#åˆ†äº«ä¸€äº›é‡åˆ°çš„å•é¡ŒåŠè§£æ±ºæ–¹æ³•"}]